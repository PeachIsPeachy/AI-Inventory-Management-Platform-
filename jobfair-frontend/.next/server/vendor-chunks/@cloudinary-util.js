"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@cloudinary-util";
exports.ids = ["vendor-chunks/@cloudinary-util"];
exports.modules = {

/***/ "(ssr)/./node_modules/@cloudinary-util/url-loader/dist/index.js":
/*!****************************************************************!*\
  !*** ./node_modules/@cloudinary-util/url-loader/dist/index.js ***!
  \****************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\nvar __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __export = (target, all) => {\n  for (var name in all)\n    __defProp(target, name, { get: all[name], enumerable: true });\n};\nvar __copyProps = (to, from, except, desc) => {\n  if (from && typeof from === \"object\" || typeof from === \"function\") {\n    for (let key of __getOwnPropNames(from))\n      if (!__hasOwnProp.call(to, key) && key !== except)\n        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });\n  }\n  return to;\n};\nvar __toCommonJS = (mod) => __copyProps(__defProp({}, \"__esModule\", { value: true }), mod);\n\n// src/index.ts\nvar src_exports = {};\n__export(src_exports, {\n  constructCloudinaryUrl: () => constructCloudinaryUrl,\n  effects: () => effects,\n  position: () => position,\n  primary: () => primary,\n  text: () => text,\n  transformationPlugins: () => transformationPlugins\n});\nmodule.exports = __toCommonJS(src_exports);\n\n// src/lib/cloudinary.ts\nvar import_zod27 = __webpack_require__(/*! zod */ \"(ssr)/./node_modules/zod/lib/index.js\");\nvar import_url_gen = __webpack_require__(/*! @cloudinary/url-gen */ \"(ssr)/./node_modules/@cloudinary/url-gen/index.cjs\");\nvar import_util5 = __webpack_require__(/*! @cloudinary-util/util */ \"(ssr)/./node_modules/@cloudinary-util/util/dist/index.js\");\n\n// src/plugins/abr.ts\nvar abr_exports = {};\n__export(abr_exports, {\n  assetTypes: () => assetTypes,\n  plugin: () => plugin,\n  props: () => props\n});\nvar import_zod = __webpack_require__(/*! zod */ \"(ssr)/./node_modules/zod/lib/index.js\");\nvar props = {\n  streamingProfile: import_zod.z.string().describe(JSON.stringify({\n    text: \"The streaming profile to apply when delivering a video using adaptive bitrate streaming.\",\n    url: \"https://cloudinary.com/documentation/transformation_reference#sp_streaming_profile\"\n  })).optional()\n};\nvar assetTypes = [\"video\", \"videos\"];\nfunction plugin(props21) {\n  const { cldAsset, options } = props21;\n  const { streamingProfile } = options;\n  if (typeof streamingProfile === \"string\") {\n    cldAsset.addTransformation(`sp_${streamingProfile}`);\n  }\n  return {};\n}\n\n// src/plugins/cropping.ts\nvar cropping_exports = {};\n__export(cropping_exports, {\n  assetTypes: () => assetTypes2,\n  plugin: () => plugin2,\n  props: () => props2\n});\nvar import_zod3 = __webpack_require__(/*! zod */ \"(ssr)/./node_modules/zod/lib/index.js\");\n\n// src/constants/parameters.ts\nvar parameters_exports = {};\n__export(parameters_exports, {\n  angle: () => angle,\n  aspectRatio: () => aspectRatio,\n  aspectRatioModesEnum: () => aspectRatioModesEnum,\n  crop: () => crop,\n  cropModesEnum: () => cropModesEnum,\n  flags: () => flags,\n  flagsEnum: () => flagsEnum,\n  format: () => format,\n  gravity: () => gravity,\n  height: () => height,\n  width: () => width,\n  x: () => x,\n  y: () => y,\n  zoom: () => zoom\n});\nvar import_zod2 = __webpack_require__(/*! zod */ \"(ssr)/./node_modules/zod/lib/index.js\");\nvar cropModesEnum = import_zod2.z.enum([\n  \"auto\",\n  \"fill\",\n  \"lfill\",\n  \"fill_pad\",\n  \"crop\",\n  \"thumb\",\n  \"scale\",\n  \"fit\",\n  \"limit\",\n  \"mfit\",\n  \"pad\",\n  \"lpad\",\n  \"mpad\",\n  \"imagga_scale\",\n  \"imagga_crop\"\n]);\nvar flagsEnum = import_zod2.z.enum([\n  \"animated\",\n  \"any_format\",\n  \"apng\",\n  \"attachment\",\n  \"awebp\",\n  \"clip\",\n  \"clip_evenodd\",\n  \"cutter\",\n  \"force_icc\",\n  \"force_strip\",\n  \"getinfo\",\n  \"group4\",\n  \"hlsv3\",\n  \"ignore_aspect_ratio\",\n  \"ignore_mask_channels\",\n  \"immutable_cache\",\n  \"keep_attribution\",\n  \"keep_dar\",\n  \"keep_iptc\",\n  \"layer_apply\",\n  \"lossy\",\n  \"mono\",\n  \"no_overflow\",\n  \"no_stream\",\n  \"png8_fl_png24_fl_png32\",\n  \"preserve_transparency\",\n  \"progressive\",\n  \"rasterize\",\n  \"region_relative\",\n  \"relative\",\n  \"replace_image\",\n  \"sanitize\",\n  \"splice\",\n  \"streaming_attachment\",\n  \"strip_profile\",\n  \"text_disallow_overflow\",\n  \"text_no_trim\",\n  \"tiff8_lzw\",\n  \"tiled\",\n  \"truncate_ts\",\n  \"waveform\"\n]);\nvar angle = {\n  qualifier: \"a\",\n  schema: import_zod2.z.union([\n    import_zod2.z.string(),\n    import_zod2.z.number()\n  ]).describe(JSON.stringify({\n    text: \"Rotates or flips an asset by the specified number of degrees or automatically according to its orientation or available metadata.\",\n    url: \"https://cloudinary.com/documentation/transformation_reference#a_angle\"\n  }))\n};\nvar aspectRatioModesEnum = import_zod2.z.enum([\n  \"vflip\",\n  \"hflip\",\n  \"ignore\",\n  \"auto_right\",\n  \"auto_left\"\n]);\nvar aspectRatioSchema = import_zod2.z.union([\n  import_zod2.z.number(),\n  aspectRatioModesEnum,\n  import_zod2.z.string()\n]);\nvar aspectRatio = {\n  qualifier: \"ar\",\n  schema: aspectRatioSchema.describe(JSON.stringify({\n    text: \"Crops or resizes the asset to a new aspect ratio.\",\n    url: \"https://cloudinary.com/documentation/transformation_reference#ar_aspect_ratio\"\n  }))\n};\nvar cropSchema = cropModesEnum;\nvar crop = {\n  qualifier: \"c\",\n  schema: cropSchema.describe(JSON.stringify({\n    text: \"Mode to use when cropping an asset.\",\n    url: \"https://cloudinary.com/documentation/transformation_reference#c_crop_resize\"\n  }))\n};\nvar flags = {\n  qualifier: \"fl\",\n  schema: import_zod2.z.union([\n    flagsEnum,\n    import_zod2.z.array(flagsEnum)\n  ]).describe(JSON.stringify({\n    text: \"Alters the regular behavior of another transformation or the overall delivery behavior.\",\n    url: \"https://cloudinary.com/documentation/transformation_reference#fl_flag\"\n  }))\n};\nvar format = {\n  qualifier: \"f\",\n  // @TODO: enum\n  schema: import_zod2.z.string().describe(JSON.stringify({\n    text: \"Converts (if necessary) and delivers an asset in the specified format regardless of the file extension used in the delivery URL.\",\n    url: \"https://cloudinary.com/documentation/transformation_reference#f_format\"\n  }))\n};\nvar gravitySchema = import_zod2.z.string();\nvar gravity = {\n  qualifier: \"g\",\n  schema: gravitySchema.describe(JSON.stringify({\n    text: \"Determines which part of an asset to focus on. Note: Default of auto is applied for supported crop modes only.\",\n    url: \"https://cloudinary.com/documentation/transformation_reference#g_gravity\"\n  }))\n};\nvar heightSchema = import_zod2.z.union([\n  import_zod2.z.number(),\n  import_zod2.z.string()\n]);\nvar height = {\n  qualifier: \"h\",\n  schema: heightSchema.describe(JSON.stringify({\n    text: \"A qualifier that determines the height of a transformed asset or an overlay.\",\n    url: \"https://cloudinary.com/documentation/transformation_reference#h_height\"\n  }))\n};\nvar widthSchema = import_zod2.z.union([\n  import_zod2.z.number(),\n  import_zod2.z.string()\n]);\nvar width = {\n  qualifier: \"w\",\n  schema: widthSchema.describe(JSON.stringify({\n    text: \"A qualifier that sets the desired width of an asset using a specified value, or automatically based on the available width.\",\n    url: \"https://cloudinary.com/documentation/transformation_reference#w_width\"\n  }))\n};\nvar x = {\n  qualifier: \"x\",\n  schema: import_zod2.z.union([\n    import_zod2.z.string(),\n    import_zod2.z.number()\n  ]).describe(JSON.stringify({\n    text: \"Adjusts the starting location or offset of the x axis.\",\n    url: \"https://cloudinary.com/documentation/transformation_reference#x_y_coordinates\"\n  }))\n};\nvar y = {\n  qualifier: \"y\",\n  schema: import_zod2.z.union([\n    import_zod2.z.string(),\n    import_zod2.z.number()\n  ]).describe(JSON.stringify({\n    text: \"Adjusts the starting location or offset of the y axis.\",\n    url: \"https://cloudinary.com/documentation/transformation_reference#x_y_coordinates\"\n  }))\n};\nvar zoomSchema = import_zod2.z.string();\nvar zoom = {\n  schema: zoomSchema.describe(JSON.stringify({\n    text: \"Controls how close to crop to the detected coordinates when using face-detection, custom-coordinate, or object-specific gravity.\",\n    url: \"https://cloudinary.com/documentation/transformation_reference#z_zoom\"\n  }))\n};\n\n// src/lib/transformations.ts\nfunction constructTransformation({ prefix, qualifier, value, converters }) {\n  let transformation = \"\";\n  if (prefix) {\n    transformation = `${prefix}_`;\n  }\n  let transformationValue = value;\n  converters?.forEach(({ test, convert }) => {\n    if (!test(transformationValue))\n      return;\n    transformationValue = convert(transformationValue);\n  });\n  if (transformationValue === true || transformationValue === \"true\") {\n    return `${transformation}${qualifier}`;\n  }\n  if (typeof transformationValue === \"string\" || typeof transformationValue === \"number\") {\n    if (prefix) {\n      return `${transformation}${qualifier}:${transformationValue}`;\n    } else {\n      return `${qualifier}_${transformationValue}`;\n    }\n  }\n}\nfunction promptArrayToString(promptArray) {\n  return `(${promptArray.join(\";\")})`;\n}\nfunction normalizeNumberParameter(param) {\n  if (typeof param !== \"string\")\n    return param;\n  return parseInt(param);\n}\n\n// src/plugins/cropping.ts\nvar cropsAspectRatio = [\"auto\", \"crop\", \"fill\", \"lfill\", \"fill_pad\", \"thumb\"];\nvar cropsGravityAuto = [\"auto\", \"crop\", \"fill\", \"lfill\", \"fill_pad\", \"thumb\"];\nvar cropsWithZoom = [\"crop\", \"thumb\"];\nvar DEFAULT_CROP = \"limit\";\nvar cropOptionsSchema = import_zod3.z.object({\n  aspectRatio: aspectRatio.schema.optional(),\n  type: crop.schema,\n  gravity: gravity.schema.optional(),\n  height: height.schema.optional(),\n  width: width.schema.optional(),\n  zoom: zoom.schema.optional(),\n  source: import_zod3.z.boolean().optional()\n});\nvar props2 = {\n  aspectRatio: aspectRatio.schema.optional(),\n  crop: import_zod3.z.union([\n    crop.schema,\n    cropOptionsSchema,\n    import_zod3.z.array(cropOptionsSchema)\n  ]).default(DEFAULT_CROP).optional(),\n  gravity: gravity.schema.optional(),\n  zoom: zoom.schema.optional()\n};\nvar assetTypes2 = [\"image\", \"images\", \"video\", \"videos\"];\nfunction plugin2(props21) {\n  const { cldAsset, options } = props21;\n  let crops = [];\n  if (typeof options.crop === \"string\" || typeof options.crop === \"undefined\") {\n    crops.push({\n      aspectRatio: options.aspectRatio,\n      width: options.width,\n      height: options.height,\n      gravity: options.gravity,\n      type: options.crop || DEFAULT_CROP,\n      zoom: options.zoom\n    });\n  } else if (typeof options.crop === \"object\" && !Array.isArray(options.crop)) {\n    crops.push(options.crop);\n  } else if (Array.isArray(options.crop)) {\n    crops = options.crop;\n  }\n  if (crops.length === 1 && crops[0].source === true) {\n    crops.push({\n      aspectRatio: options.aspectRatio,\n      width: options.width,\n      height: options.height,\n      gravity: options.gravity,\n      type: DEFAULT_CROP,\n      zoom: options.zoom\n    });\n  }\n  let finalTransformations = [];\n  let sourceTransformations = [];\n  for (const crop2 of crops) {\n    const cropDimensions = {\n      width: crop2.width,\n      height: crop2.height\n    };\n    if (typeof cropDimensions.width === \"undefined\" && typeof crop2.aspectRatio === \"undefined\") {\n      cropDimensions.width = options.width;\n      if (typeof cropDimensions.height === \"undefined\") {\n        cropDimensions.height = options.height;\n      }\n    }\n    const transformations = collectTransformations({\n      aspectRatio: crop2.aspectRatio,\n      gravity: crop2.gravity,\n      type: crop2.type || DEFAULT_CROP,\n      zoom: crop2.zoom,\n      ...cropDimensions\n    });\n    if (transformations.length > 0) {\n      if (crop2.source === true) {\n        sourceTransformations.push(transformations);\n      } else {\n        finalTransformations.push(transformations);\n      }\n    }\n  }\n  sourceTransformations.forEach((transformation) => {\n    if (transformation.length > 0) {\n      cldAsset.addTransformation(transformation.join(\",\"));\n    }\n  });\n  const results = {\n    options: {}\n  };\n  if (results.options && finalTransformations.length > 0) {\n    results.options.resize = finalTransformations.map((transformation) => transformation.join(\",\")).join(\"/\");\n  }\n  return results;\n}\nfunction collectTransformations(collectOptions) {\n  const { aspectRatio: aspectRatio2, type: crop2, zoom: zoom2 } = collectOptions;\n  let gravity2 = collectOptions.gravity;\n  let height2 = normalizeNumberParameter(collectOptions.height);\n  let width2 = normalizeNumberParameter(collectOptions.width);\n  const transformations = [];\n  const hasDefinedDimensions = height2 || width2;\n  const hasValidAspectRatio = aspectRatio2 && cropsAspectRatio.includes(crop2);\n  if (crop2 && (hasDefinedDimensions || hasValidAspectRatio)) {\n    transformations.push(`c_${crop2}`);\n  }\n  if (hasValidAspectRatio) {\n    transformations.push(`ar_${aspectRatio2}`);\n  }\n  if (width2) {\n    transformations.push(`w_${width2}`);\n  }\n  if (![\"limit\"].includes(crop2) && typeof height2 === \"number\") {\n    transformations.push(`h_${height2}`);\n  }\n  if (!gravity2 && cropsGravityAuto.includes(crop2)) {\n    gravity2 = \"auto\";\n  }\n  if (gravity2) {\n    if (gravity2 === \"auto\" && !cropsGravityAuto.includes(crop2)) {\n      console.warn(`Auto gravity can only be used with crop modes: ${cropsGravityAuto.join(\", \")}. Not applying gravity.`);\n    } else {\n      transformations.push(`g_${gravity2}`);\n    }\n  }\n  if (zoom2) {\n    if (zoom2 === \"auto\" && !cropsWithZoom.includes(crop2)) {\n      console.warn(`Zoom can only be used with crop modes: ${cropsWithZoom.join(\", \")}. Not applying zoom.`);\n    } else {\n      transformations.push(`z_${zoom2}`);\n    }\n  }\n  return transformations;\n}\n\n// src/plugins/default-image.ts\nvar default_image_exports = {};\n__export(default_image_exports, {\n  assetTypes: () => assetTypes3,\n  plugin: () => plugin3,\n  props: () => props3\n});\nvar import_zod4 = __webpack_require__(/*! zod */ \"(ssr)/./node_modules/zod/lib/index.js\");\nvar import_util = __webpack_require__(/*! @cloudinary-util/util */ \"(ssr)/./node_modules/@cloudinary-util/util/dist/index.js\");\nvar props3 = {\n  defaultImage: import_zod4.z.string().describe(JSON.stringify({\n    text: \"Configures the default image to use in case the given public ID is not available. Must include file extension.\",\n    url: \"https://cloudinary.com/documentation/transformation_reference#d_default_image\"\n  })).optional()\n};\nvar assetTypes3 = [\"image\", \"images\"];\nfunction plugin3(props21) {\n  const { cldAsset, options } = props21;\n  const { defaultImage } = options;\n  if (typeof defaultImage === \"string\") {\n    if (!(0, import_util.getFormat)(defaultImage)) {\n      console.warn(`The defaultImage prop may be missing a format and must include it along with the public ID. (Ex: myimage.jpg)`);\n    }\n    const defaultImageId = defaultImage.replace(/\\//g, \":\");\n    cldAsset.addTransformation(`d_${defaultImageId}`);\n  }\n  return {};\n}\n\n// src/plugins/effects.ts\nvar effects_exports = {};\n__export(effects_exports, {\n  assetTypes: () => assetTypes4,\n  plugin: () => plugin4,\n  props: () => props4\n});\nvar import_zod6 = __webpack_require__(/*! zod */ \"(ssr)/./node_modules/zod/lib/index.js\");\n\n// src/constants/qualifiers.ts\nvar import_zod5 = __webpack_require__(/*! zod */ \"(ssr)/./node_modules/zod/lib/index.js\");\nvar import_util2 = __webpack_require__(/*! @cloudinary-util/util */ \"(ssr)/./node_modules/@cloudinary-util/util/dist/index.js\");\nvar convertersColors = [\n  {\n    test: import_util2.testColorIsHex,\n    convert: import_util2.convertColorHexToRgb\n  }\n];\nvar primary = {\n  aspectRatio,\n  crop,\n  gravity,\n  height,\n  width\n};\nvar position = {\n  angle,\n  gravity,\n  x,\n  y\n};\nvar text = {\n  alignment: {\n    qualifier: false,\n    order: 6\n  },\n  antialias: {\n    qualifier: \"antialias\"\n  },\n  border: {\n    qualifier: \"bo\",\n    location: \"primary\"\n  },\n  color: {\n    qualifier: \"co\",\n    location: \"primary\",\n    converters: convertersColors\n  },\n  fontFamily: {\n    qualifier: false,\n    order: 1\n  },\n  fontSize: {\n    qualifier: false,\n    order: 2\n  },\n  fontStyle: {\n    qualifier: false,\n    order: 4\n  },\n  fontWeight: {\n    qualifier: false,\n    order: 3\n  },\n  hinting: {\n    qualifier: \"hinting\"\n  },\n  letterSpacing: {\n    qualifier: \"letter_spacing\"\n  },\n  lineSpacing: {\n    qualifier: \"line_spacing\"\n  },\n  stroke: {\n    qualifier: \"self\",\n    order: 7\n  },\n  textDecoration: {\n    qualifier: false,\n    order: 5\n  }\n};\nvar effects = {\n  angle,\n  art: {\n    prefix: \"e\",\n    qualifier: \"art\",\n    schema: import_zod5.z.string().describe(JSON.stringify({\n      text: \"Applies the selected artistic filter.\",\n      url: \"https://cloudinary.com/documentation/transformation_reference#e_art\"\n    }))\n  },\n  autoBrightness: {\n    prefix: \"e\",\n    qualifier: \"auto_brightness\",\n    schema: import_zod5.z.union([\n      import_zod5.z.string(),\n      import_zod5.z.boolean()\n    ]).describe(JSON.stringify({\n      text: \"Automatically adjusts the image brightness and blends the result with the original image.\",\n      url: \"https://cloudinary.com/documentation/transformation_reference#e_auto_brightness\"\n    }))\n  },\n  autoColor: {\n    prefix: \"e\",\n    qualifier: \"auto_color\",\n    schema: import_zod5.z.union([\n      import_zod5.z.string(),\n      import_zod5.z.boolean()\n    ]).describe(JSON.stringify({\n      text: \"Automatically adjusts the image color balance and blends the result with the original image.\",\n      url: \"https://cloudinary.com/documentation/transformation_reference#e_auto_color\"\n    }))\n  },\n  autoContrast: {\n    prefix: \"e\",\n    qualifier: \"auto_contrast\",\n    schema: import_zod5.z.union([\n      import_zod5.z.string(),\n      import_zod5.z.boolean()\n    ]).describe(JSON.stringify({\n      text: \"Automatically adjusts the image contrast and blends the result with the original image.\",\n      url: \"https://cloudinary.com/documentation/transformation_reference#e_auto_contrast\"\n    }))\n  },\n  assistColorblind: {\n    prefix: \"e\",\n    qualifier: \"assist_colorblind\",\n    schema: import_zod5.z.union([\n      import_zod5.z.string(),\n      import_zod5.z.boolean()\n    ]).describe(JSON.stringify({\n      text: \"Applies stripes or color adjustment to help people with common color blind conditions to differentiate between colors that are similar for them.\",\n      url: \"https://cloudinary.com/documentation/transformation_reference#e_assist_colorblind\"\n    }))\n  },\n  background: {\n    qualifier: \"b\",\n    schema: import_zod5.z.string().describe(JSON.stringify({\n      text: \"Applies a background to empty or transparent areas.\",\n      url: \"https://cloudinary.com/documentation/transformation_reference#b_background\"\n    }))\n  },\n  blackwhite: {\n    prefix: \"e\",\n    qualifier: \"blackwhite\",\n    schema: import_zod5.z.union([\n      import_zod5.z.string(),\n      import_zod5.z.boolean()\n    ]).describe(JSON.stringify({\n      text: \"Converts an image to black and white.\",\n      url: \"https://cloudinary.com/documentation/transformation_reference#e_blackwhite\"\n    }))\n  },\n  blur: {\n    prefix: \"e\",\n    qualifier: \"blur\",\n    schema: import_zod5.z.union([\n      import_zod5.z.string(),\n      import_zod5.z.boolean()\n    ]).describe(JSON.stringify({\n      text: \"Applies a blurring filter to an asset.\",\n      url: \"https://cloudinary.com/documentation/transformation_reference#e_blur\"\n    }))\n  },\n  blurFaces: {\n    prefix: \"e\",\n    qualifier: \"blur_faces\",\n    schema: import_zod5.z.union([\n      import_zod5.z.string(),\n      import_zod5.z.boolean()\n    ]).describe(JSON.stringify({\n      text: \"Blurs all detected faces in an image.\",\n      url: \"https://cloudinary.com/documentation/transformation_reference#e_blur_faces\"\n    }))\n  },\n  blurRegion: {\n    prefix: \"e\",\n    qualifier: \"blur_region\",\n    schema: import_zod5.z.union([\n      import_zod5.z.string(),\n      import_zod5.z.boolean()\n    ]).describe(JSON.stringify({\n      text: \"Applies a blurring filter to the region of an image specified by x, y, width and height, or an area of text. If no region is specified, the whole image is blurred.\",\n      url: \"https://cloudinary.com/documentation/transformation_reference#e_blur_region\"\n    }))\n  },\n  border: {\n    qualifier: \"bo\",\n    schema: import_zod5.z.string().describe(JSON.stringify({\n      text: \"Adds a solid border around an image or video.\",\n      url: \"https://cloudinary.com/documentation/transformation_reference#bo_border\"\n    }))\n  },\n  brightness: {\n    prefix: \"e\",\n    qualifier: \"brightness\",\n    schema: import_zod5.z.union([\n      import_zod5.z.string(),\n      import_zod5.z.boolean()\n    ]).describe(JSON.stringify({\n      text: \"Adjusts the image or video brightness.\",\n      url: \"https://cloudinary.com/documentation/transformation_reference#e_brightness\"\n    }))\n  },\n  brightnessHSB: {\n    prefix: \"e\",\n    qualifier: \"brightness_hsb\",\n    schema: import_zod5.z.union([\n      import_zod5.z.string(),\n      import_zod5.z.boolean()\n    ]).describe(JSON.stringify({\n      text: \"Adjusts image brightness modulation in HSB to prevent artifacts in some images.\",\n      url: \"https://cloudinary.com/documentation/transformation_reference#e_brightness_hsb\"\n    }))\n  },\n  cartoonify: {\n    prefix: \"e\",\n    qualifier: \"cartoonify\",\n    schema: import_zod5.z.union([\n      import_zod5.z.string(),\n      import_zod5.z.boolean()\n    ]).describe(JSON.stringify({\n      text: \"Applies a cartoon effect to an image.\",\n      url: \"https://cloudinary.com/documentation/transformation_reference#e_cartoonify\"\n    }))\n  },\n  color: {\n    qualifier: \"co\",\n    schema: import_zod5.z.string().describe(JSON.stringify({\n      text: \"A qualifier that specifies the color to use with the corresponding transformation.\",\n      url: \"https://cloudinary.com/documentation/transformation_reference#co_color\"\n    })),\n    converters: convertersColors\n  },\n  colorize: {\n    prefix: \"e\",\n    qualifier: \"colorize\",\n    schema: import_zod5.z.string().describe(JSON.stringify({\n      text: \"Colorizes an image. By default, gray is used for colorization. You can specify a different color using the color qualifier.\",\n      url: \"https://cloudinary.com/documentation/transformation_reference#e_colorize\"\n    }))\n  },\n  contrast: {\n    prefix: \"e\",\n    qualifier: \"contrast\",\n    schema: import_zod5.z.union([\n      import_zod5.z.string(),\n      import_zod5.z.boolean()\n    ]).describe(JSON.stringify({\n      text: \"Adjusts an image or video contrast.\",\n      url: \"https://cloudinary.com/documentation/transformation_reference#e_contrast\"\n    }))\n  },\n  displace: {\n    prefix: \"e\",\n    qualifier: \"distort\",\n    schema: import_zod5.z.string().describe(JSON.stringify({\n      text: \"Displaces the pixels in an image according to the color channels of the pixels in another specified image (a gradient map specified with the overlay parameter).\",\n      url: \"https://cloudinary.com/documentation/transformation_reference#e_displace\"\n    }))\n  },\n  distort: {\n    prefix: \"e\",\n    qualifier: \"distort\",\n    schema: import_zod5.z.string().describe(JSON.stringify({\n      text: \"Distorts an image to a new shape by either adjusting its corners or by warping it into an arc.\",\n      url: \"https://cloudinary.com/documentation/transformation_reference#e_distort\"\n    }))\n  },\n  fillLight: {\n    prefix: \"e\",\n    qualifier: \"fill_light\",\n    schema: import_zod5.z.union([\n      import_zod5.z.string(),\n      import_zod5.z.boolean()\n    ]).describe(JSON.stringify({\n      text: \"Adjusts the fill light and optionally blends the result with the original image.\",\n      url: \"https://cloudinary.com/documentation/transformation_reference#e_fill_light\"\n    }))\n  },\n  gamma: {\n    prefix: \"e\",\n    qualifier: \"gamma\",\n    schema: import_zod5.z.union([\n      import_zod5.z.string(),\n      import_zod5.z.boolean()\n    ]).describe(JSON.stringify({\n      text: \"Adjusts the image or video gamma level.\",\n      url: \"https://cloudinary.com/documentation/transformation_reference#e_gamma\"\n    }))\n  },\n  gradientFade: {\n    prefix: \"e\",\n    qualifier: \"gradient_fade\",\n    schema: import_zod5.z.union([\n      import_zod5.z.string(),\n      import_zod5.z.boolean()\n    ]).describe(JSON.stringify({\n      text: \"Applies a gradient fade effect from the edge of an image.\",\n      url: \"https://cloudinary.com/documentation/transformation_reference#e_gradient_fade\"\n    }))\n  },\n  grayscale: {\n    prefix: \"e\",\n    qualifier: \"grayscale\",\n    schema: import_zod5.z.boolean().describe(JSON.stringify({\n      text: \"Converts an image to grayscale (multiple shades of gray).\",\n      url: \"https://cloudinary.com/documentation/transformation_reference#e_grayscale\"\n    }))\n  },\n  hue: {\n    prefix: \"e\",\n    qualifier: \"hue\",\n    schema: import_zod5.z.union([\n      import_zod5.z.string(),\n      import_zod5.z.boolean()\n    ]).describe(JSON.stringify({\n      text: \"Adjusts an image's hue.\",\n      url: \"https://cloudinary.com/documentation/transformation_reference#e_hue\"\n    }))\n  },\n  improve: {\n    prefix: \"e\",\n    qualifier: \"improve\",\n    schema: import_zod5.z.union([\n      import_zod5.z.string(),\n      import_zod5.z.boolean()\n    ]).describe(JSON.stringify({\n      text: \"Adjusts an image's colors, contrast and brightness to improve its appearance.\",\n      url: \"https://cloudinary.com/documentation/transformation_reference#e_improve\"\n    }))\n  },\n  loop: {\n    prefix: \"e\",\n    qualifier: \"loop\",\n    schema: import_zod5.z.union([\n      import_zod5.z.boolean(),\n      import_zod5.z.number(),\n      import_zod5.z.string()\n    ]).describe(JSON.stringify({\n      text: \"Loops a video or animated image the specified number of times.\",\n      url: \"https://cloudinary.com/documentation/transformation_reference#e_loop\"\n    }))\n  },\n  multiply: {\n    prefix: \"e\",\n    qualifier: \"multiply\",\n    schema: import_zod5.z.boolean().describe(JSON.stringify({\n      text: \"A qualifier that blends image layers using the multiply blend mode\",\n      url: \"https://cloudinary.com/documentation/transformation_reference#e_multiply\"\n    }))\n  },\n  negate: {\n    prefix: \"e\",\n    qualifier: \"negate\",\n    schema: import_zod5.z.union([\n      import_zod5.z.string(),\n      import_zod5.z.boolean()\n    ]).describe(JSON.stringify({\n      text: \"https://cloudinary.com/documentation/transformation_reference#e_negate\",\n      url: \"https://cloudinary.com/documentation/transformation_reference#e_negate\"\n    }))\n  },\n  noise: {\n    prefix: \"e\",\n    qualifier: \"noise\",\n    schema: import_zod5.z.boolean().describe(JSON.stringify({\n      text: \"https://cloudinary.com/documentation/transformation_reference#e_noise\",\n      url: \"https://cloudinary.com/documentation/transformation_reference#e_noise\"\n    }))\n  },\n  oilPaint: {\n    prefix: \"e\",\n    qualifier: \"oil_paint\",\n    schema: import_zod5.z.union([\n      import_zod5.z.string(),\n      import_zod5.z.boolean()\n    ]).describe(JSON.stringify({\n      text: \"https://cloudinary.com/documentation/transformation_reference#e_oil_paint\",\n      url: \"https://cloudinary.com/documentation/transformation_reference#e_oil_paint\"\n    }))\n  },\n  opacity: {\n    qualifier: \"o\",\n    schema: import_zod5.z.union([\n      import_zod5.z.string(),\n      import_zod5.z.number()\n    ]).describe(JSON.stringify({\n      text: \"Adjusts the opacity of an asset and makes it semi-transparent.\",\n      url: \"https://cloudinary.com/documentation/transformation_reference#o_opacity\"\n    }))\n  },\n  outline: {\n    prefix: \"e\",\n    qualifier: \"outline\",\n    schema: import_zod5.z.union([\n      import_zod5.z.string(),\n      import_zod5.z.boolean()\n    ]).describe(JSON.stringify({\n      text: \"Adds an outline effect to an image.\",\n      url: \"https://cloudinary.com/documentation/transformation_reference#e_outline\"\n    }))\n  },\n  pixelate: {\n    prefix: \"e\",\n    qualifier: \"pixelate\",\n    schema: import_zod5.z.union([\n      import_zod5.z.string(),\n      import_zod5.z.boolean()\n    ]).describe(JSON.stringify({\n      text: \"Applies a pixelation effect.\",\n      url: \"https://cloudinary.com/documentation/transformation_reference#e_pixelate\"\n    }))\n  },\n  pixelateFaces: {\n    prefix: \"e\",\n    qualifier: \"pixelate_faces\",\n    schema: import_zod5.z.union([\n      import_zod5.z.string(),\n      import_zod5.z.boolean()\n    ]).describe(JSON.stringify({\n      text: \"Pixelates all detected faces in an image.\",\n      url: \"https://cloudinary.com/documentation/transformation_reference#e_pixelate_faces\"\n    }))\n  },\n  pixelateRegion: {\n    prefix: \"e\",\n    qualifier: \"pixelate_region\",\n    schema: import_zod5.z.union([\n      import_zod5.z.string(),\n      import_zod5.z.boolean()\n    ]).describe(JSON.stringify({\n      text: \"Pixelates the region of an image specified by x, y, width and height, or an area of text.\",\n      url: \"https://cloudinary.com/documentation/transformation_reference#e_pixelate_region\"\n    }))\n  },\n  radius: {\n    qualifier: \"r\",\n    schema: import_zod5.z.string().describe(JSON.stringify({\n      text: \"Rounds the corners of an image or video.\",\n      url: \"https://cloudinary.com/documentation/transformation_reference#r_round_corners\"\n    }))\n  },\n  redeye: {\n    prefix: \"e\",\n    qualifier: \"redeye\",\n    schema: import_zod5.z.union([\n      import_zod5.z.string(),\n      import_zod5.z.boolean()\n    ]).describe(JSON.stringify({\n      text: \"Automatically removes red eyes in an image.\",\n      url: \"https://cloudinary.com/documentation/transformation_reference#e_redeye\"\n    }))\n  },\n  replaceColor: {\n    prefix: \"e\",\n    qualifier: \"replace_color\",\n    schema: import_zod5.z.string().describe(JSON.stringify({\n      text: \"Maps an input color and those similar to the input color to corresponding shades of a specified output color.\",\n      url: \"https://cloudinary.com/documentation/transformation_reference#e_replace_color\"\n    }))\n  },\n  saturation: {\n    prefix: \"e\",\n    qualifier: \"saturation\",\n    schema: import_zod5.z.union([\n      import_zod5.z.string(),\n      import_zod5.z.boolean()\n    ]).describe(JSON.stringify({\n      text: \"Adjusts an image or video saturation level.\",\n      url: \"https://cloudinary.com/documentation/transformation_reference#e_saturation\"\n    }))\n  },\n  screen: {\n    prefix: \"e\",\n    qualifier: \"screen\",\n    schema: import_zod5.z.boolean().describe(JSON.stringify({\n      text: \"A qualifier that blends image layers using the screen blend mode.\",\n      url: \"https://cloudinary.com/documentation/transformation_reference#e_screen\"\n    }))\n  },\n  sepia: {\n    prefix: \"e\",\n    qualifier: \"sepia\",\n    schema: import_zod5.z.union([\n      import_zod5.z.string(),\n      import_zod5.z.boolean()\n    ]).describe(JSON.stringify({\n      text: \"Changes the color scheme of an image to sepia.\",\n      url: \"https://cloudinary.com/documentation/transformation_reference#e_sepia\"\n    }))\n  },\n  shadow: {\n    prefix: \"e\",\n    qualifier: \"shadow\",\n    schema: import_zod5.z.union([\n      import_zod5.z.string(),\n      import_zod5.z.boolean()\n    ]).describe(JSON.stringify({\n      text: \"Adds a gray shadow to the bottom right of an image.\",\n      url: \"https://cloudinary.com/documentation/transformation_reference#e_shadow\"\n    }))\n  },\n  sharpen: {\n    prefix: \"e\",\n    qualifier: \"sharpen\",\n    schema: import_zod5.z.union([\n      import_zod5.z.string(),\n      import_zod5.z.boolean()\n    ]).describe(JSON.stringify({\n      text: \"Applies a sharpening filter.\",\n      url: \"https://cloudinary.com/documentation/transformation_reference#e_sharpen\"\n    }))\n  },\n  shear: {\n    prefix: \"e\",\n    qualifier: \"shear\",\n    schema: import_zod5.z.string().describe(JSON.stringify({\n      text: \"Skews an image according to the two specified values in degrees.\",\n      url: \"https://cloudinary.com/documentation/transformation_reference#e_shear\"\n    }))\n  },\n  simulateColorblind: {\n    prefix: \"e\",\n    qualifier: \"simulate_colorblind\",\n    schema: import_zod5.z.union([\n      import_zod5.z.string(),\n      import_zod5.z.boolean()\n    ]).describe(JSON.stringify({\n      text: \"Simulates the way an image would appear to someone with the specified color blind condition.\",\n      url: \"https://cloudinary.com/documentation/transformation_reference#e_simulate_colorblind\"\n    }))\n  },\n  tint: {\n    prefix: \"e\",\n    qualifier: \"tint\",\n    schema: import_zod5.z.union([\n      import_zod5.z.string(),\n      import_zod5.z.boolean()\n    ]).describe(JSON.stringify({\n      text: \"Blends an image with one or more tint colors at a specified intensity.\",\n      url: \"https://cloudinary.com/documentation/transformation_reference#e_tint\"\n    }))\n  },\n  trim: {\n    prefix: \"e\",\n    qualifier: \"trim\",\n    schema: import_zod5.z.union([\n      import_zod5.z.string(),\n      import_zod5.z.boolean()\n    ]).describe(JSON.stringify({\n      text: \"Detects and removes image edges whose color is similar to the corner pixels.\",\n      url: \"https://cloudinary.com/documentation/transformation_reference#e_trim\"\n    }))\n  },\n  unsharpMask: {\n    prefix: \"e\",\n    qualifier: \"unsharp_mask\",\n    schema: import_zod5.z.union([\n      import_zod5.z.string(),\n      import_zod5.z.boolean()\n    ]).describe(JSON.stringify({\n      text: \"Applies an unsharp mask filter to an image.\",\n      url: \"https://cloudinary.com/documentation/transformation_reference#e_unsharp_mask\"\n    }))\n  },\n  vectorize: {\n    prefix: \"e\",\n    qualifier: \"vectorize\",\n    schema: import_zod5.z.union([\n      import_zod5.z.string(),\n      import_zod5.z.boolean()\n    ]).describe(JSON.stringify({\n      text: \"Vectorizes an image.\",\n      url: \"https://cloudinary.com/documentation/transformation_reference#e_vectorize\"\n    }))\n  },\n  vibrance: {\n    prefix: \"e\",\n    qualifier: \"vibrance\",\n    schema: import_zod5.z.union([\n      import_zod5.z.string(),\n      import_zod5.z.boolean()\n    ]).describe(JSON.stringify({\n      text: \"Applies a vibrance filter to an image.\",\n      url: \"https://cloudinary.com/documentation/transformation_reference#e_vibrance\"\n    }))\n  },\n  vignette: {\n    prefix: \"e\",\n    qualifier: \"vignette\",\n    schema: import_zod5.z.union([\n      import_zod5.z.string(),\n      import_zod5.z.boolean()\n    ]).describe(JSON.stringify({\n      text: \"Applies a vignette effect to an image.\",\n      url: \"https://cloudinary.com/documentation/transformation_reference#e_vignette\"\n    }))\n  }\n};\n\n// src/plugins/effects.ts\nvar effectProps = {\n  angle: effects.angle.schema.optional(),\n  art: effects.art.schema.optional(),\n  autoBrightness: effects.autoBrightness.schema.optional(),\n  autoColor: effects.autoColor.schema.optional(),\n  autoContrast: effects.autoContrast.schema.optional(),\n  assistColorblind: effects.assistColorblind.schema.optional(),\n  background: effects.background.schema.optional(),\n  blackwhite: effects.blackwhite.schema.optional(),\n  blur: effects.blur.schema.optional(),\n  blurFaces: effects.blurFaces.schema.optional(),\n  blurRegion: effects.blurRegion.schema.optional(),\n  border: effects.border.schema.optional(),\n  brightness: effects.brightness.schema.optional(),\n  brightnessHSB: effects.brightnessHSB.schema.optional(),\n  cartoonify: effects.cartoonify.schema.optional(),\n  color: effects.color.schema.optional(),\n  colorize: effects.colorize.schema.optional(),\n  contrast: effects.contrast.schema.optional(),\n  distort: effects.distort.schema.optional(),\n  fillLight: effects.fillLight.schema.optional(),\n  gamma: effects.gamma.schema.optional(),\n  gradientFade: effects.gradientFade.schema.optional(),\n  grayscale: effects.grayscale.schema.optional(),\n  improve: effects.improve.schema.optional(),\n  loop: effects.loop.schema.optional(),\n  multiply: effects.multiply.schema.optional(),\n  negate: effects.negate.schema.optional(),\n  oilPaint: effects.oilPaint.schema.optional(),\n  opacity: effects.opacity.schema.optional(),\n  outline: effects.outline.schema.optional(),\n  pixelate: effects.pixelate.schema.optional(),\n  pixelateFaces: effects.pixelateFaces.schema.optional(),\n  pixelateRegion: effects.pixelateRegion.schema.optional(),\n  radius: effects.radius.schema.optional(),\n  redeye: effects.redeye.schema.optional(),\n  replaceColor: effects.replaceColor.schema.optional(),\n  saturation: effects.saturation.schema.optional(),\n  screen: effects.screen.schema.optional(),\n  sepia: effects.sepia.schema.optional(),\n  shadow: effects.shadow.schema.optional(),\n  sharpen: effects.sharpen.schema.optional(),\n  shear: effects.shear.schema.optional(),\n  simulateColorblind: effects.simulateColorblind.schema.optional(),\n  tint: effects.tint.schema.optional(),\n  trim: effects.trim.schema.optional(),\n  unsharpMask: effects.unsharpMask.schema.optional(),\n  vectorize: effects.vectorize.schema.optional(),\n  vibrance: effects.vibrance.schema.optional(),\n  vignette: effects.vignette.schema.optional()\n};\nvar props4 = {\n  effects: import_zod6.z.array(import_zod6.z.object(effectProps)).describe(JSON.stringify({\n    text: \"Array of objects specifying transformations to be applied to asset.\"\n  })).optional(),\n  ...effectProps\n};\nvar assetTypes4 = [\"image\", \"images\", \"video\", \"videos\"];\nfunction plugin4(props21) {\n  const { cldAsset, options } = props21;\n  const transformationStrings = constructTransformationString({\n    effects,\n    options\n  });\n  transformationStrings.filter((t) => !!t).forEach((transformation) => cldAsset.effect(transformation));\n  ;\n  if (Array.isArray(options?.effects)) {\n    options?.effects.forEach((effectsSet) => {\n      const transformationString = constructTransformationString({\n        effects,\n        options: effectsSet\n      }).filter((t) => !!t).join(\",\");\n      cldAsset.effect(transformationString);\n    });\n  }\n  function constructTransformationString({ effects: effects2, options: options2 }) {\n    return Object.keys(effects2).map((key) => {\n      const { prefix, qualifier, converters } = effects2[key];\n      return constructTransformation({\n        qualifier,\n        prefix,\n        value: options2?.[key],\n        converters\n      });\n    });\n  }\n  return {};\n}\n\n// src/plugins/enhance.ts\nvar enhance_exports = {};\n__export(enhance_exports, {\n  assetTypes: () => assetTypes5,\n  plugin: () => plugin5,\n  props: () => props5\n});\nvar import_zod7 = __webpack_require__(/*! zod */ \"(ssr)/./node_modules/zod/lib/index.js\");\nvar props5 = {\n  enhance: import_zod7.z.boolean().describe(JSON.stringify({\n    text: \"Uses AI to analyze an image and make adjustments to enhance the appeal of the image.\",\n    url: \"https://cloudinary.com/documentation/transformation_reference#e_enhance\"\n  })).optional()\n};\nvar assetTypes5 = [\"image\", \"images\"];\nfunction plugin5(props21) {\n  const { cldAsset, options } = props21;\n  const { enhance = false } = options;\n  if (enhance) {\n    cldAsset.effect(\"e_enhance\");\n  }\n  return {};\n}\n\n// src/plugins/flags.ts\nvar flags_exports = {};\n__export(flags_exports, {\n  assetTypes: () => assetTypes6,\n  plugin: () => plugin6,\n  props: () => props6\n});\nvar { flagsEnum: flagsEnum2 } = parameters_exports;\nvar props6 = {\n  flags: flags.schema.optional()\n};\nvar assetTypes6 = [\"image\", \"images\", \"video\", \"videos\"];\nfunction plugin6(props21) {\n  const { cldAsset, options } = props21;\n  const { flags: flags2 = [] } = options;\n  if (Array.isArray(flags2) && flags2.length > 0) {\n    flags2.forEach((flag) => {\n      const { success } = flagsEnum2.safeParse(flag);\n      if (!success) {\n        if (true) {\n          console.warn(`Invalid flag ${flag}, not applying.`);\n        }\n        return;\n      }\n      cldAsset.addFlag(flag);\n    });\n  } else if (typeof flags2 === \"object\") {\n    Object.entries(flags2).forEach(([qualifier, value]) => {\n      const { success } = flagsEnum2.safeParse(qualifier);\n      if (!success) {\n        if (true) {\n          console.warn(`Invalid flag ${qualifier}, not applying.`);\n        }\n        return;\n      }\n      cldAsset.addTransformation(`fl_${qualifier}:${value}`);\n    });\n  }\n  return {};\n}\n\n// src/plugins/fill-background.ts\nvar fill_background_exports = {};\n__export(fill_background_exports, {\n  assetTypes: () => assetTypes7,\n  plugin: () => plugin7,\n  props: () => props7\n});\nvar import_zod8 = __webpack_require__(/*! zod */ \"(ssr)/./node_modules/zod/lib/index.js\");\nvar props7 = {\n  fillBackground: import_zod8.z.union([\n    import_zod8.z.boolean(),\n    import_zod8.z.object({\n      crop: crop.schema.optional(),\n      gravity: gravity.schema.optional(),\n      prompt: import_zod8.z.string().optional()\n    })\n  ]).describe(JSON.stringify({\n    text: \"Uses Generative Fill to extended padded image with AI\",\n    url: \"https://cloudinary.com/documentation/transformation_reference#b_gen_fill\"\n  })).optional()\n};\nvar assetTypes7 = [\"image\", \"images\"];\nvar defaultCrop = \"pad\";\nfunction plugin7(props21) {\n  const { cldAsset, options } = props21;\n  const { fillBackground } = options;\n  if (typeof fillBackground === \"undefined\")\n    return;\n  const width2 = normalizeNumberParameter(options.width);\n  const height2 = normalizeNumberParameter(options.height);\n  const hasDefinedDimensions = typeof height2 === \"number\" && typeof width2 === \"number\";\n  let aspectRatio2 = options.aspectRatio;\n  if (!aspectRatio2 && hasDefinedDimensions) {\n    aspectRatio2 = `${width2}:${height2}`;\n  }\n  if (!aspectRatio2) {\n    if (true) {\n      console.warn(`Could not determine aspect ratio based on available options to use fillBackground. Please specify width and height or an aspect ratio.`);\n    }\n    return;\n  }\n  if (fillBackground === true) {\n    const properties = [\n      \"b_gen_fill\",\n      `ar_${aspectRatio2}`,\n      `c_${defaultCrop}`\n    ];\n    cldAsset.addTransformation(properties.join(\",\"));\n  } else if (typeof fillBackground === \"object\") {\n    const { crop: crop2 = defaultCrop, gravity: gravity2, prompt } = fillBackground;\n    const properties = [\n      `ar_${aspectRatio2}`,\n      `c_${crop2}`\n    ];\n    if (typeof prompt === \"string\") {\n      properties.unshift(`b_gen_fill:${prompt}`);\n    } else {\n      properties.unshift(`b_gen_fill`);\n    }\n    if (typeof gravity2 === \"string\") {\n      properties.push(`g_${gravity2}`);\n    }\n    cldAsset.addTransformation(properties.join(\",\"));\n  }\n  return {};\n}\n\n// src/plugins/replace.ts\nvar replace_exports = {};\n__export(replace_exports, {\n  assetTypes: () => assetTypes8,\n  plugin: () => plugin8,\n  props: () => props8\n});\nvar import_zod9 = __webpack_require__(/*! zod */ \"(ssr)/./node_modules/zod/lib/index.js\");\nvar props8 = {\n  replace: import_zod9.z.union([\n    import_zod9.z.array(import_zod9.z.string()),\n    import_zod9.z.array(import_zod9.z.boolean()),\n    import_zod9.z.object({\n      to: import_zod9.z.string(),\n      from: import_zod9.z.string(),\n      preserveGeometry: import_zod9.z.boolean().optional()\n    })\n  ]).describe(JSON.stringify({\n    text: \"Uses generative AI to replace parts of your image with something else.\",\n    url: \"https://cloudinary.com/documentation/transformation_reference#e_gen_replace\"\n  })).optional()\n};\nvar assetTypes8 = [\"image\", \"images\"];\nfunction plugin8(props21) {\n  const { cldAsset, options } = props21;\n  const { replace = null } = options;\n  if (replace) {\n    let from, to, preserveGeometry = false;\n    if (Array.isArray(replace)) {\n      from = replace[0];\n      to = replace[1];\n      preserveGeometry = replace[2] || false;\n    } else {\n      from = replace.from;\n      to = replace.to;\n      preserveGeometry = replace.preserveGeometry || false;\n    }\n    const properties = [`e_gen_replace:from_${from}`, `to_${to}`];\n    if (preserveGeometry) {\n      properties.push(`preserve-geometry_${preserveGeometry}`);\n    }\n    cldAsset.effect(properties.join(\";\"));\n  }\n  return {};\n}\n\n// src/plugins/named-transformations.ts\nvar named_transformations_exports = {};\n__export(named_transformations_exports, {\n  assetTypes: () => assetTypes9,\n  plugin: () => plugin9,\n  props: () => props9,\n  strict: () => strict\n});\nvar import_zod10 = __webpack_require__(/*! zod */ \"(ssr)/./node_modules/zod/lib/index.js\");\nvar NamedTransformationSchema = import_zod10.z.string();\nvar props9 = {\n  namedTransformations: import_zod10.z.union([\n    NamedTransformationSchema,\n    import_zod10.z.array(NamedTransformationSchema)\n  ]).describe(JSON.stringify({\n    text: \"Named transformations to apply to asset.\",\n    url: \"https://cloudinary.com/documentation/image_transformations#named_transformations\"\n  })).optional(),\n  /**\n   * @deprecated use {@link `namedTransformations`} instead\n   */\n  transformations: import_zod10.z.union([\n    NamedTransformationSchema,\n    import_zod10.z.array(NamedTransformationSchema)\n  ]).describe(JSON.stringify({\n    text: \"Deprecated: use namedTransformations instead\",\n    url: \"https://cloudinary.com/documentation/image_transformations#named_transformations\"\n  })).optional()\n};\nvar assetTypes9 = [\"image\", \"images\", \"video\", \"videos\"];\nvar strict = true;\nfunction plugin9(props21) {\n  const { cldAsset, options } = props21;\n  const { transformations, namedTransformations } = options;\n  if (transformations && process.env.NODE_ENVIRONMENT === \"development\") {\n    console.warn(\"The transformations prop is deprecated. Please use namedTransformations instead.\");\n  }\n  let _namedTransformations = namedTransformations || transformations || [];\n  if (!Array.isArray(_namedTransformations)) {\n    _namedTransformations = [_namedTransformations];\n  }\n  _namedTransformations.forEach((transformation) => {\n    cldAsset.addTransformation(`t_${transformation}`);\n  });\n  return {};\n}\n\n// src/plugins/overlays.ts\nvar overlays_exports = {};\n__export(overlays_exports, {\n  DEFAULT_TEXT_OPTIONS: () => DEFAULT_TEXT_OPTIONS,\n  assetTypes: () => assetTypes10,\n  plugin: () => plugin10,\n  props: () => props10\n});\nvar import_zod11 = __webpack_require__(/*! zod */ \"(ssr)/./node_modules/zod/lib/index.js\");\nvar import_util3 = __webpack_require__(/*! @cloudinary-util/util */ \"(ssr)/./node_modules/@cloudinary-util/util/dist/index.js\");\nvar overlayTextSchema = import_zod11.z.object({\n  alignment: import_zod11.z.string().optional(),\n  antialias: import_zod11.z.string().optional(),\n  border: import_zod11.z.string().optional(),\n  color: import_zod11.z.string().optional(),\n  fontFamily: import_zod11.z.string().optional(),\n  fontSize: import_zod11.z.number().optional(),\n  fontStyle: import_zod11.z.union([\n    import_zod11.z.string(),\n    import_zod11.z.number()\n  ]).optional(),\n  fontWeight: import_zod11.z.string().optional(),\n  hinting: import_zod11.z.union([\n    import_zod11.z.string(),\n    import_zod11.z.number()\n  ]).optional(),\n  letterSpacing: import_zod11.z.union([\n    import_zod11.z.string(),\n    import_zod11.z.number()\n  ]).optional(),\n  lineSpacing: import_zod11.z.union([\n    import_zod11.z.string(),\n    import_zod11.z.number()\n  ]).optional(),\n  stroke: import_zod11.z.string().optional(),\n  text: import_zod11.z.string()\n  // Required if using object format\n});\nvar overlayPositionSchema = import_zod11.z.object({\n  angle: angle.schema.optional(),\n  gravity: gravity.schema.optional(),\n  x: x.schema.optional(),\n  y: y.schema.optional()\n});\nvar overlaySchema = import_zod11.z.object({\n  appliedEffects: import_zod11.z.array(import_zod11.z.object({})).optional(),\n  appliedFlags: flags.schema.optional(),\n  effects: import_zod11.z.array(import_zod11.z.object({})).optional(),\n  crop: crop.schema.optional(),\n  flags: flags.schema.optional(),\n  height: height.schema.optional(),\n  position: overlayPositionSchema.optional(),\n  publicId: import_zod11.z.string().optional(),\n  text: import_zod11.z.union([\n    import_zod11.z.string(),\n    overlayTextSchema\n  ]).optional(),\n  url: import_zod11.z.string().optional(),\n  width: width.schema.optional()\n});\nvar props10 = {\n  overlay: overlaySchema.describe(JSON.stringify({\n    text: \"Image or text layer that is applied on top of the base image.\",\n    url: \"https://cloudinary.com/documentation/transformation_reference#l_layer\"\n  })).optional(),\n  overlays: import_zod11.z.array(overlaySchema).describe(JSON.stringify({\n    text: \"Image or text layers that are applied on top of the base image.\",\n    url: \"https://cloudinary.com/documentation/transformation_reference#l_layer\"\n  })).optional(),\n  text: import_zod11.z.string().describe(JSON.stringify({\n    text: \"Text to be overlaid on asset.\",\n    url: \"https://cloudinary.com/documentation/image_transformations#transformation_url_structure\"\n  })).optional()\n};\nvar assetTypes10 = [\"image\", \"images\", \"video\", \"videos\"];\nvar DEFAULT_TEXT_OPTIONS = {\n  color: \"black\",\n  fontFamily: \"Arial\",\n  fontSize: 200,\n  fontWeight: \"bold\"\n};\nfunction plugin10(props21) {\n  const { cldAsset, options } = props21;\n  const { text: text2, overlays = [] } = options;\n  const type = \"overlay\";\n  const typeQualifier = \"l\";\n  if (Array.isArray(overlays)) {\n    overlays.forEach(applyOverlay);\n  }\n  if (typeof text2 === \"string\") {\n    applyOverlay({\n      text: Object.assign({}, DEFAULT_TEXT_OPTIONS, {\n        text: text2\n      })\n    });\n  } else if (typeof text2 === \"object\") {\n    applyOverlay({\n      text: Object.assign({}, DEFAULT_TEXT_OPTIONS, text2)\n    });\n  }\n  function applyOverlay({ publicId, url, position: position2, text: text3, effects: layerEffects = [], appliedEffects = [], flags: layerFlags = [], appliedFlags = [], ...options2 }) {\n    const hasPublicId = typeof publicId === \"string\";\n    const hasUrl = typeof url === \"string\";\n    const hasText = typeof text3 === \"object\" || typeof text3 === \"string\";\n    const hasPosition = typeof position2 === \"object\";\n    if (!hasPublicId && !hasUrl && !hasText) {\n      console.warn(`An ${type} is missing Public ID, URL, or Text`);\n      return;\n    }\n    let layerTransformation;\n    if (hasText) {\n      layerTransformation = `${typeQualifier}_text`;\n    } else if (hasPublicId) {\n      layerTransformation = `${typeQualifier}_${publicId.replace(/\\//g, \":\")}`;\n    } else if (hasUrl) {\n      layerTransformation = `${typeQualifier}_fetch:${(0, import_util3.encodeBase64)(url)}`;\n    }\n    const primary2 = [];\n    const applied = [];\n    Object.keys(options2).forEach((key) => {\n      if (!(0, import_util3.objectHasKey)(primary, key))\n        return;\n      const { qualifier, converters } = primary[key];\n      const transformation = constructTransformation({\n        qualifier,\n        value: options2[key],\n        converters\n      });\n      if (transformation) {\n        primary2.push(transformation);\n      }\n    });\n    layerEffects.forEach((effect) => {\n      Object.keys(effect).forEach((key) => {\n        const effectQualifier = primary[key] || effects[key] || position[key];\n        if (!effectQualifier)\n          return;\n        const { qualifier, prefix, converters } = effectQualifier;\n        const transformation = constructTransformation({\n          qualifier,\n          prefix,\n          value: effect[key],\n          converters\n        });\n        if (transformation) {\n          primary2.push(transformation);\n        }\n      });\n    });\n    appliedEffects.forEach((effect) => {\n      Object.keys(effect).forEach((key) => {\n        const effectQualifier = primary[key] || effects[key] || position[key];\n        if (!effectQualifier)\n          return;\n        const { qualifier, prefix, converters } = effectQualifier;\n        const transformation = constructTransformation({\n          qualifier,\n          prefix,\n          value: effect[key],\n          converters\n        });\n        if (transformation) {\n          applied.push(transformation);\n        }\n      });\n    });\n    const activeLayerFlags = Array.isArray(layerFlags) ? layerFlags : [layerFlags];\n    activeLayerFlags.forEach((flag) => {\n      const { success } = flagsEnum.safeParse(flag);\n      if (!success) {\n        if (true) {\n          console.warn(`Invalid flag ${flag}, not applying.`);\n        }\n        return;\n      }\n      primary2.push(`fl_${flag}`);\n    });\n    const activeAppliedFlags = Array.isArray(appliedFlags) ? appliedFlags : [appliedFlags];\n    activeAppliedFlags.forEach((flag) => {\n      const { success } = flagsEnum.safeParse(flag);\n      if (!success) {\n        if (true) {\n          console.warn(`Invalid flag ${flag}, not applying.`);\n        }\n        return;\n      }\n      applied.push(`fl_${flag}`);\n    });\n    if (hasText) {\n      if (typeof text3 === \"string\") {\n        text3 = {\n          ...DEFAULT_TEXT_OPTIONS,\n          text: text3\n        };\n      }\n      const textTransformations = [];\n      if (typeof text3 === \"object\") {\n        const textOptions = Object.keys(text3).filter((key) => (0, import_util3.objectHasKey)(text, key)).map((key) => {\n          const value = text3 && (0, import_util3.objectHasKey)(text3, key) && text3[key];\n          return {\n            ...text[key],\n            key,\n            value,\n            order: text[key].order || 99\n          };\n        });\n        const sortedTextOptions = (0, import_util3.sortByKey)(textOptions, \"order\");\n        for (const textOption of sortedTextOptions) {\n          const { key, value, qualifier, location, converters } = textOption;\n          let textValue = value;\n          converters?.forEach(({ test, convert }) => {\n            if (!test(value))\n              return;\n            textValue = convert(value);\n          });\n          if (location === \"primary\") {\n            primary2.push(`${qualifier}_${textValue}`);\n          } else if (qualifier === \"self\") {\n            textTransformations.push(key);\n          } else if (qualifier) {\n            textTransformations.push(`${qualifier}_${textValue}`);\n          } else {\n            textTransformations.push(textValue);\n          }\n        }\n      }\n      const specialCharacters = {\n        \".\": \"%2E\",\n        \",\": \"%2C\",\n        \"/\": \"%2F\"\n      };\n      let layerText = text3?.text || \"\";\n      if (typeof layerText === \"string\") {\n        Object.keys(specialCharacters)?.forEach((character) => {\n          layerText = layerText?.replace(character, specialCharacters[character]);\n        });\n      }\n      layerTransformation = `${layerTransformation}:${textTransformations.join(\"_\")}:${layerText}`;\n    }\n    if (hasPosition) {\n      Object.keys(position2).forEach((key) => {\n        if (!(0, import_util3.objectHasKey)(position, key) || !(0, import_util3.objectHasKey)(position2, key))\n          return;\n        const { qualifier, converters } = position[key];\n        const transformation = constructTransformation({\n          qualifier,\n          value: position2[key],\n          converters\n        });\n        if (transformation) {\n          applied.push(transformation);\n        }\n      });\n    }\n    if (primary2.length > 0) {\n      layerTransformation = `${layerTransformation},${primary2.join(\",\")}`;\n    }\n    layerTransformation = `${layerTransformation}/fl_layer_apply,fl_no_overflow`;\n    if (applied.length > 0) {\n      layerTransformation = `${layerTransformation},${applied.join(\",\")}`;\n    }\n    cldAsset.addTransformation(layerTransformation);\n  }\n  return {};\n}\n\n// src/plugins/raw-transformations.ts\nvar raw_transformations_exports = {};\n__export(raw_transformations_exports, {\n  assetTypes: () => assetTypes11,\n  plugin: () => plugin11,\n  props: () => props11\n});\nvar import_zod12 = __webpack_require__(/*! zod */ \"(ssr)/./node_modules/zod/lib/index.js\");\nvar RawTransformationSchema = import_zod12.z.string();\nvar props11 = {\n  rawTransformations: import_zod12.z.union([\n    RawTransformationSchema,\n    import_zod12.z.array(RawTransformationSchema)\n  ]).describe(JSON.stringify({\n    text: \"Array of transformation parameters using the Cloudinary URL API to apply to an asset.\",\n    url: \"https://cloudinary.com/documentation/transformation_reference\"\n  })).optional()\n};\nvar assetTypes11 = [\"image\", \"images\", \"video\", \"videos\"];\nfunction plugin11(props21) {\n  const { cldAsset, options } = props21;\n  let { rawTransformations = [] } = options;\n  if (!Array.isArray(rawTransformations)) {\n    rawTransformations = [rawTransformations];\n  }\n  rawTransformations.forEach((transformation) => {\n    cldAsset.addTransformation(transformation);\n  });\n  return {};\n}\n\n// src/plugins/recolor.ts\nvar recolor_exports = {};\n__export(recolor_exports, {\n  assetTypes: () => assetTypes12,\n  plugin: () => plugin12,\n  props: () => props12\n});\nvar import_zod13 = __webpack_require__(/*! zod */ \"(ssr)/./node_modules/zod/lib/index.js\");\nvar imageOptionsRecolorPromptSchema = import_zod13.z.union([\n  import_zod13.z.string(),\n  import_zod13.z.array(import_zod13.z.string())\n]);\nvar imageOptionsRecolorSchema = import_zod13.z.object({\n  prompt: imageOptionsRecolorPromptSchema.optional(),\n  to: import_zod13.z.string().optional(),\n  multiple: import_zod13.z.boolean().optional()\n});\nvar props12 = {\n  recolor: import_zod13.z.union([\n    imageOptionsRecolorPromptSchema,\n    imageOptionsRecolorSchema\n  ]).describe(JSON.stringify({\n    text: \"Uses generative AI to recolor parts of your image, maintaining the relative shading.\",\n    url: \"https://cloudinary.com/documentation/transformation_reference#e_gen_recolor\"\n  })).optional()\n};\nvar assetTypes12 = [\"image\", \"images\"];\nfunction plugin12(props21) {\n  const { cldAsset, options } = props21;\n  const { recolor } = options;\n  const recolorOptions = {\n    prompt: void 0,\n    \"to-color\": void 0,\n    multiple: void 0\n  };\n  if (Array.isArray(recolor)) {\n    if (Array.isArray(recolor[0])) {\n      recolorOptions.prompt = promptArrayToString(recolor[0]);\n    } else {\n      recolorOptions.prompt = recolor[0];\n    }\n    if (typeof recolor[1] === \"string\") {\n      recolorOptions[\"to-color\"] = recolor[1];\n    }\n  } else if (typeof recolor === \"object\") {\n    if (typeof recolor.prompt === \"string\") {\n      recolorOptions.prompt = recolor.prompt;\n    } else if (Array.isArray(recolor.prompt)) {\n      recolorOptions.prompt = promptArrayToString(recolor.prompt);\n    }\n    if (typeof recolor.to === \"string\") {\n      recolorOptions[\"to-color\"] = recolor.to;\n    }\n    if (recolor.multiple === true) {\n      recolorOptions.multiple = `true`;\n    }\n  }\n  const transformation = Object.entries(recolorOptions).filter(([, value]) => !!value).map(([key, value]) => `${key}_${value}`).join(\";\");\n  if (transformation) {\n    cldAsset.addTransformation(`e_gen_recolor:${transformation}`);\n  }\n  return {};\n}\n\n// src/plugins/remove.ts\nvar remove_exports = {};\n__export(remove_exports, {\n  assetTypes: () => assetTypes13,\n  plugin: () => plugin13,\n  props: () => props13\n});\nvar import_zod14 = __webpack_require__(/*! zod */ \"(ssr)/./node_modules/zod/lib/index.js\");\nvar imageOptionsRemovePromptSchema = import_zod14.z.union([\n  import_zod14.z.string(),\n  import_zod14.z.array(import_zod14.z.string())\n]);\nvar imageOptionsRemoveSchema = import_zod14.z.object({\n  prompt: imageOptionsRemovePromptSchema.optional(),\n  region: import_zod14.z.union([\n    import_zod14.z.array(import_zod14.z.number()),\n    import_zod14.z.array(import_zod14.z.array(import_zod14.z.number()))\n  ]).optional(),\n  multiple: import_zod14.z.boolean().optional(),\n  removeShadow: import_zod14.z.boolean().optional()\n});\nvar props13 = {\n  remove: import_zod14.z.union([\n    imageOptionsRemovePromptSchema,\n    imageOptionsRemoveSchema\n  ]).describe(JSON.stringify({\n    text: \"Applies zooming and/or panning to an image, resulting in a video or animated image.\",\n    url: \"https://cloudinary.com/documentation/transformation_reference#e_zoompan\"\n  })).optional()\n};\nvar assetTypes13 = [\"image\", \"images\"];\nfunction plugin13(props21) {\n  const { cldAsset, options } = props21;\n  const { remove } = options;\n  const removeOptions = {\n    prompt: void 0,\n    region: void 0,\n    multiple: void 0,\n    \"remove-shadow\": void 0\n  };\n  if (typeof remove === \"string\") {\n    removeOptions.prompt = remove;\n  } else if (Array.isArray(remove)) {\n    removeOptions.prompt = promptArrayToString(remove);\n  } else if (typeof remove === \"object\") {\n    const hasPrompt = typeof remove.prompt === \"string\" || Array.isArray(remove.prompt);\n    const hasRegion = Array.isArray(remove.region);\n    if (hasPrompt && hasRegion) {\n      throw new Error(\"Invalid remove options: you can not have both a prompt and a region. More info: https://cloudinary.com/documentation/transformation_reference#e_gen_remove\");\n    }\n    if (typeof remove.prompt === \"string\") {\n      removeOptions.prompt = remove.prompt;\n    } else if (Array.isArray(remove.prompt)) {\n      removeOptions.prompt = promptArrayToString(remove.prompt);\n    }\n    if (Array.isArray(remove.region)) {\n      removeOptions.region = regionArrayToString(remove.region);\n    }\n    if (remove.multiple === true) {\n      removeOptions.multiple = `true`;\n    }\n    if (remove.removeShadow === true) {\n      removeOptions[\"remove-shadow\"] = `true`;\n    }\n  }\n  const transformation = Object.entries(removeOptions).filter(([, value]) => !!value).map(([key, value]) => `${key}_${value}`).join(\";\");\n  if (transformation) {\n    cldAsset.addTransformation(`e_gen_remove:${transformation}`);\n  }\n  return {};\n}\nfunction regionArrayToString(regionArray) {\n  const indexes = {\n    0: \"x\",\n    1: \"y\",\n    2: \"w\",\n    3: \"h\"\n  };\n  const regionString = regionArray.map((region, index) => {\n    if (Array.isArray(region)) {\n      return regionArrayToString(region);\n    }\n    const key = indexes[index];\n    return `${key}_${region}`;\n  }).join(\";\");\n  return `(${regionString})`;\n}\n\n// src/plugins/remove-background.ts\nvar remove_background_exports = {};\n__export(remove_background_exports, {\n  assetTypes: () => assetTypes14,\n  plugin: () => plugin14,\n  props: () => props14\n});\nvar import_zod15 = __webpack_require__(/*! zod */ \"(ssr)/./node_modules/zod/lib/index.js\");\nvar props14 = {\n  removeBackground: import_zod15.z.boolean().describe(JSON.stringify({\n    text: \"Removes the background of an image using the Cloudinary AI Background Removal Add-On (Required).\",\n    url: \"https://cloudinary.com/documentation/cloudinary_ai_background_removal_addon\"\n  })).optional()\n};\nvar assetTypes14 = [\"image\", \"images\"];\nfunction plugin14(props21) {\n  const { cldAsset, options } = props21;\n  const { removeBackground = false } = options;\n  if (removeBackground) {\n    cldAsset.effect(\"e_background_removal\");\n  }\n  return {};\n}\n\n// src/plugins/restore.ts\nvar restore_exports = {};\n__export(restore_exports, {\n  assetTypes: () => assetTypes15,\n  plugin: () => plugin15,\n  props: () => props15\n});\nvar import_zod16 = __webpack_require__(/*! zod */ \"(ssr)/./node_modules/zod/lib/index.js\");\nvar props15 = {\n  restore: import_zod16.z.boolean().describe(JSON.stringify({\n    text: \"Uses generative AI to restore details in poor quality images or images that may have become degraded through repeated processing and compression.\",\n    url: \"https://cloudinary.com/documentation/transformation_reference#e_gen_restore\"\n  })).optional()\n};\nvar assetTypes15 = [\"image\", \"images\"];\nfunction plugin15(props21) {\n  const { cldAsset, options } = props21;\n  const { restore = false } = options;\n  if (restore) {\n    cldAsset.effect(\"e_gen_restore\");\n  }\n  return {};\n}\n\n// src/plugins/sanitize.ts\nvar sanitize_exports = {};\n__export(sanitize_exports, {\n  assetTypes: () => assetTypes16,\n  plugin: () => plugin16,\n  props: () => props16\n});\nvar import_zod17 = __webpack_require__(/*! zod */ \"(ssr)/./node_modules/zod/lib/index.js\");\nvar props16 = {\n  sanitize: import_zod17.z.boolean().describe(JSON.stringify({\n    text: \"Runs a sanitizer on SVG images.\",\n    url: \"https://cloudinary.com/documentation/transformation_reference#fl_sanitize\"\n  })).optional()\n};\nvar assetTypes16 = [\"image\", \"images\"];\nfunction plugin16(props21) {\n  const { cldAsset, options } = props21;\n  const { sanitize = true } = options;\n  const shouldApplySanitizer = sanitize && (options.format === \"svg\" || cldAsset.publicID.endsWith(\".svg\"));\n  if (shouldApplySanitizer) {\n    cldAsset.effect(\"fl_sanitize\");\n  }\n  return {};\n}\n\n// src/plugins/seo.ts\nvar seo_exports = {};\n__export(seo_exports, {\n  assetTypes: () => assetTypes17,\n  plugin: () => plugin17,\n  props: () => props17\n});\nvar import_zod18 = __webpack_require__(/*! zod */ \"(ssr)/./node_modules/zod/lib/index.js\");\nvar props17 = {\n  seoSuffix: import_zod18.z.string().describe(JSON.stringify({\n    text: \"Configures the URL to include an SEO-friendly suffix in the URL\",\n    url: \"https://cloudinary.com/documentation/advanced_url_delivery_options#seo_friendly_media_asset_urls\"\n  })).optional()\n};\nvar assetTypes17 = [\"image\", \"images\", \"video\", \"videos\"];\nfunction plugin17(props21) {\n  const { cldAsset, options } = props21;\n  const { seoSuffix } = options;\n  if (typeof seoSuffix === \"string\") {\n    if (options.deliveryType === \"fetch\") {\n      console.warn(\"SEO suffix is not supported with a delivery type of fetch\");\n    } else {\n      cldAsset.setSuffix(seoSuffix);\n    }\n  }\n  return {};\n}\n\n// src/plugins/underlays.ts\nvar underlays_exports = {};\n__export(underlays_exports, {\n  assetTypes: () => assetTypes18,\n  plugin: () => plugin18,\n  props: () => props18\n});\nvar import_zod19 = __webpack_require__(/*! zod */ \"(ssr)/./node_modules/zod/lib/index.js\");\nvar import_util4 = __webpack_require__(/*! @cloudinary-util/util */ \"(ssr)/./node_modules/@cloudinary-util/util/dist/index.js\");\nvar underlayPositionSchema = import_zod19.z.object({\n  angle: angle.schema.optional(),\n  gravity: gravity.schema.optional(),\n  x: x.schema.optional(),\n  y: y.schema.optional()\n});\nvar underlaySchema = import_zod19.z.object({\n  appliedEffects: import_zod19.z.array(import_zod19.z.object({})).optional(),\n  appliedFlags: flags.schema.optional(),\n  effects: import_zod19.z.array(import_zod19.z.object({})).optional(),\n  crop: crop.schema.optional(),\n  flags: flags.schema.optional(),\n  height: height.schema.optional(),\n  position: underlayPositionSchema.optional(),\n  publicId: import_zod19.z.string().optional(),\n  type: import_zod19.z.string().optional(),\n  url: import_zod19.z.string().optional(),\n  width: width.schema.optional()\n});\nvar props18 = {\n  underlay: import_zod19.z.string().describe(JSON.stringify({\n    text: \"Public ID of image that is applied under the base image.\",\n    url: \"https://cloudinary.com/documentation/transformation_reference#l_layer\"\n  })).optional(),\n  underlays: import_zod19.z.array(underlaySchema).describe(JSON.stringify({\n    text: \"Image layers that are applied under the base image.\",\n    url: \"https://cloudinary.com/documentation/transformation_reference#l_layer\"\n  })).optional()\n};\nvar assetTypes18 = [\"image\", \"images\", \"video\", \"videos\"];\nfunction plugin18(props21) {\n  const { cldAsset, options } = props21;\n  const { underlay, underlays = [] } = options;\n  const typeQualifier = \"u\";\n  if (Array.isArray(underlays)) {\n    underlays.forEach(applyUnderlay);\n  }\n  if (typeof underlay === \"string\") {\n    const underlayOptions = {\n      publicId: underlay,\n      crop: \"fill\",\n      width: \"1.0\",\n      height: \"1.0\",\n      flags: [\"relative\"]\n    };\n    applyUnderlay(underlayOptions);\n  }\n  function applyUnderlay({ publicId, type, position: position2, effects: layerEffects = [], flags: layerFlags = [], appliedFlags = [], ...options2 }) {\n    const hasPublicId = typeof publicId === \"string\";\n    const hasPosition = typeof position2 === \"object\";\n    if (!hasPublicId) {\n      console.warn(`An ${type} is missing a Public ID`);\n      return;\n    }\n    let layerTransformation = `${typeQualifier}_${publicId.replace(/\\//g, \":\")}`;\n    const primary2 = [];\n    const applied = [];\n    Object.keys(options2).forEach((key) => {\n      if (!(0, import_util4.objectHasKey)(primary, key))\n        return;\n      const { qualifier } = primary[key];\n      primary2.push(`${qualifier}_${options2[key]}`);\n    });\n    layerEffects.forEach((effect) => {\n      Object.keys(effect).forEach((key) => {\n        if (!(0, import_util4.objectHasKey)(primary, key))\n          return;\n        const { qualifier } = primary[key];\n        primary2.push(`${qualifier}_${effect[key]}`);\n      });\n    });\n    if (hasPosition) {\n      Object.keys(position2).forEach((key) => {\n        if (!(0, import_util4.objectHasKey)(position, key))\n          return;\n        const { qualifier } = position[key];\n        applied.push(`${qualifier}_${position2[key]}`);\n      });\n    }\n    const activeLayerFlags = Array.isArray(layerFlags) ? layerFlags : [layerFlags];\n    activeLayerFlags.forEach((flag) => {\n      const { success } = flagsEnum.safeParse(flag);\n      if (!success) {\n        if (true) {\n          console.warn(`Invalid flag ${flag}, not applying.`);\n        }\n        return;\n      }\n      primary2.push(`fl_${flag}`);\n    });\n    const activeAppliedFlags = Array.isArray(appliedFlags) ? appliedFlags : [appliedFlags];\n    activeAppliedFlags.forEach((flag) => {\n      const { success } = flagsEnum.safeParse(flag);\n      if (!success) {\n        if (true) {\n          console.warn(`Invalid flag ${flag}, not applying.`);\n        }\n        return;\n      }\n      applied.push(`fl_${flag}`);\n    });\n    layerTransformation = `${layerTransformation},${primary2.join(\",\")}`;\n    layerTransformation = `${layerTransformation}/fl_layer_apply,fl_no_overflow`;\n    if (applied.length > 0) {\n      layerTransformation = `${layerTransformation},${applied.join(\",\")}`;\n    }\n    cldAsset.addTransformation(layerTransformation);\n  }\n  return {};\n}\n\n// src/plugins/version.ts\nvar version_exports = {};\n__export(version_exports, {\n  assetTypes: () => assetTypes19,\n  plugin: () => plugin19,\n  props: () => props19\n});\nvar import_zod20 = __webpack_require__(/*! zod */ \"(ssr)/./node_modules/zod/lib/index.js\");\nvar props19 = {\n  version: import_zod20.z.union([\n    import_zod20.z.number(),\n    import_zod20.z.string()\n  ]).describe(JSON.stringify({\n    text: \"Custom version number to apply to asset URL.\",\n    url: \"https://cloudinary.com/documentation/advanced_url_delivery_options#asset_versions\"\n  })).optional()\n};\nvar assetTypes19 = [\"image\", \"images\", \"video\", \"videos\"];\nfunction plugin19(props21) {\n  const { cldAsset, options } = props21;\n  const { version } = options;\n  if (typeof version === \"string\" || typeof version === \"number\") {\n    cldAsset.setVersion(`${version}`.replace(\"v\", \"\"));\n  }\n  return {};\n}\n\n// src/plugins/zoompan.ts\nvar zoompan_exports = {};\n__export(zoompan_exports, {\n  assetTypes: () => assetTypes20,\n  plugin: () => plugin20,\n  props: () => props20\n});\nvar import_zod21 = __webpack_require__(/*! zod */ \"(ssr)/./node_modules/zod/lib/index.js\");\nvar props20 = {\n  zoompan: import_zod21.z.union([\n    import_zod21.z.string(),\n    import_zod21.z.boolean(),\n    import_zod21.z.object({\n      loop: effects.loop.schema.optional(),\n      options: import_zod21.z.string()\n    })\n  ]).describe(JSON.stringify({\n    text: \"Applies zooming and/or panning to an image, resulting in a video or animated image.\",\n    url: \"https://cloudinary.com/documentation/transformation_reference#e_zoompan\"\n  })).optional()\n};\nvar assetTypes20 = [\"image\", \"images\"];\nfunction plugin20(props21) {\n  const { cldAsset, options } = props21;\n  const { zoompan = false } = options;\n  const overrides = {\n    format: void 0\n  };\n  if (zoompan === true) {\n    cldAsset.effect(\"e_zoompan\");\n  } else if (typeof zoompan === \"string\") {\n    if (zoompan === \"loop\") {\n      cldAsset.effect(\"e_zoompan\");\n      cldAsset.effect(\"e_loop\");\n    } else {\n      cldAsset.effect(`e_zoompan:${zoompan}`);\n    }\n  } else if (typeof zoompan === \"object\") {\n    let zoompanEffect = \"e_zoompan\";\n    if (typeof zoompan.options === \"string\") {\n      zoompanEffect = `${zoompanEffect}:${zoompan.options}`;\n    }\n    cldAsset.effect(zoompanEffect);\n    let loopEffect;\n    if (zoompan.loop === true) {\n      loopEffect = \"e_loop\";\n    } else if (typeof zoompan.loop === \"string\" || typeof zoompan.loop === \"number\") {\n      loopEffect = `e_loop:${zoompan.loop}`;\n    }\n    if (loopEffect) {\n      cldAsset.effect(loopEffect);\n    }\n  }\n  if (zoompan !== false) {\n    overrides.format = \"auto:animated\";\n  }\n  return {\n    options: overrides\n  };\n}\n\n// src/types/asset.ts\nvar import_zod22 = __webpack_require__(/*! zod */ \"(ssr)/./node_modules/zod/lib/index.js\");\nvar assetOptionsSchema = import_zod22.z.object({\n  assetType: import_zod22.z.string().default(\"image\").describe(JSON.stringify({\n    text: \"The type of asset to deliver.\",\n    url: \"https://cloudinary.com/documentation/image_transformations#transformation_url_structure\"\n  })).optional(),\n  deliveryType: import_zod22.z.string().default(\"upload\").describe(JSON.stringify({\n    text: \"Delivery method of the asset.\",\n    url: \"https://cloudinary.com/documentation/image_transformations#delivery_types\"\n  })).optional(),\n  dpr: import_zod22.z.union([import_zod22.z.string(), import_zod22.z.number()]).describe(JSON.stringify({\n    text: \"Delivery method of the asset.\",\n    url: \"https://cloudinary.com/documentation/image_transformations#delivery_types\"\n  })).optional(),\n  format: import_zod22.z.string().default(\"auto\").describe(JSON.stringify({\n    text: \"Converts (if necessary) and delivers an asset in the specified format.\",\n    url: \"https://cloudinary.com/documentation/transformation_reference#f_format\"\n  })).optional(),\n  height: import_zod22.z.union([import_zod22.z.string(), import_zod22.z.number()]).describe(JSON.stringify({\n    text: \"Height of the given asset.\"\n  })).optional(),\n  quality: import_zod22.z.union([import_zod22.z.string(), import_zod22.z.number(), import_zod22.z.string()]).default(\"auto\").describe(JSON.stringify({\n    text: \"Quality of the delivered asset\",\n    url: \"https://cloudinary.com/documentation/transformation_reference#q_quality\"\n  })).optional(),\n  src: import_zod22.z.string().describe(JSON.stringify({\n    text: \"Cloudinary Public ID or versioned Cloudinary URL (/v1234/)\"\n  })),\n  strictTransformations: import_zod22.z.boolean().describe(JSON.stringify({\n    text: \"Gives you the ability to have more control over what transformations are permitted to be used from your Cloudinary account.\",\n    url: \"https://cloudinary.com/documentation/control_access_to_media#strict_transformations\"\n  })).optional(),\n  width: import_zod22.z.union([import_zod22.z.string(), import_zod22.z.number()]).describe(JSON.stringify({\n    text: \"Width of the given asset.\"\n  })).optional(),\n  // Spreading plugins instead of extend or merge to avoid excessive schema warning\n  // https://github.com/microsoft/TypeScript/issues/34933#issuecomment-1772787785\n  ...props2,\n  ...props4,\n  ...props6,\n  ...props9,\n  ...props10,\n  ...props11,\n  ...props14,\n  ...props16,\n  ...props17,\n  ...props18,\n  ...props19\n});\n\n// src/types/image.ts\nvar import_zod23 = __webpack_require__(/*! zod */ \"(ssr)/./node_modules/zod/lib/index.js\");\nvar imageOptionsSchema = assetOptionsSchema.merge(import_zod23.z.object({\n  // Spreading plugins instead of extend or merge to avoid excessive schema warning\n  // https://github.com/microsoft/TypeScript/issues/34933#issuecomment-1772787785\n  ...props3,\n  ...props5,\n  ...props7,\n  ...props12,\n  ...props13,\n  ...props8,\n  ...props15,\n  ...props20\n}));\n\n// src/types/video.ts\nvar import_zod24 = __webpack_require__(/*! zod */ \"(ssr)/./node_modules/zod/lib/index.js\");\nvar videoOptionsSchema = assetOptionsSchema.merge(import_zod24.z.object({\n  // Spreading plugins instead of extend or merge to avoid excessive schema warning\n  // https://github.com/microsoft/TypeScript/issues/34933#issuecomment-1772787785\n  ...props\n}));\n\n// src/types/analytics.ts\nvar import_zod25 = __webpack_require__(/*! zod */ \"(ssr)/./node_modules/zod/lib/index.js\");\nvar analyticsOptionsSchema = import_zod25.z.any();\n\n// src/types/config.ts\nvar import_zod26 = __webpack_require__(/*! zod */ \"(ssr)/./node_modules/zod/lib/index.js\");\nvar configOptionsSchema = import_zod26.z.any();\n\n// src/lib/cloudinary.ts\nvar transformationPlugins = [\n  // Some features *must* be the first transformation applied\n  // thus their plugins *must* come first in the chain\n  enhance_exports,\n  recolor_exports,\n  remove_background_exports,\n  remove_exports,\n  replace_exports,\n  restore_exports,\n  // Cropping needs to be before any other general transformations\n  // as it provides the option of 2-step resizing where someone\n  // can resize the \"base\" canvas as well as the final resize\n  // mechanism commonly used for responsive resizing\n  cropping_exports,\n  // Raw transformations should always come before\n  // other arguments to avoid conflicting with\n  // added options via the component\n  raw_transformations_exports,\n  abr_exports,\n  default_image_exports,\n  effects_exports,\n  fill_background_exports,\n  flags_exports,\n  overlays_exports,\n  sanitize_exports,\n  named_transformations_exports,\n  seo_exports,\n  underlays_exports,\n  version_exports,\n  zoompan_exports\n];\nvar constructUrlPropsSchema = import_zod27.z.object({\n  analytics: import_zod27.z.union([\n    analyticsOptionsSchema,\n    import_zod27.z.boolean()\n  ]).describe(JSON.stringify({\n    text: \"Tech, dependency, and feature identifiers for tracking SDK usage related to Cloudinary.\",\n    path: \"/url-loader/analyticsoptions\"\n  })).optional(),\n  config: configOptionsSchema.describe(JSON.stringify({\n    text: \"Configuration parameters for environment and Cloudinary account.\",\n    url: \"https://cloudinary.com/documentation/cloudinary_sdks#configuration_parameters\",\n    path: \"/url-loader/analyticsoptions\"\n  })).optional(),\n  options: import_zod27.z.union([\n    assetOptionsSchema,\n    imageOptionsSchema,\n    videoOptionsSchema\n  ]).describe(JSON.stringify({\n    text: \"Asset options (Image or Video) that define delivery URL including public ID and transformations.\",\n    path: \"/url-loader/assetoptions\"\n  }))\n});\nfunction constructCloudinaryUrl({ options, config = {}, analytics }) {\n  if (analytics === false) {\n    if (typeof config?.url === \"undefined\") {\n      config.url = {};\n    }\n    config.url.analytics = false;\n  }\n  const cld = new import_url_gen.Cloudinary(config);\n  if (typeof options?.src !== \"string\") {\n    throw Error(`Failed to construct Cloudinary URL: Missing source (src) in options`);\n  }\n  if (!options?.assetType) {\n    options.assetType = \"image\";\n  }\n  const propsCheck = [];\n  transformationPlugins.forEach(({ props: props21 }) => {\n    const pluginProps = Object.keys(props21);\n    pluginProps.forEach((prop) => {\n      if (propsCheck.includes(prop)) {\n        throw new Error(`Option ${prop} already exists!`);\n      }\n      propsCheck.push(prop);\n    });\n  });\n  const parsedOptions = {};\n  let publicId;\n  if (typeof options.src === \"string\" && /^https?:\\/\\//.test(options.src)) {\n    try {\n      const parts = (0, import_util5.parseUrl)(options.src);\n      publicId = parts?.publicId;\n      parsedOptions.seoSuffix = parts?.seoSuffix;\n      parsedOptions.version = parts?.version;\n    } catch (e) {\n    }\n  }\n  if (!publicId) {\n    publicId = options.src;\n  }\n  Object.keys(parsedOptions).forEach((key) => {\n    if ((0, import_util5.objectHasKey)(options, key))\n      return;\n    options[key] = parsedOptions[key];\n  });\n  let cldAsset = void 0;\n  if ([\"image\", \"images\"].includes(options.assetType)) {\n    cldAsset = cld.image(publicId);\n  } else if ([\"video\", \"videos\"].includes(options.assetType)) {\n    cldAsset = cld.video(publicId);\n  }\n  if (typeof cldAsset === \"undefined\") {\n    throw new Error(\"Invalid asset type.\");\n  }\n  const pluginEffects = {};\n  transformationPlugins.forEach(({ plugin: plugin21, assetTypes: assetTypes21, props: props21, strict: strict2 }) => {\n    const supportedAssetType = typeof options?.assetType !== \"undefined\" && assetTypes21.includes(options?.assetType);\n    const pluginProps = Object.keys(props21);\n    const optionsKeys = Object.keys(options);\n    const attemptedUse = pluginProps.map((prop) => optionsKeys.includes(prop)).filter((isUsed) => !!isUsed).length > 0;\n    if (!supportedAssetType) {\n      if (attemptedUse) {\n        console.warn(`One of the following props [${pluginProps.join(\", \")}] was used with an unsupported asset type [${options?.assetType}]`);\n      }\n      return;\n    }\n    if (options.strictTransformations && !strict2) {\n      if (attemptedUse) {\n        console.warn(`One of the following props [${pluginProps.join(\", \")}] was used that is not supported with Strict Transformations.`);\n      }\n      return;\n    }\n    const results = plugin21({\n      cldAsset,\n      options\n    });\n    const { options: pluginOptions } = results || { options: void 0 };\n    Object.assign(pluginEffects, pluginOptions);\n  });\n  if (typeof pluginEffects.resize === \"string\") {\n    cldAsset.addTransformation(pluginEffects.resize);\n  }\n  cldAsset.setDeliveryType(options?.deliveryType || \"upload\");\n  if (!options.strictTransformations) {\n    if (options?.dpr) {\n      let dpr = options.dpr;\n      if (typeof dpr === \"number\") {\n        dpr = dpr.toFixed(1);\n      }\n      cldAsset.addTransformation(`dpr_${dpr}`);\n    }\n    const defaultFormat = options?.format === \"default\";\n    const rawContainsFormat = searchAssetRawTransformations(\"f_\", cldAsset, { matchType: \"startsWith\" });\n    const rawContainsFormatAndExplicit = rawContainsFormat && typeof options?.format !== \"undefined\";\n    if (pluginEffects?.format || !defaultFormat && (!rawContainsFormat || rawContainsFormatAndExplicit)) {\n      cldAsset.format(options?.format || pluginEffects?.format || \"auto\");\n    }\n    const defaultQuality = options?.quality === \"default\";\n    const rawContainsQuality = searchAssetRawTransformations(\"q_\", cldAsset, { matchType: \"startsWith\" });\n    const rawContainsQualityAndExplicit = rawContainsQuality && typeof options?.quality !== \"undefined\";\n    if (!defaultQuality && (!rawContainsQuality || rawContainsQualityAndExplicit)) {\n      cldAsset.quality(options?.quality || \"auto\");\n    }\n  }\n  return cldAsset.toURL({\n    trackedAnalytics: analytics\n  });\n}\nfunction searchAssetRawTransformations(query, asset, options) {\n  if (typeof asset.transformation === \"undefined\")\n    return;\n  const { matchType = \"includes\" } = options || {};\n  const transformations = asset.transformation.actions.flatMap((transformation) => {\n    return transformation.toString().split(\"/\").flatMap((seg) => seg.split(\",\"));\n  });\n  const matches = transformations.filter((transformation) => {\n    if (matchType === \"startsWith\") {\n      return transformation.startsWith(query);\n    } else {\n      return transformation.includes(query);\n    }\n  });\n  return matches.length > 0;\n}\n// Annotate the CommonJS export names for ESM import in node:\n0 && (0);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGNsb3VkaW5hcnktdXRpbC91cmwtbG9hZGVyL2Rpc3QvaW5kZXguanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIsa0NBQWtDO0FBQ2hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsNEZBQTRGO0FBQ3pIO0FBQ0E7QUFDQTtBQUNBLG9EQUFvRCxrQkFBa0IsYUFBYTs7QUFFbkY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEOztBQUVBO0FBQ0EsbUJBQW1CLG1CQUFPLENBQUMsa0RBQUs7QUFDaEMscUJBQXFCLG1CQUFPLENBQUMsK0VBQXFCO0FBQ2xELG1CQUFtQixtQkFBTyxDQUFDLHVGQUF1Qjs7QUFFbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNELGlCQUFpQixtQkFBTyxDQUFDLGtEQUFLO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLFVBQVUsb0JBQW9CO0FBQzlCLFVBQVUsbUJBQW1CO0FBQzdCO0FBQ0EscUNBQXFDLGlCQUFpQjtBQUN0RDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNELGtCQUFrQixtQkFBTyxDQUFDLGtEQUFLOztBQUUvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNELGtCQUFrQixtQkFBTyxDQUFDLGtEQUFLO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBLG1DQUFtQyxzQ0FBc0M7QUFDekU7QUFDQTtBQUNBLHdCQUF3QixPQUFPO0FBQy9CO0FBQ0E7QUFDQSx5QkFBeUIsZUFBZTtBQUN4QztBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxjQUFjLGVBQWUsRUFBRSxVQUFVO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixlQUFlLEVBQUUsVUFBVSxHQUFHLG9CQUFvQjtBQUNsRSxNQUFNO0FBQ04sZ0JBQWdCLFVBQVUsR0FBRyxvQkFBb0I7QUFDakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLG1CQUFtQixHQUFHO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLG9CQUFvQjtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsSUFBSTtBQUNKO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVSxzREFBc0Q7QUFDaEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIsTUFBTTtBQUNwQztBQUNBO0FBQ0EsK0JBQStCLGFBQWE7QUFDNUM7QUFDQTtBQUNBLDhCQUE4QixPQUFPO0FBQ3JDO0FBQ0E7QUFDQSw4QkFBOEIsUUFBUTtBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxRUFBcUUsNEJBQTRCO0FBQ2pHLE1BQU07QUFDTixnQ0FBZ0MsU0FBUztBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBLDZEQUE2RCx5QkFBeUI7QUFDdEYsTUFBTTtBQUNOLGdDQUFnQyxNQUFNO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRCxrQkFBa0IsbUJBQU8sQ0FBQyxrREFBSztBQUMvQixrQkFBa0IsbUJBQU8sQ0FBQyx1RkFBdUI7QUFDakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsVUFBVSxvQkFBb0I7QUFDOUIsVUFBVSxlQUFlO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0MsZUFBZTtBQUNuRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNELGtCQUFrQixtQkFBTyxDQUFDLGtEQUFLOztBQUUvQjtBQUNBLGtCQUFrQixtQkFBTyxDQUFDLGtEQUFLO0FBQy9CLG1CQUFtQixtQkFBTyxDQUFDLHVGQUF1QjtBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FB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LHlCQUF5QjtBQUN2RztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0VBQStFLHlCQUF5QjtBQUN4RztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVUseUJBQXlCO0FBQ25DO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsTUFBTSxDQU9MIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdmFjY2luZS1ib29rLWFwcC8uL25vZGVfbW9kdWxlcy9AY2xvdWRpbmFyeS11dGlsL3VybC1sb2FkZXIvZGlzdC9pbmRleC5qcz82ODI1Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xudmFyIF9fZGVmUHJvcCA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcbnZhciBfX2dldE93blByb3BEZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjtcbnZhciBfX2dldE93blByb3BOYW1lcyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzO1xudmFyIF9faGFzT3duUHJvcCA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG52YXIgX19leHBvcnQgPSAodGFyZ2V0LCBhbGwpID0+IHtcbiAgZm9yICh2YXIgbmFtZSBpbiBhbGwpXG4gICAgX19kZWZQcm9wKHRhcmdldCwgbmFtZSwgeyBnZXQ6IGFsbFtuYW1lXSwgZW51bWVyYWJsZTogdHJ1ZSB9KTtcbn07XG52YXIgX19jb3B5UHJvcHMgPSAodG8sIGZyb20sIGV4Y2VwdCwgZGVzYykgPT4ge1xuICBpZiAoZnJvbSAmJiB0eXBlb2YgZnJvbSA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgZnJvbSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgZm9yIChsZXQga2V5IG9mIF9fZ2V0T3duUHJvcE5hbWVzKGZyb20pKVxuICAgICAgaWYgKCFfX2hhc093blByb3AuY2FsbCh0bywga2V5KSAmJiBrZXkgIT09IGV4Y2VwdClcbiAgICAgICAgX19kZWZQcm9wKHRvLCBrZXksIHsgZ2V0OiAoKSA9PiBmcm9tW2tleV0sIGVudW1lcmFibGU6ICEoZGVzYyA9IF9fZ2V0T3duUHJvcERlc2MoZnJvbSwga2V5KSkgfHwgZGVzYy5lbnVtZXJhYmxlIH0pO1xuICB9XG4gIHJldHVybiB0bztcbn07XG52YXIgX190b0NvbW1vbkpTID0gKG1vZCkgPT4gX19jb3B5UHJvcHMoX19kZWZQcm9wKHt9LCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KSwgbW9kKTtcblxuLy8gc3JjL2luZGV4LnRzXG52YXIgc3JjX2V4cG9ydHMgPSB7fTtcbl9fZXhwb3J0KHNyY19leHBvcnRzLCB7XG4gIGNvbnN0cnVjdENsb3VkaW5hcnlVcmw6ICgpID0+IGNvbnN0cnVjdENsb3VkaW5hcnlVcmwsXG4gIGVmZmVjdHM6ICgpID0+IGVmZmVjdHMsXG4gIHBvc2l0aW9uOiAoKSA9PiBwb3NpdGlvbixcbiAgcHJpbWFyeTogKCkgPT4gcHJpbWFyeSxcbiAgdGV4dDogKCkgPT4gdGV4dCxcbiAgdHJhbnNmb3JtYXRpb25QbHVnaW5zOiAoKSA9PiB0cmFuc2Zvcm1hdGlvblBsdWdpbnNcbn0pO1xubW9kdWxlLmV4cG9ydHMgPSBfX3RvQ29tbW9uSlMoc3JjX2V4cG9ydHMpO1xuXG4vLyBzcmMvbGliL2Nsb3VkaW5hcnkudHNcbnZhciBpbXBvcnRfem9kMjcgPSByZXF1aXJlKFwiem9kXCIpO1xudmFyIGltcG9ydF91cmxfZ2VuID0gcmVxdWlyZShcIkBjbG91ZGluYXJ5L3VybC1nZW5cIik7XG52YXIgaW1wb3J0X3V0aWw1ID0gcmVxdWlyZShcIkBjbG91ZGluYXJ5LXV0aWwvdXRpbFwiKTtcblxuLy8gc3JjL3BsdWdpbnMvYWJyLnRzXG52YXIgYWJyX2V4cG9ydHMgPSB7fTtcbl9fZXhwb3J0KGFicl9leHBvcnRzLCB7XG4gIGFzc2V0VHlwZXM6ICgpID0+IGFzc2V0VHlwZXMsXG4gIHBsdWdpbjogKCkgPT4gcGx1Z2luLFxuICBwcm9wczogKCkgPT4gcHJvcHNcbn0pO1xudmFyIGltcG9ydF96b2QgPSByZXF1aXJlKFwiem9kXCIpO1xudmFyIHByb3BzID0ge1xuICBzdHJlYW1pbmdQcm9maWxlOiBpbXBvcnRfem9kLnouc3RyaW5nKCkuZGVzY3JpYmUoSlNPTi5zdHJpbmdpZnkoe1xuICAgIHRleHQ6IFwiVGhlIHN0cmVhbWluZyBwcm9maWxlIHRvIGFwcGx5IHdoZW4gZGVsaXZlcmluZyBhIHZpZGVvIHVzaW5nIGFkYXB0aXZlIGJpdHJhdGUgc3RyZWFtaW5nLlwiLFxuICAgIHVybDogXCJodHRwczovL2Nsb3VkaW5hcnkuY29tL2RvY3VtZW50YXRpb24vdHJhbnNmb3JtYXRpb25fcmVmZXJlbmNlI3NwX3N0cmVhbWluZ19wcm9maWxlXCJcbiAgfSkpLm9wdGlvbmFsKClcbn07XG52YXIgYXNzZXRUeXBlcyA9IFtcInZpZGVvXCIsIFwidmlkZW9zXCJdO1xuZnVuY3Rpb24gcGx1Z2luKHByb3BzMjEpIHtcbiAgY29uc3QgeyBjbGRBc3NldCwgb3B0aW9ucyB9ID0gcHJvcHMyMTtcbiAgY29uc3QgeyBzdHJlYW1pbmdQcm9maWxlIH0gPSBvcHRpb25zO1xuICBpZiAodHlwZW9mIHN0cmVhbWluZ1Byb2ZpbGUgPT09IFwic3RyaW5nXCIpIHtcbiAgICBjbGRBc3NldC5hZGRUcmFuc2Zvcm1hdGlvbihgc3BfJHtzdHJlYW1pbmdQcm9maWxlfWApO1xuICB9XG4gIHJldHVybiB7fTtcbn1cblxuLy8gc3JjL3BsdWdpbnMvY3JvcHBpbmcudHNcbnZhciBjcm9wcGluZ19leHBvcnRzID0ge307XG5fX2V4cG9ydChjcm9wcGluZ19leHBvcnRzLCB7XG4gIGFzc2V0VHlwZXM6ICgpID0+IGFzc2V0VHlwZXMyLFxuICBwbHVnaW46ICgpID0+IHBsdWdpbjIsXG4gIHByb3BzOiAoKSA9PiBwcm9wczJcbn0pO1xudmFyIGltcG9ydF96b2QzID0gcmVxdWlyZShcInpvZFwiKTtcblxuLy8gc3JjL2NvbnN0YW50cy9wYXJhbWV0ZXJzLnRzXG52YXIgcGFyYW1ldGVyc19leHBvcnRzID0ge307XG5fX2V4cG9ydChwYXJhbWV0ZXJzX2V4cG9ydHMsIHtcbiAgYW5nbGU6ICgpID0+IGFuZ2xlLFxuICBhc3BlY3RSYXRpbzogKCkgPT4gYXNwZWN0UmF0aW8sXG4gIGFzcGVjdFJhdGlvTW9kZXNFbnVtOiAoKSA9PiBhc3BlY3RSYXRpb01vZGVzRW51bSxcbiAgY3JvcDogKCkgPT4gY3JvcCxcbiAgY3JvcE1vZGVzRW51bTogKCkgPT4gY3JvcE1vZGVzRW51bSxcbiAgZmxhZ3M6ICgpID0+IGZsYWdzLFxuICBmbGFnc0VudW06ICgpID0+IGZsYWdzRW51bSxcbiAgZm9ybWF0OiAoKSA9PiBmb3JtYXQsXG4gIGdyYXZpdHk6ICgpID0+IGdyYXZpdHksXG4gIGhlaWdodDogKCkgPT4gaGVpZ2h0LFxuICB3aWR0aDogKCkgPT4gd2lkdGgsXG4gIHg6ICgpID0+IHgsXG4gIHk6ICgpID0+IHksXG4gIHpvb206ICgpID0+IHpvb21cbn0pO1xudmFyIGltcG9ydF96b2QyID0gcmVxdWlyZShcInpvZFwiKTtcbnZhciBjcm9wTW9kZXNFbnVtID0gaW1wb3J0X3pvZDIuei5lbnVtKFtcbiAgXCJhdXRvXCIsXG4gIFwiZmlsbFwiLFxuICBcImxmaWxsXCIsXG4gIFwiZmlsbF9wYWRcIixcbiAgXCJjcm9wXCIsXG4gIFwidGh1bWJcIixcbiAgXCJzY2FsZVwiLFxuICBcImZpdFwiLFxuICBcImxpbWl0XCIsXG4gIFwibWZpdFwiLFxuICBcInBhZFwiLFxuICBcImxwYWRcIixcbiAgXCJtcGFkXCIsXG4gIFwiaW1hZ2dhX3NjYWxlXCIsXG4gIFwiaW1hZ2dhX2Nyb3BcIlxuXSk7XG52YXIgZmxhZ3NFbnVtID0gaW1wb3J0X3pvZDIuei5lbnVtKFtcbiAgXCJhbmltYXRlZFwiLFxuICBcImFueV9mb3JtYXRcIixcbiAgXCJhcG5nXCIsXG4gIFwiYXR0YWNobWVudFwiLFxuICBcImF3ZWJwXCIsXG4gIFwiY2xpcFwiLFxuICBcImNsaXBfZXZlbm9kZFwiLFxuICBcImN1dHRlclwiLFxuICBcImZvcmNlX2ljY1wiLFxuICBcImZvcmNlX3N0cmlwXCIsXG4gIFwiZ2V0aW5mb1wiLFxuICBcImdyb3VwNFwiLFxuICBcImhsc3YzXCIsXG4gIFwiaWdub3JlX2FzcGVjdF9yYXRpb1wiLFxuICBcImlnbm9yZV9tYXNrX2NoYW5uZWxzXCIsXG4gIFwiaW1tdXRhYmxlX2NhY2hlXCIsXG4gIFwia2VlcF9hdHRyaWJ1dGlvblwiLFxuICBcImtlZXBfZGFyXCIsXG4gIFwia2VlcF9pcHRjXCIsXG4gIFwibGF5ZXJfYXBwbHlcIixcbiAgXCJsb3NzeVwiLFxuICBcIm1vbm9cIixcbiAgXCJub19vdmVyZmxvd1wiLFxuICBcIm5vX3N0cmVhbVwiLFxuICBcInBuZzhfZmxfcG5nMjRfZmxfcG5nMzJcIixcbiAgXCJwcmVzZXJ2ZV90cmFuc3BhcmVuY3lcIixcbiAgXCJwcm9ncmVzc2l2ZVwiLFxuICBcInJhc3Rlcml6ZVwiLFxuICBcInJlZ2lvbl9yZWxhdGl2ZVwiLFxuICBcInJlbGF0aXZlXCIsXG4gIFwicmVwbGFjZV9pbWFnZVwiLFxuICBcInNhbml0aXplXCIsXG4gIFwic3BsaWNlXCIsXG4gIFwic3RyZWFtaW5nX2F0dGFjaG1lbnRcIixcbiAgXCJzdHJpcF9wcm9maWxlXCIsXG4gIFwidGV4dF9kaXNhbGxvd19vdmVyZmxvd1wiLFxuICBcInRleHRfbm9fdHJpbVwiLFxuICBcInRpZmY4X2x6d1wiLFxuICBcInRpbGVkXCIsXG4gIFwidHJ1bmNhdGVfdHNcIixcbiAgXCJ3YXZlZm9ybVwiXG5dKTtcbnZhciBhbmdsZSA9IHtcbiAgcXVhbGlmaWVyOiBcImFcIixcbiAgc2NoZW1hOiBpbXBvcnRfem9kMi56LnVuaW9uKFtcbiAgICBpbXBvcnRfem9kMi56LnN0cmluZygpLFxuICAgIGltcG9ydF96b2QyLnoubnVtYmVyKClcbiAgXSkuZGVzY3JpYmUoSlNPTi5zdHJpbmdpZnkoe1xuICAgIHRleHQ6IFwiUm90YXRlcyBvciBmbGlwcyBhbiBhc3NldCBieSB0aGUgc3BlY2lmaWVkIG51bWJlciBvZiBkZWdyZWVzIG9yIGF1dG9tYXRpY2FsbHkgYWNjb3JkaW5nIHRvIGl0cyBvcmllbnRhdGlvbiBvciBhdmFpbGFibGUgbWV0YWRhdGEuXCIsXG4gICAgdXJsOiBcImh0dHBzOi8vY2xvdWRpbmFyeS5jb20vZG9jdW1lbnRhdGlvbi90cmFuc2Zvcm1hdGlvbl9yZWZlcmVuY2UjYV9hbmdsZVwiXG4gIH0pKVxufTtcbnZhciBhc3BlY3RSYXRpb01vZGVzRW51bSA9IGltcG9ydF96b2QyLnouZW51bShbXG4gIFwidmZsaXBcIixcbiAgXCJoZmxpcFwiLFxuICBcImlnbm9yZVwiLFxuICBcImF1dG9fcmlnaHRcIixcbiAgXCJhdXRvX2xlZnRcIlxuXSk7XG52YXIgYXNwZWN0UmF0aW9TY2hlbWEgPSBpbXBvcnRfem9kMi56LnVuaW9uKFtcbiAgaW1wb3J0X3pvZDIuei5udW1iZXIoKSxcbiAgYXNwZWN0UmF0aW9Nb2Rlc0VudW0sXG4gIGltcG9ydF96b2QyLnouc3RyaW5nKClcbl0pO1xudmFyIGFzcGVjdFJhdGlvID0ge1xuICBxdWFsaWZpZXI6IFwiYXJcIixcbiAgc2NoZW1hOiBhc3BlY3RSYXRpb1NjaGVtYS5kZXNjcmliZShKU09OLnN0cmluZ2lmeSh7XG4gICAgdGV4dDogXCJDcm9wcyBvciByZXNpemVzIHRoZSBhc3NldCB0byBhIG5ldyBhc3BlY3QgcmF0aW8uXCIsXG4gICAgdXJsOiBcImh0dHBzOi8vY2xvdWRpbmFyeS5jb20vZG9jdW1lbnRhdGlvbi90cmFuc2Zvcm1hdGlvbl9yZWZlcmVuY2UjYXJfYXNwZWN0X3JhdGlvXCJcbiAgfSkpXG59O1xudmFyIGNyb3BTY2hlbWEgPSBjcm9wTW9kZXNFbnVtO1xudmFyIGNyb3AgPSB7XG4gIHF1YWxpZmllcjogXCJjXCIsXG4gIHNjaGVtYTogY3JvcFNjaGVtYS5kZXNjcmliZShKU09OLnN0cmluZ2lmeSh7XG4gICAgdGV4dDogXCJNb2RlIHRvIHVzZSB3aGVuIGNyb3BwaW5nIGFuIGFzc2V0LlwiLFxuICAgIHVybDogXCJodHRwczovL2Nsb3VkaW5hcnkuY29tL2RvY3VtZW50YXRpb24vdHJhbnNmb3JtYXRpb25fcmVmZXJlbmNlI2NfY3JvcF9yZXNpemVcIlxuICB9KSlcbn07XG52YXIgZmxhZ3MgPSB7XG4gIHF1YWxpZmllcjogXCJmbFwiLFxuICBzY2hlbWE6IGltcG9ydF96b2QyLnoudW5pb24oW1xuICAgIGZsYWdzRW51bSxcbiAgICBpbXBvcnRfem9kMi56LmFycmF5KGZsYWdzRW51bSlcbiAgXSkuZGVzY3JpYmUoSlNPTi5zdHJpbmdpZnkoe1xuICAgIHRleHQ6IFwiQWx0ZXJzIHRoZSByZWd1bGFyIGJlaGF2aW9yIG9mIGFub3RoZXIgdHJhbnNmb3JtYXRpb24gb3IgdGhlIG92ZXJhbGwgZGVsaXZlcnkgYmVoYXZpb3IuXCIsXG4gICAgdXJsOiBcImh0dHBzOi8vY2xvdWRpbmFyeS5jb20vZG9jdW1lbnRhdGlvbi90cmFuc2Zvcm1hdGlvbl9yZWZlcmVuY2UjZmxfZmxhZ1wiXG4gIH0pKVxufTtcbnZhciBmb3JtYXQgPSB7XG4gIHF1YWxpZmllcjogXCJmXCIsXG4gIC8vIEBUT0RPOiBlbnVtXG4gIHNjaGVtYTogaW1wb3J0X3pvZDIuei5zdHJpbmcoKS5kZXNjcmliZShKU09OLnN0cmluZ2lmeSh7XG4gICAgdGV4dDogXCJDb252ZXJ0cyAoaWYgbmVjZXNzYXJ5KSBhbmQgZGVsaXZlcnMgYW4gYXNzZXQgaW4gdGhlIHNwZWNpZmllZCBmb3JtYXQgcmVnYXJkbGVzcyBvZiB0aGUgZmlsZSBleHRlbnNpb24gdXNlZCBpbiB0aGUgZGVsaXZlcnkgVVJMLlwiLFxuICAgIHVybDogXCJodHRwczovL2Nsb3VkaW5hcnkuY29tL2RvY3VtZW50YXRpb24vdHJhbnNmb3JtYXRpb25fcmVmZXJlbmNlI2ZfZm9ybWF0XCJcbiAgfSkpXG59O1xudmFyIGdyYXZpdHlTY2hlbWEgPSBpbXBvcnRfem9kMi56LnN0cmluZygpO1xudmFyIGdyYXZpdHkgPSB7XG4gIHF1YWxpZmllcjogXCJnXCIsXG4gIHNjaGVtYTogZ3Jhdml0eVNjaGVtYS5kZXNjcmliZShKU09OLnN0cmluZ2lmeSh7XG4gICAgdGV4dDogXCJEZXRlcm1pbmVzIHdoaWNoIHBhcnQgb2YgYW4gYXNzZXQgdG8gZm9jdXMgb24uIE5vdGU6IERlZmF1bHQgb2YgYXV0byBpcyBhcHBsaWVkIGZvciBzdXBwb3J0ZWQgY3JvcCBtb2RlcyBvbmx5LlwiLFxuICAgIHVybDogXCJodHRwczovL2Nsb3VkaW5hcnkuY29tL2RvY3VtZW50YXRpb24vdHJhbnNmb3JtYXRpb25fcmVmZXJlbmNlI2dfZ3Jhdml0eVwiXG4gIH0pKVxufTtcbnZhciBoZWlnaHRTY2hlbWEgPSBpbXBvcnRfem9kMi56LnVuaW9uKFtcbiAgaW1wb3J0X3pvZDIuei5udW1iZXIoKSxcbiAgaW1wb3J0X3pvZDIuei5zdHJpbmcoKVxuXSk7XG52YXIgaGVpZ2h0ID0ge1xuICBxdWFsaWZpZXI6IFwiaFwiLFxuICBzY2hlbWE6IGhlaWdodFNjaGVtYS5kZXNjcmliZShKU09OLnN0cmluZ2lmeSh7XG4gICAgdGV4dDogXCJBIHF1YWxpZmllciB0aGF0IGRldGVybWluZXMgdGhlIGhlaWdodCBvZiBhIHRyYW5zZm9ybWVkIGFzc2V0IG9yIGFuIG92ZXJsYXkuXCIsXG4gICAgdXJsOiBcImh0dHBzOi8vY2xvdWRpbmFyeS5jb20vZG9jdW1lbnRhdGlvbi90cmFuc2Zvcm1hdGlvbl9yZWZlcmVuY2UjaF9oZWlnaHRcIlxuICB9KSlcbn07XG52YXIgd2lkdGhTY2hlbWEgPSBpbXBvcnRfem9kMi56LnVuaW9uKFtcbiAgaW1wb3J0X3pvZDIuei5udW1iZXIoKSxcbiAgaW1wb3J0X3pvZDIuei5zdHJpbmcoKVxuXSk7XG52YXIgd2lkdGggPSB7XG4gIHF1YWxpZmllcjogXCJ3XCIsXG4gIHNjaGVtYTogd2lkdGhTY2hlbWEuZGVzY3JpYmUoSlNPTi5zdHJpbmdpZnkoe1xuICAgIHRleHQ6IFwiQSBxdWFsaWZpZXIgdGhhdCBzZXRzIHRoZSBkZXNpcmVkIHdpZHRoIG9mIGFuIGFzc2V0IHVzaW5nIGEgc3BlY2lmaWVkIHZhbHVlLCBvciBhdXRvbWF0aWNhbGx5IGJhc2VkIG9uIHRoZSBhdmFpbGFibGUgd2lkdGguXCIsXG4gICAgdXJsOiBcImh0dHBzOi8vY2xvdWRpbmFyeS5jb20vZG9jdW1lbnRhdGlvbi90cmFuc2Zvcm1hdGlvbl9yZWZlcmVuY2Ujd193aWR0aFwiXG4gIH0pKVxufTtcbnZhciB4ID0ge1xuICBxdWFsaWZpZXI6IFwieFwiLFxuICBzY2hlbWE6IGltcG9ydF96b2QyLnoudW5pb24oW1xuICAgIGltcG9ydF96b2QyLnouc3RyaW5nKCksXG4gICAgaW1wb3J0X3pvZDIuei5udW1iZXIoKVxuICBdKS5kZXNjcmliZShKU09OLnN0cmluZ2lmeSh7XG4gICAgdGV4dDogXCJBZGp1c3RzIHRoZSBzdGFydGluZyBsb2NhdGlvbiBvciBvZmZzZXQgb2YgdGhlIHggYXhpcy5cIixcbiAgICB1cmw6IFwiaHR0cHM6Ly9jbG91ZGluYXJ5LmNvbS9kb2N1bWVudGF0aW9uL3RyYW5zZm9ybWF0aW9uX3JlZmVyZW5jZSN4X3lfY29vcmRpbmF0ZXNcIlxuICB9KSlcbn07XG52YXIgeSA9IHtcbiAgcXVhbGlmaWVyOiBcInlcIixcbiAgc2NoZW1hOiBpbXBvcnRfem9kMi56LnVuaW9uKFtcbiAgICBpbXBvcnRfem9kMi56LnN0cmluZygpLFxuICAgIGltcG9ydF96b2QyLnoubnVtYmVyKClcbiAgXSkuZGVzY3JpYmUoSlNPTi5zdHJpbmdpZnkoe1xuICAgIHRleHQ6IFwiQWRqdXN0cyB0aGUgc3RhcnRpbmcgbG9jYXRpb24gb3Igb2Zmc2V0IG9mIHRoZSB5IGF4aXMuXCIsXG4gICAgdXJsOiBcImh0dHBzOi8vY2xvdWRpbmFyeS5jb20vZG9jdW1lbnRhdGlvbi90cmFuc2Zvcm1hdGlvbl9yZWZlcmVuY2UjeF95X2Nvb3JkaW5hdGVzXCJcbiAgfSkpXG59O1xudmFyIHpvb21TY2hlbWEgPSBpbXBvcnRfem9kMi56LnN0cmluZygpO1xudmFyIHpvb20gPSB7XG4gIHNjaGVtYTogem9vbVNjaGVtYS5kZXNjcmliZShKU09OLnN0cmluZ2lmeSh7XG4gICAgdGV4dDogXCJDb250cm9scyBob3cgY2xvc2UgdG8gY3JvcCB0byB0aGUgZGV0ZWN0ZWQgY29vcmRpbmF0ZXMgd2hlbiB1c2luZyBmYWNlLWRldGVjdGlvbiwgY3VzdG9tLWNvb3JkaW5hdGUsIG9yIG9iamVjdC1zcGVjaWZpYyBncmF2aXR5LlwiLFxuICAgIHVybDogXCJodHRwczovL2Nsb3VkaW5hcnkuY29tL2RvY3VtZW50YXRpb24vdHJhbnNmb3JtYXRpb25fcmVmZXJlbmNlI3pfem9vbVwiXG4gIH0pKVxufTtcblxuLy8gc3JjL2xpYi90cmFuc2Zvcm1hdGlvbnMudHNcbmZ1bmN0aW9uIGNvbnN0cnVjdFRyYW5zZm9ybWF0aW9uKHsgcHJlZml4LCBxdWFsaWZpZXIsIHZhbHVlLCBjb252ZXJ0ZXJzIH0pIHtcbiAgbGV0IHRyYW5zZm9ybWF0aW9uID0gXCJcIjtcbiAgaWYgKHByZWZpeCkge1xuICAgIHRyYW5zZm9ybWF0aW9uID0gYCR7cHJlZml4fV9gO1xuICB9XG4gIGxldCB0cmFuc2Zvcm1hdGlvblZhbHVlID0gdmFsdWU7XG4gIGNvbnZlcnRlcnM/LmZvckVhY2goKHsgdGVzdCwgY29udmVydCB9KSA9PiB7XG4gICAgaWYgKCF0ZXN0KHRyYW5zZm9ybWF0aW9uVmFsdWUpKVxuICAgICAgcmV0dXJuO1xuICAgIHRyYW5zZm9ybWF0aW9uVmFsdWUgPSBjb252ZXJ0KHRyYW5zZm9ybWF0aW9uVmFsdWUpO1xuICB9KTtcbiAgaWYgKHRyYW5zZm9ybWF0aW9uVmFsdWUgPT09IHRydWUgfHwgdHJhbnNmb3JtYXRpb25WYWx1ZSA9PT0gXCJ0cnVlXCIpIHtcbiAgICByZXR1cm4gYCR7dHJhbnNmb3JtYXRpb259JHtxdWFsaWZpZXJ9YDtcbiAgfVxuICBpZiAodHlwZW9mIHRyYW5zZm9ybWF0aW9uVmFsdWUgPT09IFwic3RyaW5nXCIgfHwgdHlwZW9mIHRyYW5zZm9ybWF0aW9uVmFsdWUgPT09IFwibnVtYmVyXCIpIHtcbiAgICBpZiAocHJlZml4KSB7XG4gICAgICByZXR1cm4gYCR7dHJhbnNmb3JtYXRpb259JHtxdWFsaWZpZXJ9OiR7dHJhbnNmb3JtYXRpb25WYWx1ZX1gO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gYCR7cXVhbGlmaWVyfV8ke3RyYW5zZm9ybWF0aW9uVmFsdWV9YDtcbiAgICB9XG4gIH1cbn1cbmZ1bmN0aW9uIHByb21wdEFycmF5VG9TdHJpbmcocHJvbXB0QXJyYXkpIHtcbiAgcmV0dXJuIGAoJHtwcm9tcHRBcnJheS5qb2luKFwiO1wiKX0pYDtcbn1cbmZ1bmN0aW9uIG5vcm1hbGl6ZU51bWJlclBhcmFtZXRlcihwYXJhbSkge1xuICBpZiAodHlwZW9mIHBhcmFtICE9PSBcInN0cmluZ1wiKVxuICAgIHJldHVybiBwYXJhbTtcbiAgcmV0dXJuIHBhcnNlSW50KHBhcmFtKTtcbn1cblxuLy8gc3JjL3BsdWdpbnMvY3JvcHBpbmcudHNcbnZhciBjcm9wc0FzcGVjdFJhdGlvID0gW1wiYXV0b1wiLCBcImNyb3BcIiwgXCJmaWxsXCIsIFwibGZpbGxcIiwgXCJmaWxsX3BhZFwiLCBcInRodW1iXCJdO1xudmFyIGNyb3BzR3Jhdml0eUF1dG8gPSBbXCJhdXRvXCIsIFwiY3JvcFwiLCBcImZpbGxcIiwgXCJsZmlsbFwiLCBcImZpbGxfcGFkXCIsIFwidGh1bWJcIl07XG52YXIgY3JvcHNXaXRoWm9vbSA9IFtcImNyb3BcIiwgXCJ0aHVtYlwiXTtcbnZhciBERUZBVUxUX0NST1AgPSBcImxpbWl0XCI7XG52YXIgY3JvcE9wdGlvbnNTY2hlbWEgPSBpbXBvcnRfem9kMy56Lm9iamVjdCh7XG4gIGFzcGVjdFJhdGlvOiBhc3BlY3RSYXRpby5zY2hlbWEub3B0aW9uYWwoKSxcbiAgdHlwZTogY3JvcC5zY2hlbWEsXG4gIGdyYXZpdHk6IGdyYXZpdHkuc2NoZW1hLm9wdGlvbmFsKCksXG4gIGhlaWdodDogaGVpZ2h0LnNjaGVtYS5vcHRpb25hbCgpLFxuICB3aWR0aDogd2lkdGguc2NoZW1hLm9wdGlvbmFsKCksXG4gIHpvb206IHpvb20uc2NoZW1hLm9wdGlvbmFsKCksXG4gIHNvdXJjZTogaW1wb3J0X3pvZDMuei5ib29sZWFuKCkub3B0aW9uYWwoKVxufSk7XG52YXIgcHJvcHMyID0ge1xuICBhc3BlY3RSYXRpbzogYXNwZWN0UmF0aW8uc2NoZW1hLm9wdGlvbmFsKCksXG4gIGNyb3A6IGltcG9ydF96b2QzLnoudW5pb24oW1xuICAgIGNyb3Auc2NoZW1hLFxuICAgIGNyb3BPcHRpb25zU2NoZW1hLFxuICAgIGltcG9ydF96b2QzLnouYXJyYXkoY3JvcE9wdGlvbnNTY2hlbWEpXG4gIF0pLmRlZmF1bHQoREVGQVVMVF9DUk9QKS5vcHRpb25hbCgpLFxuICBncmF2aXR5OiBncmF2aXR5LnNjaGVtYS5vcHRpb25hbCgpLFxuICB6b29tOiB6b29tLnNjaGVtYS5vcHRpb25hbCgpXG59O1xudmFyIGFzc2V0VHlwZXMyID0gW1wiaW1hZ2VcIiwgXCJpbWFnZXNcIiwgXCJ2aWRlb1wiLCBcInZpZGVvc1wiXTtcbmZ1bmN0aW9uIHBsdWdpbjIocHJvcHMyMSkge1xuICBjb25zdCB7IGNsZEFzc2V0LCBvcHRpb25zIH0gPSBwcm9wczIxO1xuICBsZXQgY3JvcHMgPSBbXTtcbiAgaWYgKHR5cGVvZiBvcHRpb25zLmNyb3AgPT09IFwic3RyaW5nXCIgfHwgdHlwZW9mIG9wdGlvbnMuY3JvcCA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgIGNyb3BzLnB1c2goe1xuICAgICAgYXNwZWN0UmF0aW86IG9wdGlvbnMuYXNwZWN0UmF0aW8sXG4gICAgICB3aWR0aDogb3B0aW9ucy53aWR0aCxcbiAgICAgIGhlaWdodDogb3B0aW9ucy5oZWlnaHQsXG4gICAgICBncmF2aXR5OiBvcHRpb25zLmdyYXZpdHksXG4gICAgICB0eXBlOiBvcHRpb25zLmNyb3AgfHwgREVGQVVMVF9DUk9QLFxuICAgICAgem9vbTogb3B0aW9ucy56b29tXG4gICAgfSk7XG4gIH0gZWxzZSBpZiAodHlwZW9mIG9wdGlvbnMuY3JvcCA9PT0gXCJvYmplY3RcIiAmJiAhQXJyYXkuaXNBcnJheShvcHRpb25zLmNyb3ApKSB7XG4gICAgY3JvcHMucHVzaChvcHRpb25zLmNyb3ApO1xuICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkob3B0aW9ucy5jcm9wKSkge1xuICAgIGNyb3BzID0gb3B0aW9ucy5jcm9wO1xuICB9XG4gIGlmIChjcm9wcy5sZW5ndGggPT09IDEgJiYgY3JvcHNbMF0uc291cmNlID09PSB0cnVlKSB7XG4gICAgY3JvcHMucHVzaCh7XG4gICAgICBhc3BlY3RSYXRpbzogb3B0aW9ucy5hc3BlY3RSYXRpbyxcbiAgICAgIHdpZHRoOiBvcHRpb25zLndpZHRoLFxuICAgICAgaGVpZ2h0OiBvcHRpb25zLmhlaWdodCxcbiAgICAgIGdyYXZpdHk6IG9wdGlvbnMuZ3Jhdml0eSxcbiAgICAgIHR5cGU6IERFRkFVTFRfQ1JPUCxcbiAgICAgIHpvb206IG9wdGlvbnMuem9vbVxuICAgIH0pO1xuICB9XG4gIGxldCBmaW5hbFRyYW5zZm9ybWF0aW9ucyA9IFtdO1xuICBsZXQgc291cmNlVHJhbnNmb3JtYXRpb25zID0gW107XG4gIGZvciAoY29uc3QgY3JvcDIgb2YgY3JvcHMpIHtcbiAgICBjb25zdCBjcm9wRGltZW5zaW9ucyA9IHtcbiAgICAgIHdpZHRoOiBjcm9wMi53aWR0aCxcbiAgICAgIGhlaWdodDogY3JvcDIuaGVpZ2h0XG4gICAgfTtcbiAgICBpZiAodHlwZW9mIGNyb3BEaW1lbnNpb25zLndpZHRoID09PSBcInVuZGVmaW5lZFwiICYmIHR5cGVvZiBjcm9wMi5hc3BlY3RSYXRpbyA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgY3JvcERpbWVuc2lvbnMud2lkdGggPSBvcHRpb25zLndpZHRoO1xuICAgICAgaWYgKHR5cGVvZiBjcm9wRGltZW5zaW9ucy5oZWlnaHQgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgY3JvcERpbWVuc2lvbnMuaGVpZ2h0ID0gb3B0aW9ucy5oZWlnaHQ7XG4gICAgICB9XG4gICAgfVxuICAgIGNvbnN0IHRyYW5zZm9ybWF0aW9ucyA9IGNvbGxlY3RUcmFuc2Zvcm1hdGlvbnMoe1xuICAgICAgYXNwZWN0UmF0aW86IGNyb3AyLmFzcGVjdFJhdGlvLFxuICAgICAgZ3Jhdml0eTogY3JvcDIuZ3Jhdml0eSxcbiAgICAgIHR5cGU6IGNyb3AyLnR5cGUgfHwgREVGQVVMVF9DUk9QLFxuICAgICAgem9vbTogY3JvcDIuem9vbSxcbiAgICAgIC4uLmNyb3BEaW1lbnNpb25zXG4gICAgfSk7XG4gICAgaWYgKHRyYW5zZm9ybWF0aW9ucy5sZW5ndGggPiAwKSB7XG4gICAgICBpZiAoY3JvcDIuc291cmNlID09PSB0cnVlKSB7XG4gICAgICAgIHNvdXJjZVRyYW5zZm9ybWF0aW9ucy5wdXNoKHRyYW5zZm9ybWF0aW9ucyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmaW5hbFRyYW5zZm9ybWF0aW9ucy5wdXNoKHRyYW5zZm9ybWF0aW9ucyk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHNvdXJjZVRyYW5zZm9ybWF0aW9ucy5mb3JFYWNoKCh0cmFuc2Zvcm1hdGlvbikgPT4ge1xuICAgIGlmICh0cmFuc2Zvcm1hdGlvbi5sZW5ndGggPiAwKSB7XG4gICAgICBjbGRBc3NldC5hZGRUcmFuc2Zvcm1hdGlvbih0cmFuc2Zvcm1hdGlvbi5qb2luKFwiLFwiKSk7XG4gICAgfVxuICB9KTtcbiAgY29uc3QgcmVzdWx0cyA9IHtcbiAgICBvcHRpb25zOiB7fVxuICB9O1xuICBpZiAocmVzdWx0cy5vcHRpb25zICYmIGZpbmFsVHJhbnNmb3JtYXRpb25zLmxlbmd0aCA+IDApIHtcbiAgICByZXN1bHRzLm9wdGlvbnMucmVzaXplID0gZmluYWxUcmFuc2Zvcm1hdGlvbnMubWFwKCh0cmFuc2Zvcm1hdGlvbikgPT4gdHJhbnNmb3JtYXRpb24uam9pbihcIixcIikpLmpvaW4oXCIvXCIpO1xuICB9XG4gIHJldHVybiByZXN1bHRzO1xufVxuZnVuY3Rpb24gY29sbGVjdFRyYW5zZm9ybWF0aW9ucyhjb2xsZWN0T3B0aW9ucykge1xuICBjb25zdCB7IGFzcGVjdFJhdGlvOiBhc3BlY3RSYXRpbzIsIHR5cGU6IGNyb3AyLCB6b29tOiB6b29tMiB9ID0gY29sbGVjdE9wdGlvbnM7XG4gIGxldCBncmF2aXR5MiA9IGNvbGxlY3RPcHRpb25zLmdyYXZpdHk7XG4gIGxldCBoZWlnaHQyID0gbm9ybWFsaXplTnVtYmVyUGFyYW1ldGVyKGNvbGxlY3RPcHRpb25zLmhlaWdodCk7XG4gIGxldCB3aWR0aDIgPSBub3JtYWxpemVOdW1iZXJQYXJhbWV0ZXIoY29sbGVjdE9wdGlvbnMud2lkdGgpO1xuICBjb25zdCB0cmFuc2Zvcm1hdGlvbnMgPSBbXTtcbiAgY29uc3QgaGFzRGVmaW5lZERpbWVuc2lvbnMgPSBoZWlnaHQyIHx8IHdpZHRoMjtcbiAgY29uc3QgaGFzVmFsaWRBc3BlY3RSYXRpbyA9IGFzcGVjdFJhdGlvMiAmJiBjcm9wc0FzcGVjdFJhdGlvLmluY2x1ZGVzKGNyb3AyKTtcbiAgaWYgKGNyb3AyICYmIChoYXNEZWZpbmVkRGltZW5zaW9ucyB8fCBoYXNWYWxpZEFzcGVjdFJhdGlvKSkge1xuICAgIHRyYW5zZm9ybWF0aW9ucy5wdXNoKGBjXyR7Y3JvcDJ9YCk7XG4gIH1cbiAgaWYgKGhhc1ZhbGlkQXNwZWN0UmF0aW8pIHtcbiAgICB0cmFuc2Zvcm1hdGlvbnMucHVzaChgYXJfJHthc3BlY3RSYXRpbzJ9YCk7XG4gIH1cbiAgaWYgKHdpZHRoMikge1xuICAgIHRyYW5zZm9ybWF0aW9ucy5wdXNoKGB3XyR7d2lkdGgyfWApO1xuICB9XG4gIGlmICghW1wibGltaXRcIl0uaW5jbHVkZXMoY3JvcDIpICYmIHR5cGVvZiBoZWlnaHQyID09PSBcIm51bWJlclwiKSB7XG4gICAgdHJhbnNmb3JtYXRpb25zLnB1c2goYGhfJHtoZWlnaHQyfWApO1xuICB9XG4gIGlmICghZ3Jhdml0eTIgJiYgY3JvcHNHcmF2aXR5QXV0by5pbmNsdWRlcyhjcm9wMikpIHtcbiAgICBncmF2aXR5MiA9IFwiYXV0b1wiO1xuICB9XG4gIGlmIChncmF2aXR5Mikge1xuICAgIGlmIChncmF2aXR5MiA9PT0gXCJhdXRvXCIgJiYgIWNyb3BzR3Jhdml0eUF1dG8uaW5jbHVkZXMoY3JvcDIpKSB7XG4gICAgICBjb25zb2xlLndhcm4oYEF1dG8gZ3Jhdml0eSBjYW4gb25seSBiZSB1c2VkIHdpdGggY3JvcCBtb2RlczogJHtjcm9wc0dyYXZpdHlBdXRvLmpvaW4oXCIsIFwiKX0uIE5vdCBhcHBseWluZyBncmF2aXR5LmApO1xuICAgIH0gZWxzZSB7XG4gICAgICB0cmFuc2Zvcm1hdGlvbnMucHVzaChgZ18ke2dyYXZpdHkyfWApO1xuICAgIH1cbiAgfVxuICBpZiAoem9vbTIpIHtcbiAgICBpZiAoem9vbTIgPT09IFwiYXV0b1wiICYmICFjcm9wc1dpdGhab29tLmluY2x1ZGVzKGNyb3AyKSkge1xuICAgICAgY29uc29sZS53YXJuKGBab29tIGNhbiBvbmx5IGJlIHVzZWQgd2l0aCBjcm9wIG1vZGVzOiAke2Nyb3BzV2l0aFpvb20uam9pbihcIiwgXCIpfS4gTm90IGFwcGx5aW5nIHpvb20uYCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRyYW5zZm9ybWF0aW9ucy5wdXNoKGB6XyR7em9vbTJ9YCk7XG4gICAgfVxuICB9XG4gIHJldHVybiB0cmFuc2Zvcm1hdGlvbnM7XG59XG5cbi8vIHNyYy9wbHVnaW5zL2RlZmF1bHQtaW1hZ2UudHNcbnZhciBkZWZhdWx0X2ltYWdlX2V4cG9ydHMgPSB7fTtcbl9fZXhwb3J0KGRlZmF1bHRfaW1hZ2VfZXhwb3J0cywge1xuICBhc3NldFR5cGVzOiAoKSA9PiBhc3NldFR5cGVzMyxcbiAgcGx1Z2luOiAoKSA9PiBwbHVnaW4zLFxuICBwcm9wczogKCkgPT4gcHJvcHMzXG59KTtcbnZhciBpbXBvcnRfem9kNCA9IHJlcXVpcmUoXCJ6b2RcIik7XG52YXIgaW1wb3J0X3V0aWwgPSByZXF1aXJlKFwiQGNsb3VkaW5hcnktdXRpbC91dGlsXCIpO1xudmFyIHByb3BzMyA9IHtcbiAgZGVmYXVsdEltYWdlOiBpbXBvcnRfem9kNC56LnN0cmluZygpLmRlc2NyaWJlKEpTT04uc3RyaW5naWZ5KHtcbiAgICB0ZXh0OiBcIkNvbmZpZ3VyZXMgdGhlIGRlZmF1bHQgaW1hZ2UgdG8gdXNlIGluIGNhc2UgdGhlIGdpdmVuIHB1YmxpYyBJRCBpcyBub3QgYXZhaWxhYmxlLiBNdXN0IGluY2x1ZGUgZmlsZSBleHRlbnNpb24uXCIsXG4gICAgdXJsOiBcImh0dHBzOi8vY2xvdWRpbmFyeS5jb20vZG9jdW1lbnRhdGlvbi90cmFuc2Zvcm1hdGlvbl9yZWZlcmVuY2UjZF9kZWZhdWx0X2ltYWdlXCJcbiAgfSkpLm9wdGlvbmFsKClcbn07XG52YXIgYXNzZXRUeXBlczMgPSBbXCJpbWFnZVwiLCBcImltYWdlc1wiXTtcbmZ1bmN0aW9uIHBsdWdpbjMocHJvcHMyMSkge1xuICBjb25zdCB7IGNsZEFzc2V0LCBvcHRpb25zIH0gPSBwcm9wczIxO1xuICBjb25zdCB7IGRlZmF1bHRJbWFnZSB9ID0gb3B0aW9ucztcbiAgaWYgKHR5cGVvZiBkZWZhdWx0SW1hZ2UgPT09IFwic3RyaW5nXCIpIHtcbiAgICBpZiAoISgwLCBpbXBvcnRfdXRpbC5nZXRGb3JtYXQpKGRlZmF1bHRJbWFnZSkpIHtcbiAgICAgIGNvbnNvbGUud2FybihgVGhlIGRlZmF1bHRJbWFnZSBwcm9wIG1heSBiZSBtaXNzaW5nIGEgZm9ybWF0IGFuZCBtdXN0IGluY2x1ZGUgaXQgYWxvbmcgd2l0aCB0aGUgcHVibGljIElELiAoRXg6IG15aW1hZ2UuanBnKWApO1xuICAgIH1cbiAgICBjb25zdCBkZWZhdWx0SW1hZ2VJZCA9IGRlZmF1bHRJbWFnZS5yZXBsYWNlKC9cXC8vZywgXCI6XCIpO1xuICAgIGNsZEFzc2V0LmFkZFRyYW5zZm9ybWF0aW9uKGBkXyR7ZGVmYXVsdEltYWdlSWR9YCk7XG4gIH1cbiAgcmV0dXJuIHt9O1xufVxuXG4vLyBzcmMvcGx1Z2lucy9lZmZlY3RzLnRzXG52YXIgZWZmZWN0c19leHBvcnRzID0ge307XG5fX2V4cG9ydChlZmZlY3RzX2V4cG9ydHMsIHtcbiAgYXNzZXRUeXBlczogKCkgPT4gYXNzZXRUeXBlczQsXG4gIHBsdWdpbjogKCkgPT4gcGx1Z2luNCxcbiAgcHJvcHM6ICgpID0+IHByb3BzNFxufSk7XG52YXIgaW1wb3J0X3pvZDYgPSByZXF1aXJlKFwiem9kXCIpO1xuXG4vLyBzcmMvY29uc3RhbnRzL3F1YWxpZmllcnMudHNcbnZhciBpbXBvcnRfem9kNSA9IHJlcXVpcmUoXCJ6b2RcIik7XG52YXIgaW1wb3J0X3V0aWwyID0gcmVxdWlyZShcIkBjbG91ZGluYXJ5LXV0aWwvdXRpbFwiKTtcbnZhciBjb252ZXJ0ZXJzQ29sb3JzID0gW1xuICB7XG4gICAgdGVzdDogaW1wb3J0X3V0aWwyLnRlc3RDb2xvcklzSGV4LFxuICAgIGNvbnZlcnQ6IGltcG9ydF91dGlsMi5jb252ZXJ0Q29sb3JIZXhUb1JnYlxuICB9XG5dO1xudmFyIHByaW1hcnkgPSB7XG4gIGFzcGVjdFJhdGlvLFxuICBjcm9wLFxuICBncmF2aXR5LFxuICBoZWlnaHQsXG4gIHdpZHRoXG59O1xudmFyIHBvc2l0aW9uID0ge1xuICBhbmdsZSxcbiAgZ3Jhdml0eSxcbiAgeCxcbiAgeVxufTtcbnZhciB0ZXh0ID0ge1xuICBhbGlnbm1lbnQ6IHtcbiAgICBxdWFsaWZpZXI6IGZhbHNlLFxuICAgIG9yZGVyOiA2XG4gIH0sXG4gIGFudGlhbGlhczoge1xuICAgIHF1YWxpZmllcjogXCJhbnRpYWxpYXNcIlxuICB9LFxuICBib3JkZXI6IHtcbiAgICBxdWFsaWZpZXI6IFwiYm9cIixcbiAgICBsb2NhdGlvbjogXCJwcmltYXJ5XCJcbiAgfSxcbiAgY29sb3I6IHtcbiAgICBxdWFsaWZpZXI6IFwiY29cIixcbiAgICBsb2NhdGlvbjogXCJwcmltYXJ5XCIsXG4gICAgY29udmVydGVyczogY29udmVydGVyc0NvbG9yc1xuICB9LFxuICBmb250RmFtaWx5OiB7XG4gICAgcXVhbGlmaWVyOiBmYWxzZSxcbiAgICBvcmRlcjogMVxuICB9LFxuICBmb250U2l6ZToge1xuICAgIHF1YWxpZmllcjogZmFsc2UsXG4gICAgb3JkZXI6IDJcbiAgfSxcbiAgZm9udFN0eWxlOiB7XG4gICAgcXVhbGlmaWVyOiBmYWxzZSxcbiAgICBvcmRlcjogNFxuICB9LFxuICBmb250V2VpZ2h0OiB7XG4gICAgcXVhbGlmaWVyOiBmYWxzZSxcbiAgICBvcmRlcjogM1xuICB9LFxuICBoaW50aW5nOiB7XG4gICAgcXVhbGlmaWVyOiBcImhpbnRpbmdcIlxuICB9LFxuICBsZXR0ZXJTcGFjaW5nOiB7XG4gICAgcXVhbGlmaWVyOiBcImxldHRlcl9zcGFjaW5nXCJcbiAgfSxcbiAgbGluZVNwYWNpbmc6IHtcbiAgICBxdWFsaWZpZXI6IFwibGluZV9zcGFjaW5nXCJcbiAgfSxcbiAgc3Ryb2tlOiB7XG4gICAgcXVhbGlmaWVyOiBcInNlbGZcIixcbiAgICBvcmRlcjogN1xuICB9LFxuICB0ZXh0RGVjb3JhdGlvbjoge1xuICAgIHF1YWxpZmllcjogZmFsc2UsXG4gICAgb3JkZXI6IDVcbiAgfVxufTtcbnZhciBlZmZlY3RzID0ge1xuICBhbmdsZSxcbiAgYXJ0OiB7XG4gICAgcHJlZml4OiBcImVcIixcbiAgICBxdWFsaWZpZXI6IFwiYXJ0XCIsXG4gICAgc2NoZW1hOiBpbXBvcnRfem9kNS56LnN0cmluZygpLmRlc2NyaWJlKEpTT04uc3RyaW5naWZ5KHtcbiAgICAgIHRleHQ6IFwiQXBwbGllcyB0aGUgc2VsZWN0ZWQgYXJ0aXN0aWMgZmlsdGVyLlwiLFxuICAgICAgdXJsOiBcImh0dHBzOi8vY2xvdWRpbmFyeS5jb20vZG9jdW1lbnRhdGlvbi90cmFuc2Zvcm1hdGlvbl9yZWZlcmVuY2UjZV9hcnRcIlxuICAgIH0pKVxuICB9LFxuICBhdXRvQnJpZ2h0bmVzczoge1xuICAgIHByZWZpeDogXCJlXCIsXG4gICAgcXVhbGlmaWVyOiBcImF1dG9fYnJpZ2h0bmVzc1wiLFxuICAgIHNjaGVtYTogaW1wb3J0X3pvZDUuei51bmlvbihbXG4gICAgICBpbXBvcnRfem9kNS56LnN0cmluZygpLFxuICAgICAgaW1wb3J0X3pvZDUuei5ib29sZWFuKClcbiAgICBdKS5kZXNjcmliZShKU09OLnN0cmluZ2lmeSh7XG4gICAgICB0ZXh0OiBcIkF1dG9tYXRpY2FsbHkgYWRqdXN0cyB0aGUgaW1hZ2UgYnJpZ2h0bmVzcyBhbmQgYmxlbmRzIHRoZSByZXN1bHQgd2l0aCB0aGUgb3JpZ2luYWwgaW1hZ2UuXCIsXG4gICAgICB1cmw6IFwiaHR0cHM6Ly9jbG91ZGluYXJ5LmNvbS9kb2N1bWVudGF0aW9uL3RyYW5zZm9ybWF0aW9uX3JlZmVyZW5jZSNlX2F1dG9fYnJpZ2h0bmVzc1wiXG4gICAgfSkpXG4gIH0sXG4gIGF1dG9Db2xvcjoge1xuICAgIHByZWZpeDogXCJlXCIsXG4gICAgcXVhbGlmaWVyOiBcImF1dG9fY29sb3JcIixcbiAgICBzY2hlbWE6IGltcG9ydF96b2Q1LnoudW5pb24oW1xuICAgICAgaW1wb3J0X3pvZDUuei5zdHJpbmcoKSxcbiAgICAgIGltcG9ydF96b2Q1LnouYm9vbGVhbigpXG4gICAgXSkuZGVzY3JpYmUoSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgdGV4dDogXCJBdXRvbWF0aWNhbGx5IGFkanVzdHMgdGhlIGltYWdlIGNvbG9yIGJhbGFuY2UgYW5kIGJsZW5kcyB0aGUgcmVzdWx0IHdpdGggdGhlIG9yaWdpbmFsIGltYWdlLlwiLFxuICAgICAgdXJsOiBcImh0dHBzOi8vY2xvdWRpbmFyeS5jb20vZG9jdW1lbnRhdGlvbi90cmFuc2Zvcm1hdGlvbl9yZWZlcmVuY2UjZV9hdXRvX2NvbG9yXCJcbiAgICB9KSlcbiAgfSxcbiAgYXV0b0NvbnRyYXN0OiB7XG4gICAgcHJlZml4OiBcImVcIixcbiAgICBxdWFsaWZpZXI6IFwiYXV0b19jb250cmFzdFwiLFxuICAgIHNjaGVtYTogaW1wb3J0X3pvZDUuei51bmlvbihbXG4gICAgICBpbXBvcnRfem9kNS56LnN0cmluZygpLFxuICAgICAgaW1wb3J0X3pvZDUuei5ib29sZWFuKClcbiAgICBdKS5kZXNjcmliZShKU09OLnN0cmluZ2lmeSh7XG4gICAgICB0ZXh0OiBcIkF1dG9tYXRpY2FsbHkgYWRqdXN0cyB0aGUgaW1hZ2UgY29udHJhc3QgYW5kIGJsZW5kcyB0aGUgcmVzdWx0IHdpdGggdGhlIG9yaWdpbmFsIGltYWdlLlwiLFxuICAgICAgdXJsOiBcImh0dHBzOi8vY2xvdWRpbmFyeS5jb20vZG9jdW1lbnRhdGlvbi90cmFuc2Zvcm1hdGlvbl9yZWZlcmVuY2UjZV9hdXRvX2NvbnRyYXN0XCJcbiAgICB9KSlcbiAgfSxcbiAgYXNzaXN0Q29sb3JibGluZDoge1xuICAgIHByZWZpeDogXCJlXCIsXG4gICAgcXVhbGlmaWVyOiBcImFzc2lzdF9jb2xvcmJsaW5kXCIsXG4gICAgc2NoZW1hOiBpbXBvcnRfem9kNS56LnVuaW9uKFtcbiAgICAgIGltcG9ydF96b2Q1Lnouc3RyaW5nKCksXG4gICAgICBpbXBvcnRfem9kNS56LmJvb2xlYW4oKVxuICAgIF0pLmRlc2NyaWJlKEpTT04uc3RyaW5naWZ5KHtcbiAgICAgIHRleHQ6IFwiQXBwbGllcyBzdHJpcGVzIG9yIGNvbG9yIGFkanVzdG1lbnQgdG8gaGVscCBwZW9wbGUgd2l0aCBjb21tb24gY29sb3IgYmxpbmQgY29uZGl0aW9ucyB0byBkaWZmZXJlbnRpYXRlIGJldHdlZW4gY29sb3JzIHRoYXQgYXJlIHNpbWlsYXIgZm9yIHRoZW0uXCIsXG4gICAgICB1cmw6IFwiaHR0cHM6Ly9jbG91ZGluYXJ5LmNvbS9kb2N1bWVudGF0aW9uL3RyYW5zZm9ybWF0aW9uX3JlZmVyZW5jZSNlX2Fzc2lzdF9jb2xvcmJsaW5kXCJcbiAgICB9KSlcbiAgfSxcbiAgYmFja2dyb3VuZDoge1xuICAgIHF1YWxpZmllcjogXCJiXCIsXG4gICAgc2NoZW1hOiBpbXBvcnRfem9kNS56LnN0cmluZygpLmRlc2NyaWJlKEpTT04uc3RyaW5naWZ5KHtcbiAgICAgIHRleHQ6IFwiQXBwbGllcyBhIGJhY2tncm91bmQgdG8gZW1wdHkgb3IgdHJhbnNwYXJlbnQgYXJlYXMuXCIsXG4gICAgICB1cmw6IFwiaHR0cHM6Ly9jbG91ZGluYXJ5LmNvbS9kb2N1bWVudGF0aW9uL3RyYW5zZm9ybWF0aW9uX3JlZmVyZW5jZSNiX2JhY2tncm91bmRcIlxuICAgIH0pKVxuICB9LFxuICBibGFja3doaXRlOiB7XG4gICAgcHJlZml4OiBcImVcIixcbiAgICBxdWFsaWZpZXI6IFwiYmxhY2t3aGl0ZVwiLFxuICAgIHNjaGVtYTogaW1wb3J0X3pvZDUuei51bmlvbihbXG4gICAgICBpbXBvcnRfem9kNS56LnN0cmluZygpLFxuICAgICAgaW1wb3J0X3pvZDUuei5ib29sZWFuKClcbiAgICBdKS5kZXNjcmliZShKU09OLnN0cmluZ2lmeSh7XG4gICAgICB0ZXh0OiBcIkNvbnZlcnRzIGFuIGltYWdlIHRvIGJsYWNrIGFuZCB3aGl0ZS5cIixcbiAgICAgIHVybDogXCJodHRwczovL2Nsb3VkaW5hcnkuY29tL2RvY3VtZW50YXRpb24vdHJhbnNmb3JtYXRpb25fcmVmZXJlbmNlI2VfYmxhY2t3aGl0ZVwiXG4gICAgfSkpXG4gIH0sXG4gIGJsdXI6IHtcbiAgICBwcmVmaXg6IFwiZVwiLFxuICAgIHF1YWxpZmllcjogXCJibHVyXCIsXG4gICAgc2NoZW1hOiBpbXBvcnRfem9kNS56LnVuaW9uKFtcbiAgICAgIGltcG9ydF96b2Q1Lnouc3RyaW5nKCksXG4gICAgICBpbXBvcnRfem9kNS56LmJvb2xlYW4oKVxuICAgIF0pLmRlc2NyaWJlKEpTT04uc3RyaW5naWZ5KHtcbiAgICAgIHRleHQ6IFwiQXBwbGllcyBhIGJsdXJyaW5nIGZpbHRlciB0byBhbiBhc3NldC5cIixcbiAgICAgIHVybDogXCJodHRwczovL2Nsb3VkaW5hcnkuY29tL2RvY3VtZW50YXRpb24vdHJhbnNmb3JtYXRpb25fcmVmZXJlbmNlI2VfYmx1clwiXG4gICAgfSkpXG4gIH0sXG4gIGJsdXJGYWNlczoge1xuICAgIHByZWZpeDogXCJlXCIsXG4gICAgcXVhbGlmaWVyOiBcImJsdXJfZmFjZXNcIixcbiAgICBzY2hlbWE6IGltcG9ydF96b2Q1LnoudW5pb24oW1xuICAgICAgaW1wb3J0X3pvZDUuei5zdHJpbmcoKSxcbiAgICAgIGltcG9ydF96b2Q1LnouYm9vbGVhbigpXG4gICAgXSkuZGVzY3JpYmUoSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgdGV4dDogXCJCbHVycyBhbGwgZGV0ZWN0ZWQgZmFjZXMgaW4gYW4gaW1hZ2UuXCIsXG4gICAgICB1cmw6IFwiaHR0cHM6Ly9jbG91ZGluYXJ5LmNvbS9kb2N1bWVudGF0aW9uL3RyYW5zZm9ybWF0aW9uX3JlZmVyZW5jZSNlX2JsdXJfZmFjZXNcIlxuICAgIH0pKVxuICB9LFxuICBibHVyUmVnaW9uOiB7XG4gICAgcHJlZml4OiBcImVcIixcbiAgICBxdWFsaWZpZXI6IFwiYmx1cl9yZWdpb25cIixcbiAgICBzY2hlbWE6IGltcG9ydF96b2Q1LnoudW5pb24oW1xuICAgICAgaW1wb3J0X3pvZDUuei5zdHJpbmcoKSxcbiAgICAgIGltcG9ydF96b2Q1LnouYm9vbGVhbigpXG4gICAgXSkuZGVzY3JpYmUoSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgdGV4dDogXCJBcHBsaWVzIGEgYmx1cnJpbmcgZmlsdGVyIHRvIHRoZSByZWdpb24gb2YgYW4gaW1hZ2Ugc3BlY2lmaWVkIGJ5IHgsIHksIHdpZHRoIGFuZCBoZWlnaHQsIG9yIGFuIGFyZWEgb2YgdGV4dC4gSWYgbm8gcmVnaW9uIGlzIHNwZWNpZmllZCwgdGhlIHdob2xlIGltYWdlIGlzIGJsdXJyZWQuXCIsXG4gICAgICB1cmw6IFwiaHR0cHM6Ly9jbG91ZGluYXJ5LmNvbS9kb2N1bWVudGF0aW9uL3RyYW5zZm9ybWF0aW9uX3JlZmVyZW5jZSNlX2JsdXJfcmVnaW9uXCJcbiAgICB9KSlcbiAgfSxcbiAgYm9yZGVyOiB7XG4gICAgcXVhbGlmaWVyOiBcImJvXCIsXG4gICAgc2NoZW1hOiBpbXBvcnRfem9kNS56LnN0cmluZygpLmRlc2NyaWJlKEpTT04uc3RyaW5naWZ5KHtcbiAgICAgIHRleHQ6IFwiQWRkcyBhIHNvbGlkIGJvcmRlciBhcm91bmQgYW4gaW1hZ2Ugb3IgdmlkZW8uXCIsXG4gICAgICB1cmw6IFwiaHR0cHM6Ly9jbG91ZGluYXJ5LmNvbS9kb2N1bWVudGF0aW9uL3RyYW5zZm9ybWF0aW9uX3JlZmVyZW5jZSNib19ib3JkZXJcIlxuICAgIH0pKVxuICB9LFxuICBicmlnaHRuZXNzOiB7XG4gICAgcHJlZml4OiBcImVcIixcbiAgICBxdWFsaWZpZXI6IFwiYnJpZ2h0bmVzc1wiLFxuICAgIHNjaGVtYTogaW1wb3J0X3pvZDUuei51bmlvbihbXG4gICAgICBpbXBvcnRfem9kNS56LnN0cmluZygpLFxuICAgICAgaW1wb3J0X3pvZDUuei5ib29sZWFuKClcbiAgICBdKS5kZXNjcmliZShKU09OLnN0cmluZ2lmeSh7XG4gICAgICB0ZXh0OiBcIkFkanVzdHMgdGhlIGltYWdlIG9yIHZpZGVvIGJyaWdodG5lc3MuXCIsXG4gICAgICB1cmw6IFwiaHR0cHM6Ly9jbG91ZGluYXJ5LmNvbS9kb2N1bWVudGF0aW9uL3RyYW5zZm9ybWF0aW9uX3JlZmVyZW5jZSNlX2JyaWdodG5lc3NcIlxuICAgIH0pKVxuICB9LFxuICBicmlnaHRuZXNzSFNCOiB7XG4gICAgcHJlZml4OiBcImVcIixcbiAgICBxdWFsaWZpZXI6IFwiYnJpZ2h0bmVzc19oc2JcIixcbiAgICBzY2hlbWE6IGltcG9ydF96b2Q1LnoudW5pb24oW1xuICAgICAgaW1wb3J0X3pvZDUuei5zdHJpbmcoKSxcbiAgICAgIGltcG9ydF96b2Q1LnouYm9vbGVhbigpXG4gICAgXSkuZGVzY3JpYmUoSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgdGV4dDogXCJBZGp1c3RzIGltYWdlIGJyaWdodG5lc3MgbW9kdWxhdGlvbiBpbiBIU0IgdG8gcHJldmVudCBhcnRpZmFjdHMgaW4gc29tZSBpbWFnZXMuXCIsXG4gICAgICB1cmw6IFwiaHR0cHM6Ly9jbG91ZGluYXJ5LmNvbS9kb2N1bWVudGF0aW9uL3RyYW5zZm9ybWF0aW9uX3JlZmVyZW5jZSNlX2JyaWdodG5lc3NfaHNiXCJcbiAgICB9KSlcbiAgfSxcbiAgY2FydG9vbmlmeToge1xuICAgIHByZWZpeDogXCJlXCIsXG4gICAgcXVhbGlmaWVyOiBcImNhcnRvb25pZnlcIixcbiAgICBzY2hlbWE6IGltcG9ydF96b2Q1LnoudW5pb24oW1xuICAgICAgaW1wb3J0X3pvZDUuei5zdHJpbmcoKSxcbiAgICAgIGltcG9ydF96b2Q1LnouYm9vbGVhbigpXG4gICAgXSkuZGVzY3JpYmUoSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgdGV4dDogXCJBcHBsaWVzIGEgY2FydG9vbiBlZmZlY3QgdG8gYW4gaW1hZ2UuXCIsXG4gICAgICB1cmw6IFwiaHR0cHM6Ly9jbG91ZGluYXJ5LmNvbS9kb2N1bWVudGF0aW9uL3RyYW5zZm9ybWF0aW9uX3JlZmVyZW5jZSNlX2NhcnRvb25pZnlcIlxuICAgIH0pKVxuICB9LFxuICBjb2xvcjoge1xuICAgIHF1YWxpZmllcjogXCJjb1wiLFxuICAgIHNjaGVtYTogaW1wb3J0X3pvZDUuei5zdHJpbmcoKS5kZXNjcmliZShKU09OLnN0cmluZ2lmeSh7XG4gICAgICB0ZXh0OiBcIkEgcXVhbGlmaWVyIHRoYXQgc3BlY2lmaWVzIHRoZSBjb2xvciB0byB1c2Ugd2l0aCB0aGUgY29ycmVzcG9uZGluZyB0cmFuc2Zvcm1hdGlvbi5cIixcbiAgICAgIHVybDogXCJodHRwczovL2Nsb3VkaW5hcnkuY29tL2RvY3VtZW50YXRpb24vdHJhbnNmb3JtYXRpb25fcmVmZXJlbmNlI2NvX2NvbG9yXCJcbiAgICB9KSksXG4gICAgY29udmVydGVyczogY29udmVydGVyc0NvbG9yc1xuICB9LFxuICBjb2xvcml6ZToge1xuICAgIHByZWZpeDogXCJlXCIsXG4gICAgcXVhbGlmaWVyOiBcImNvbG9yaXplXCIsXG4gICAgc2NoZW1hOiBpbXBvcnRfem9kNS56LnN0cmluZygpLmRlc2NyaWJlKEpTT04uc3RyaW5naWZ5KHtcbiAgICAgIHRleHQ6IFwiQ29sb3JpemVzIGFuIGltYWdlLiBCeSBkZWZhdWx0LCBncmF5IGlzIHVzZWQgZm9yIGNvbG9yaXphdGlvbi4gWW91IGNhbiBzcGVjaWZ5IGEgZGlmZmVyZW50IGNvbG9yIHVzaW5nIHRoZSBjb2xvciBxdWFsaWZpZXIuXCIsXG4gICAgICB1cmw6IFwiaHR0cHM6Ly9jbG91ZGluYXJ5LmNvbS9kb2N1bWVudGF0aW9uL3RyYW5zZm9ybWF0aW9uX3JlZmVyZW5jZSNlX2NvbG9yaXplXCJcbiAgICB9KSlcbiAgfSxcbiAgY29udHJhc3Q6IHtcbiAgICBwcmVmaXg6IFwiZVwiLFxuICAgIHF1YWxpZmllcjogXCJjb250cmFzdFwiLFxuICAgIHNjaGVtYTogaW1wb3J0X3pvZDUuei51bmlvbihbXG4gICAgICBpbXBvcnRfem9kNS56LnN0cmluZygpLFxuICAgICAgaW1wb3J0X3pvZDUuei5ib29sZWFuKClcbiAgICBdKS5kZXNjcmliZShKU09OLnN0cmluZ2lmeSh7XG4gICAgICB0ZXh0OiBcIkFkanVzdHMgYW4gaW1hZ2Ugb3IgdmlkZW8gY29udHJhc3QuXCIsXG4gICAgICB1cmw6IFwiaHR0cHM6Ly9jbG91ZGluYXJ5LmNvbS9kb2N1bWVudGF0aW9uL3RyYW5zZm9ybWF0aW9uX3JlZmVyZW5jZSNlX2NvbnRyYXN0XCJcbiAgICB9KSlcbiAgfSxcbiAgZGlzcGxhY2U6IHtcbiAgICBwcmVmaXg6IFwiZVwiLFxuICAgIHF1YWxpZmllcjogXCJkaXN0b3J0XCIsXG4gICAgc2NoZW1hOiBpbXBvcnRfem9kNS56LnN0cmluZygpLmRlc2NyaWJlKEpTT04uc3RyaW5naWZ5KHtcbiAgICAgIHRleHQ6IFwiRGlzcGxhY2VzIHRoZSBwaXhlbHMgaW4gYW4gaW1hZ2UgYWNjb3JkaW5nIHRvIHRoZSBjb2xvciBjaGFubmVscyBvZiB0aGUgcGl4ZWxzIGluIGFub3RoZXIgc3BlY2lmaWVkIGltYWdlIChhIGdyYWRpZW50IG1hcCBzcGVjaWZpZWQgd2l0aCB0aGUgb3ZlcmxheSBwYXJhbWV0ZXIpLlwiLFxuICAgICAgdXJsOiBcImh0dHBzOi8vY2xvdWRpbmFyeS5jb20vZG9jdW1lbnRhdGlvbi90cmFuc2Zvcm1hdGlvbl9yZWZlcmVuY2UjZV9kaXNwbGFjZVwiXG4gICAgfSkpXG4gIH0sXG4gIGRpc3RvcnQ6IHtcbiAgICBwcmVmaXg6IFwiZVwiLFxuICAgIHF1YWxpZmllcjogXCJkaXN0b3J0XCIsXG4gICAgc2NoZW1hOiBpbXBvcnRfem9kNS56LnN0cmluZygpLmRlc2NyaWJlKEpTT04uc3RyaW5naWZ5KHtcbiAgICAgIHRleHQ6IFwiRGlzdG9ydHMgYW4gaW1hZ2UgdG8gYSBuZXcgc2hhcGUgYnkgZWl0aGVyIGFkanVzdGluZyBpdHMgY29ybmVycyBvciBieSB3YXJwaW5nIGl0IGludG8gYW4gYXJjLlwiLFxuICAgICAgdXJsOiBcImh0dHBzOi8vY2xvdWRpbmFyeS5jb20vZG9jdW1lbnRhdGlvbi90cmFuc2Zvcm1hdGlvbl9yZWZlcmVuY2UjZV9kaXN0b3J0XCJcbiAgICB9KSlcbiAgfSxcbiAgZmlsbExpZ2h0OiB7XG4gICAgcHJlZml4OiBcImVcIixcbiAgICBxdWFsaWZpZXI6IFwiZmlsbF9saWdodFwiLFxuICAgIHNjaGVtYTogaW1wb3J0X3pvZDUuei51bmlvbihbXG4gICAgICBpbXBvcnRfem9kNS56LnN0cmluZygpLFxuICAgICAgaW1wb3J0X3pvZDUuei5ib29sZWFuKClcbiAgICBdKS5kZXNjcmliZShKU09OLnN0cmluZ2lmeSh7XG4gICAgICB0ZXh0OiBcIkFkanVzdHMgdGhlIGZpbGwgbGlnaHQgYW5kIG9wdGlvbmFsbHkgYmxlbmRzIHRoZSByZXN1bHQgd2l0aCB0aGUgb3JpZ2luYWwgaW1hZ2UuXCIsXG4gICAgICB1cmw6IFwiaHR0cHM6Ly9jbG91ZGluYXJ5LmNvbS9kb2N1bWVudGF0aW9uL3RyYW5zZm9ybWF0aW9uX3JlZmVyZW5jZSNlX2ZpbGxfbGlnaHRcIlxuICAgIH0pKVxuICB9LFxuICBnYW1tYToge1xuICAgIHByZWZpeDogXCJlXCIsXG4gICAgcXVhbGlmaWVyOiBcImdhbW1hXCIsXG4gICAgc2NoZW1hOiBpbXBvcnRfem9kNS56LnVuaW9uKFtcbiAgICAgIGltcG9ydF96b2Q1Lnouc3RyaW5nKCksXG4gICAgICBpbXBvcnRfem9kNS56LmJvb2xlYW4oKVxuICAgIF0pLmRlc2NyaWJlKEpTT04uc3RyaW5naWZ5KHtcbiAgICAgIHRleHQ6IFwiQWRqdXN0cyB0aGUgaW1hZ2Ugb3IgdmlkZW8gZ2FtbWEgbGV2ZWwuXCIsXG4gICAgICB1cmw6IFwiaHR0cHM6Ly9jbG91ZGluYXJ5LmNvbS9kb2N1bWVudGF0aW9uL3RyYW5zZm9ybWF0aW9uX3JlZmVyZW5jZSNlX2dhbW1hXCJcbiAgICB9KSlcbiAgfSxcbiAgZ3JhZGllbnRGYWRlOiB7XG4gICAgcHJlZml4OiBcImVcIixcbiAgICBxdWFsaWZpZXI6IFwiZ3JhZGllbnRfZmFkZVwiLFxuICAgIHNjaGVtYTogaW1wb3J0X3pvZDUuei51bmlvbihbXG4gICAgICBpbXBvcnRfem9kNS56LnN0cmluZygpLFxuICAgICAgaW1wb3J0X3pvZDUuei5ib29sZWFuKClcbiAgICBdKS5kZXNjcmliZShKU09OLnN0cmluZ2lmeSh7XG4gICAgICB0ZXh0OiBcIkFwcGxpZXMgYSBncmFkaWVudCBmYWRlIGVmZmVjdCBmcm9tIHRoZSBlZGdlIG9mIGFuIGltYWdlLlwiLFxuICAgICAgdXJsOiBcImh0dHBzOi8vY2xvdWRpbmFyeS5jb20vZG9jdW1lbnRhdGlvbi90cmFuc2Zvcm1hdGlvbl9yZWZlcmVuY2UjZV9ncmFkaWVudF9mYWRlXCJcbiAgICB9KSlcbiAgfSxcbiAgZ3JheXNjYWxlOiB7XG4gICAgcHJlZml4OiBcImVcIixcbiAgICBxdWFsaWZpZXI6IFwiZ3JheXNjYWxlXCIsXG4gICAgc2NoZW1hOiBpbXBvcnRfem9kNS56LmJvb2xlYW4oKS5kZXNjcmliZShKU09OLnN0cmluZ2lmeSh7XG4gICAgICB0ZXh0OiBcIkNvbnZlcnRzIGFuIGltYWdlIHRvIGdyYXlzY2FsZSAobXVsdGlwbGUgc2hhZGVzIG9mIGdyYXkpLlwiLFxuICAgICAgdXJsOiBcImh0dHBzOi8vY2xvdWRpbmFyeS5jb20vZG9jdW1lbnRhdGlvbi90cmFuc2Zvcm1hdGlvbl9yZWZlcmVuY2UjZV9ncmF5c2NhbGVcIlxuICAgIH0pKVxuICB9LFxuICBodWU6IHtcbiAgICBwcmVmaXg6IFwiZVwiLFxuICAgIHF1YWxpZmllcjogXCJodWVcIixcbiAgICBzY2hlbWE6IGltcG9ydF96b2Q1LnoudW5pb24oW1xuICAgICAgaW1wb3J0X3pvZDUuei5zdHJpbmcoKSxcbiAgICAgIGltcG9ydF96b2Q1LnouYm9vbGVhbigpXG4gICAgXSkuZGVzY3JpYmUoSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgdGV4dDogXCJBZGp1c3RzIGFuIGltYWdlJ3MgaHVlLlwiLFxuICAgICAgdXJsOiBcImh0dHBzOi8vY2xvdWRpbmFyeS5jb20vZG9jdW1lbnRhdGlvbi90cmFuc2Zvcm1hdGlvbl9yZWZlcmVuY2UjZV9odWVcIlxuICAgIH0pKVxuICB9LFxuICBpbXByb3ZlOiB7XG4gICAgcHJlZml4OiBcImVcIixcbiAgICBxdWFsaWZpZXI6IFwiaW1wcm92ZVwiLFxuICAgIHNjaGVtYTogaW1wb3J0X3pvZDUuei51bmlvbihbXG4gICAgICBpbXBvcnRfem9kNS56LnN0cmluZygpLFxuICAgICAgaW1wb3J0X3pvZDUuei5ib29sZWFuKClcbiAgICBdKS5kZXNjcmliZShKU09OLnN0cmluZ2lmeSh7XG4gICAgICB0ZXh0OiBcIkFkanVzdHMgYW4gaW1hZ2UncyBjb2xvcnMsIGNvbnRyYXN0IGFuZCBicmlnaHRuZXNzIHRvIGltcHJvdmUgaXRzIGFwcGVhcmFuY2UuXCIsXG4gICAgICB1cmw6IFwiaHR0cHM6Ly9jbG91ZGluYXJ5LmNvbS9kb2N1bWVudGF0aW9uL3RyYW5zZm9ybWF0aW9uX3JlZmVyZW5jZSNlX2ltcHJvdmVcIlxuICAgIH0pKVxuICB9LFxuICBsb29wOiB7XG4gICAgcHJlZml4OiBcImVcIixcbiAgICBxdWFsaWZpZXI6IFwibG9vcFwiLFxuICAgIHNjaGVtYTogaW1wb3J0X3pvZDUuei51bmlvbihbXG4gICAgICBpbXBvcnRfem9kNS56LmJvb2xlYW4oKSxcbiAgICAgIGltcG9ydF96b2Q1LnoubnVtYmVyKCksXG4gICAgICBpbXBvcnRfem9kNS56LnN0cmluZygpXG4gICAgXSkuZGVzY3JpYmUoSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgdGV4dDogXCJMb29wcyBhIHZpZGVvIG9yIGFuaW1hdGVkIGltYWdlIHRoZSBzcGVjaWZpZWQgbnVtYmVyIG9mIHRpbWVzLlwiLFxuICAgICAgdXJsOiBcImh0dHBzOi8vY2xvdWRpbmFyeS5jb20vZG9jdW1lbnRhdGlvbi90cmFuc2Zvcm1hdGlvbl9yZWZlcmVuY2UjZV9sb29wXCJcbiAgICB9KSlcbiAgfSxcbiAgbXVsdGlwbHk6IHtcbiAgICBwcmVmaXg6IFwiZVwiLFxuICAgIHF1YWxpZmllcjogXCJtdWx0aXBseVwiLFxuICAgIHNjaGVtYTogaW1wb3J0X3pvZDUuei5ib29sZWFuKCkuZGVzY3JpYmUoSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgdGV4dDogXCJBIHF1YWxpZmllciB0aGF0IGJsZW5kcyBpbWFnZSBsYXllcnMgdXNpbmcgdGhlIG11bHRpcGx5IGJsZW5kIG1vZGVcIixcbiAgICAgIHVybDogXCJodHRwczovL2Nsb3VkaW5hcnkuY29tL2RvY3VtZW50YXRpb24vdHJhbnNmb3JtYXRpb25fcmVmZXJlbmNlI2VfbXVsdGlwbHlcIlxuICAgIH0pKVxuICB9LFxuICBuZWdhdGU6IHtcbiAgICBwcmVmaXg6IFwiZVwiLFxuICAgIHF1YWxpZmllcjogXCJuZWdhdGVcIixcbiAgICBzY2hlbWE6IGltcG9ydF96b2Q1LnoudW5pb24oW1xuICAgICAgaW1wb3J0X3pvZDUuei5zdHJpbmcoKSxcbiAgICAgIGltcG9ydF96b2Q1LnouYm9vbGVhbigpXG4gICAgXSkuZGVzY3JpYmUoSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgdGV4dDogXCJodHRwczovL2Nsb3VkaW5hcnkuY29tL2RvY3VtZW50YXRpb24vdHJhbnNmb3JtYXRpb25fcmVmZXJlbmNlI2VfbmVnYXRlXCIsXG4gICAgICB1cmw6IFwiaHR0cHM6Ly9jbG91ZGluYXJ5LmNvbS9kb2N1bWVudGF0aW9uL3RyYW5zZm9ybWF0aW9uX3JlZmVyZW5jZSNlX25lZ2F0ZVwiXG4gICAgfSkpXG4gIH0sXG4gIG5vaXNlOiB7XG4gICAgcHJlZml4OiBcImVcIixcbiAgICBxdWFsaWZpZXI6IFwibm9pc2VcIixcbiAgICBzY2hlbWE6IGltcG9ydF96b2Q1LnouYm9vbGVhbigpLmRlc2NyaWJlKEpTT04uc3RyaW5naWZ5KHtcbiAgICAgIHRleHQ6IFwiaHR0cHM6Ly9jbG91ZGluYXJ5LmNvbS9kb2N1bWVudGF0aW9uL3RyYW5zZm9ybWF0aW9uX3JlZmVyZW5jZSNlX25vaXNlXCIsXG4gICAgICB1cmw6IFwiaHR0cHM6Ly9jbG91ZGluYXJ5LmNvbS9kb2N1bWVudGF0aW9uL3RyYW5zZm9ybWF0aW9uX3JlZmVyZW5jZSNlX25vaXNlXCJcbiAgICB9KSlcbiAgfSxcbiAgb2lsUGFpbnQ6IHtcbiAgICBwcmVmaXg6IFwiZVwiLFxuICAgIHF1YWxpZmllcjogXCJvaWxfcGFpbnRcIixcbiAgICBzY2hlbWE6IGltcG9ydF96b2Q1LnoudW5pb24oW1xuICAgICAgaW1wb3J0X3pvZDUuei5zdHJpbmcoKSxcbiAgICAgIGltcG9ydF96b2Q1LnouYm9vbGVhbigpXG4gICAgXSkuZGVzY3JpYmUoSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgdGV4dDogXCJodHRwczovL2Nsb3VkaW5hcnkuY29tL2RvY3VtZW50YXRpb24vdHJhbnNmb3JtYXRpb25fcmVmZXJlbmNlI2Vfb2lsX3BhaW50XCIsXG4gICAgICB1cmw6IFwiaHR0cHM6Ly9jbG91ZGluYXJ5LmNvbS9kb2N1bWVudGF0aW9uL3RyYW5zZm9ybWF0aW9uX3JlZmVyZW5jZSNlX29pbF9wYWludFwiXG4gICAgfSkpXG4gIH0sXG4gIG9wYWNpdHk6IHtcbiAgICBxdWFsaWZpZXI6IFwib1wiLFxuICAgIHNjaGVtYTogaW1wb3J0X3pvZDUuei51bmlvbihbXG4gICAgICBpbXBvcnRfem9kNS56LnN0cmluZygpLFxuICAgICAgaW1wb3J0X3pvZDUuei5udW1iZXIoKVxuICAgIF0pLmRlc2NyaWJlKEpTT04uc3RyaW5naWZ5KHtcbiAgICAgIHRleHQ6IFwiQWRqdXN0cyB0aGUgb3BhY2l0eSBvZiBhbiBhc3NldCBhbmQgbWFrZXMgaXQgc2VtaS10cmFuc3BhcmVudC5cIixcbiAgICAgIHVybDogXCJodHRwczovL2Nsb3VkaW5hcnkuY29tL2RvY3VtZW50YXRpb24vdHJhbnNmb3JtYXRpb25fcmVmZXJlbmNlI29fb3BhY2l0eVwiXG4gICAgfSkpXG4gIH0sXG4gIG91dGxpbmU6IHtcbiAgICBwcmVmaXg6IFwiZVwiLFxuICAgIHF1YWxpZmllcjogXCJvdXRsaW5lXCIsXG4gICAgc2NoZW1hOiBpbXBvcnRfem9kNS56LnVuaW9uKFtcbiAgICAgIGltcG9ydF96b2Q1Lnouc3RyaW5nKCksXG4gICAgICBpbXBvcnRfem9kNS56LmJvb2xlYW4oKVxuICAgIF0pLmRlc2NyaWJlKEpTT04uc3RyaW5naWZ5KHtcbiAgICAgIHRleHQ6IFwiQWRkcyBhbiBvdXRsaW5lIGVmZmVjdCB0byBhbiBpbWFnZS5cIixcbiAgICAgIHVybDogXCJodHRwczovL2Nsb3VkaW5hcnkuY29tL2RvY3VtZW50YXRpb24vdHJhbnNmb3JtYXRpb25fcmVmZXJlbmNlI2Vfb3V0bGluZVwiXG4gICAgfSkpXG4gIH0sXG4gIHBpeGVsYXRlOiB7XG4gICAgcHJlZml4OiBcImVcIixcbiAgICBxdWFsaWZpZXI6IFwicGl4ZWxhdGVcIixcbiAgICBzY2hlbWE6IGltcG9ydF96b2Q1LnoudW5pb24oW1xuICAgICAgaW1wb3J0X3pvZDUuei5zdHJpbmcoKSxcbiAgICAgIGltcG9ydF96b2Q1LnouYm9vbGVhbigpXG4gICAgXSkuZGVzY3JpYmUoSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgdGV4dDogXCJBcHBsaWVzIGEgcGl4ZWxhdGlvbiBlZmZlY3QuXCIsXG4gICAgICB1cmw6IFwiaHR0cHM6Ly9jbG91ZGluYXJ5LmNvbS9kb2N1bWVudGF0aW9uL3RyYW5zZm9ybWF0aW9uX3JlZmVyZW5jZSNlX3BpeGVsYXRlXCJcbiAgICB9KSlcbiAgfSxcbiAgcGl4ZWxhdGVGYWNlczoge1xuICAgIHByZWZpeDogXCJlXCIsXG4gICAgcXVhbGlmaWVyOiBcInBpeGVsYXRlX2ZhY2VzXCIsXG4gICAgc2NoZW1hOiBpbXBvcnRfem9kNS56LnVuaW9uKFtcbiAgICAgIGltcG9ydF96b2Q1Lnouc3RyaW5nKCksXG4gICAgICBpbXBvcnRfem9kNS56LmJvb2xlYW4oKVxuICAgIF0pLmRlc2NyaWJlKEpTT04uc3RyaW5naWZ5KHtcbiAgICAgIHRleHQ6IFwiUGl4ZWxhdGVzIGFsbCBkZXRlY3RlZCBmYWNlcyBpbiBhbiBpbWFnZS5cIixcbiAgICAgIHVybDogXCJodHRwczovL2Nsb3VkaW5hcnkuY29tL2RvY3VtZW50YXRpb24vdHJhbnNmb3JtYXRpb25fcmVmZXJlbmNlI2VfcGl4ZWxhdGVfZmFjZXNcIlxuICAgIH0pKVxuICB9LFxuICBwaXhlbGF0ZVJlZ2lvbjoge1xuICAgIHByZWZpeDogXCJlXCIsXG4gICAgcXVhbGlmaWVyOiBcInBpeGVsYXRlX3JlZ2lvblwiLFxuICAgIHNjaGVtYTogaW1wb3J0X3pvZDUuei51bmlvbihbXG4gICAgICBpbXBvcnRfem9kNS56LnN0cmluZygpLFxuICAgICAgaW1wb3J0X3pvZDUuei5ib29sZWFuKClcbiAgICBdKS5kZXNjcmliZShKU09OLnN0cmluZ2lmeSh7XG4gICAgICB0ZXh0OiBcIlBpeGVsYXRlcyB0aGUgcmVnaW9uIG9mIGFuIGltYWdlIHNwZWNpZmllZCBieSB4LCB5LCB3aWR0aCBhbmQgaGVpZ2h0LCBvciBhbiBhcmVhIG9mIHRleHQuXCIsXG4gICAgICB1cmw6IFwiaHR0cHM6Ly9jbG91ZGluYXJ5LmNvbS9kb2N1bWVudGF0aW9uL3RyYW5zZm9ybWF0aW9uX3JlZmVyZW5jZSNlX3BpeGVsYXRlX3JlZ2lvblwiXG4gICAgfSkpXG4gIH0sXG4gIHJhZGl1czoge1xuICAgIHF1YWxpZmllcjogXCJyXCIsXG4gICAgc2NoZW1hOiBpbXBvcnRfem9kNS56LnN0cmluZygpLmRlc2NyaWJlKEpTT04uc3RyaW5naWZ5KHtcbiAgICAgIHRleHQ6IFwiUm91bmRzIHRoZSBjb3JuZXJzIG9mIGFuIGltYWdlIG9yIHZpZGVvLlwiLFxuICAgICAgdXJsOiBcImh0dHBzOi8vY2xvdWRpbmFyeS5jb20vZG9jdW1lbnRhdGlvbi90cmFuc2Zvcm1hdGlvbl9yZWZlcmVuY2Ujcl9yb3VuZF9jb3JuZXJzXCJcbiAgICB9KSlcbiAgfSxcbiAgcmVkZXllOiB7XG4gICAgcHJlZml4OiBcImVcIixcbiAgICBxdWFsaWZpZXI6IFwicmVkZXllXCIsXG4gICAgc2NoZW1hOiBpbXBvcnRfem9kNS56LnVuaW9uKFtcbiAgICAgIGltcG9ydF96b2Q1Lnouc3RyaW5nKCksXG4gICAgICBpbXBvcnRfem9kNS56LmJvb2xlYW4oKVxuICAgIF0pLmRlc2NyaWJlKEpTT04uc3RyaW5naWZ5KHtcbiAgICAgIHRleHQ6IFwiQXV0b21hdGljYWxseSByZW1vdmVzIHJlZCBleWVzIGluIGFuIGltYWdlLlwiLFxuICAgICAgdXJsOiBcImh0dHBzOi8vY2xvdWRpbmFyeS5jb20vZG9jdW1lbnRhdGlvbi90cmFuc2Zvcm1hdGlvbl9yZWZlcmVuY2UjZV9yZWRleWVcIlxuICAgIH0pKVxuICB9LFxuICByZXBsYWNlQ29sb3I6IHtcbiAgICBwcmVmaXg6IFwiZVwiLFxuICAgIHF1YWxpZmllcjogXCJyZXBsYWNlX2NvbG9yXCIsXG4gICAgc2NoZW1hOiBpbXBvcnRfem9kNS56LnN0cmluZygpLmRlc2NyaWJlKEpTT04uc3RyaW5naWZ5KHtcbiAgICAgIHRleHQ6IFwiTWFwcyBhbiBpbnB1dCBjb2xvciBhbmQgdGhvc2Ugc2ltaWxhciB0byB0aGUgaW5wdXQgY29sb3IgdG8gY29ycmVzcG9uZGluZyBzaGFkZXMgb2YgYSBzcGVjaWZpZWQgb3V0cHV0IGNvbG9yLlwiLFxuICAgICAgdXJsOiBcImh0dHBzOi8vY2xvdWRpbmFyeS5jb20vZG9jdW1lbnRhdGlvbi90cmFuc2Zvcm1hdGlvbl9yZWZlcmVuY2UjZV9yZXBsYWNlX2NvbG9yXCJcbiAgICB9KSlcbiAgfSxcbiAgc2F0dXJhdGlvbjoge1xuICAgIHByZWZpeDogXCJlXCIsXG4gICAgcXVhbGlmaWVyOiBcInNhdHVyYXRpb25cIixcbiAgICBzY2hlbWE6IGltcG9ydF96b2Q1LnoudW5pb24oW1xuICAgICAgaW1wb3J0X3pvZDUuei5zdHJpbmcoKSxcbiAgICAgIGltcG9ydF96b2Q1LnouYm9vbGVhbigpXG4gICAgXSkuZGVzY3JpYmUoSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgdGV4dDogXCJBZGp1c3RzIGFuIGltYWdlIG9yIHZpZGVvIHNhdHVyYXRpb24gbGV2ZWwuXCIsXG4gICAgICB1cmw6IFwiaHR0cHM6Ly9jbG91ZGluYXJ5LmNvbS9kb2N1bWVudGF0aW9uL3RyYW5zZm9ybWF0aW9uX3JlZmVyZW5jZSNlX3NhdHVyYXRpb25cIlxuICAgIH0pKVxuICB9LFxuICBzY3JlZW46IHtcbiAgICBwcmVmaXg6IFwiZVwiLFxuICAgIHF1YWxpZmllcjogXCJzY3JlZW5cIixcbiAgICBzY2hlbWE6IGltcG9ydF96b2Q1LnouYm9vbGVhbigpLmRlc2NyaWJlKEpTT04uc3RyaW5naWZ5KHtcbiAgICAgIHRleHQ6IFwiQSBxdWFsaWZpZXIgdGhhdCBibGVuZHMgaW1hZ2UgbGF5ZXJzIHVzaW5nIHRoZSBzY3JlZW4gYmxlbmQgbW9kZS5cIixcbiAgICAgIHVybDogXCJodHRwczovL2Nsb3VkaW5hcnkuY29tL2RvY3VtZW50YXRpb24vdHJhbnNmb3JtYXRpb25fcmVmZXJlbmNlI2Vfc2NyZWVuXCJcbiAgICB9KSlcbiAgfSxcbiAgc2VwaWE6IHtcbiAgICBwcmVmaXg6IFwiZVwiLFxuICAgIHF1YWxpZmllcjogXCJzZXBpYVwiLFxuICAgIHNjaGVtYTogaW1wb3J0X3pvZDUuei51bmlvbihbXG4gICAgICBpbXBvcnRfem9kNS56LnN0cmluZygpLFxuICAgICAgaW1wb3J0X3pvZDUuei5ib29sZWFuKClcbiAgICBdKS5kZXNjcmliZShKU09OLnN0cmluZ2lmeSh7XG4gICAgICB0ZXh0OiBcIkNoYW5nZXMgdGhlIGNvbG9yIHNjaGVtZSBvZiBhbiBpbWFnZSB0byBzZXBpYS5cIixcbiAgICAgIHVybDogXCJodHRwczovL2Nsb3VkaW5hcnkuY29tL2RvY3VtZW50YXRpb24vdHJhbnNmb3JtYXRpb25fcmVmZXJlbmNlI2Vfc2VwaWFcIlxuICAgIH0pKVxuICB9LFxuICBzaGFkb3c6IHtcbiAgICBwcmVmaXg6IFwiZVwiLFxuICAgIHF1YWxpZmllcjogXCJzaGFkb3dcIixcbiAgICBzY2hlbWE6IGltcG9ydF96b2Q1LnoudW5pb24oW1xuICAgICAgaW1wb3J0X3pvZDUuei5zdHJpbmcoKSxcbiAgICAgIGltcG9ydF96b2Q1LnouYm9vbGVhbigpXG4gICAgXSkuZGVzY3JpYmUoSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgdGV4dDogXCJBZGRzIGEgZ3JheSBzaGFkb3cgdG8gdGhlIGJvdHRvbSByaWdodCBvZiBhbiBpbWFnZS5cIixcbiAgICAgIHVybDogXCJodHRwczovL2Nsb3VkaW5hcnkuY29tL2RvY3VtZW50YXRpb24vdHJhbnNmb3JtYXRpb25fcmVmZXJlbmNlI2Vfc2hhZG93XCJcbiAgICB9KSlcbiAgfSxcbiAgc2hhcnBlbjoge1xuICAgIHByZWZpeDogXCJlXCIsXG4gICAgcXVhbGlmaWVyOiBcInNoYXJwZW5cIixcbiAgICBzY2hlbWE6IGltcG9ydF96b2Q1LnoudW5pb24oW1xuICAgICAgaW1wb3J0X3pvZDUuei5zdHJpbmcoKSxcbiAgICAgIGltcG9ydF96b2Q1LnouYm9vbGVhbigpXG4gICAgXSkuZGVzY3JpYmUoSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgdGV4dDogXCJBcHBsaWVzIGEgc2hhcnBlbmluZyBmaWx0ZXIuXCIsXG4gICAgICB1cmw6IFwiaHR0cHM6Ly9jbG91ZGluYXJ5LmNvbS9kb2N1bWVudGF0aW9uL3RyYW5zZm9ybWF0aW9uX3JlZmVyZW5jZSNlX3NoYXJwZW5cIlxuICAgIH0pKVxuICB9LFxuICBzaGVhcjoge1xuICAgIHByZWZpeDogXCJlXCIsXG4gICAgcXVhbGlmaWVyOiBcInNoZWFyXCIsXG4gICAgc2NoZW1hOiBpbXBvcnRfem9kNS56LnN0cmluZygpLmRlc2NyaWJlKEpTT04uc3RyaW5naWZ5KHtcbiAgICAgIHRleHQ6IFwiU2tld3MgYW4gaW1hZ2UgYWNjb3JkaW5nIHRvIHRoZSB0d28gc3BlY2lmaWVkIHZhbHVlcyBpbiBkZWdyZWVzLlwiLFxuICAgICAgdXJsOiBcImh0dHBzOi8vY2xvdWRpbmFyeS5jb20vZG9jdW1lbnRhdGlvbi90cmFuc2Zvcm1hdGlvbl9yZWZlcmVuY2UjZV9zaGVhclwiXG4gICAgfSkpXG4gIH0sXG4gIHNpbXVsYXRlQ29sb3JibGluZDoge1xuICAgIHByZWZpeDogXCJlXCIsXG4gICAgcXVhbGlmaWVyOiBcInNpbXVsYXRlX2NvbG9yYmxpbmRcIixcbiAgICBzY2hlbWE6IGltcG9ydF96b2Q1LnoudW5pb24oW1xuICAgICAgaW1wb3J0X3pvZDUuei5zdHJpbmcoKSxcbiAgICAgIGltcG9ydF96b2Q1LnouYm9vbGVhbigpXG4gICAgXSkuZGVzY3JpYmUoSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgdGV4dDogXCJTaW11bGF0ZXMgdGhlIHdheSBhbiBpbWFnZSB3b3VsZCBhcHBlYXIgdG8gc29tZW9uZSB3aXRoIHRoZSBzcGVjaWZpZWQgY29sb3IgYmxpbmQgY29uZGl0aW9uLlwiLFxuICAgICAgdXJsOiBcImh0dHBzOi8vY2xvdWRpbmFyeS5jb20vZG9jdW1lbnRhdGlvbi90cmFuc2Zvcm1hdGlvbl9yZWZlcmVuY2UjZV9zaW11bGF0ZV9jb2xvcmJsaW5kXCJcbiAgICB9KSlcbiAgfSxcbiAgdGludDoge1xuICAgIHByZWZpeDogXCJlXCIsXG4gICAgcXVhbGlmaWVyOiBcInRpbnRcIixcbiAgICBzY2hlbWE6IGltcG9ydF96b2Q1LnoudW5pb24oW1xuICAgICAgaW1wb3J0X3pvZDUuei5zdHJpbmcoKSxcbiAgICAgIGltcG9ydF96b2Q1LnouYm9vbGVhbigpXG4gICAgXSkuZGVzY3JpYmUoSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgdGV4dDogXCJCbGVuZHMgYW4gaW1hZ2Ugd2l0aCBvbmUgb3IgbW9yZSB0aW50IGNvbG9ycyBhdCBhIHNwZWNpZmllZCBpbnRlbnNpdHkuXCIsXG4gICAgICB1cmw6IFwiaHR0cHM6Ly9jbG91ZGluYXJ5LmNvbS9kb2N1bWVudGF0aW9uL3RyYW5zZm9ybWF0aW9uX3JlZmVyZW5jZSNlX3RpbnRcIlxuICAgIH0pKVxuICB9LFxuICB0cmltOiB7XG4gICAgcHJlZml4OiBcImVcIixcbiAgICBxdWFsaWZpZXI6IFwidHJpbVwiLFxuICAgIHNjaGVtYTogaW1wb3J0X3pvZDUuei51bmlvbihbXG4gICAgICBpbXBvcnRfem9kNS56LnN0cmluZygpLFxuICAgICAgaW1wb3J0X3pvZDUuei5ib29sZWFuKClcbiAgICBdKS5kZXNjcmliZShKU09OLnN0cmluZ2lmeSh7XG4gICAgICB0ZXh0OiBcIkRldGVjdHMgYW5kIHJlbW92ZXMgaW1hZ2UgZWRnZXMgd2hvc2UgY29sb3IgaXMgc2ltaWxhciB0byB0aGUgY29ybmVyIHBpeGVscy5cIixcbiAgICAgIHVybDogXCJodHRwczovL2Nsb3VkaW5hcnkuY29tL2RvY3VtZW50YXRpb24vdHJhbnNmb3JtYXRpb25fcmVmZXJlbmNlI2VfdHJpbVwiXG4gICAgfSkpXG4gIH0sXG4gIHVuc2hhcnBNYXNrOiB7XG4gICAgcHJlZml4OiBcImVcIixcbiAgICBxdWFsaWZpZXI6IFwidW5zaGFycF9tYXNrXCIsXG4gICAgc2NoZW1hOiBpbXBvcnRfem9kNS56LnVuaW9uKFtcbiAgICAgIGltcG9ydF96b2Q1Lnouc3RyaW5nKCksXG4gICAgICBpbXBvcnRfem9kNS56LmJvb2xlYW4oKVxuICAgIF0pLmRlc2NyaWJlKEpTT04uc3RyaW5naWZ5KHtcbiAgICAgIHRleHQ6IFwiQXBwbGllcyBhbiB1bnNoYXJwIG1hc2sgZmlsdGVyIHRvIGFuIGltYWdlLlwiLFxuICAgICAgdXJsOiBcImh0dHBzOi8vY2xvdWRpbmFyeS5jb20vZG9jdW1lbnRhdGlvbi90cmFuc2Zvcm1hdGlvbl9yZWZlcmVuY2UjZV91bnNoYXJwX21hc2tcIlxuICAgIH0pKVxuICB9LFxuICB2ZWN0b3JpemU6IHtcbiAgICBwcmVmaXg6IFwiZVwiLFxuICAgIHF1YWxpZmllcjogXCJ2ZWN0b3JpemVcIixcbiAgICBzY2hlbWE6IGltcG9ydF96b2Q1LnoudW5pb24oW1xuICAgICAgaW1wb3J0X3pvZDUuei5zdHJpbmcoKSxcbiAgICAgIGltcG9ydF96b2Q1LnouYm9vbGVhbigpXG4gICAgXSkuZGVzY3JpYmUoSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgdGV4dDogXCJWZWN0b3JpemVzIGFuIGltYWdlLlwiLFxuICAgICAgdXJsOiBcImh0dHBzOi8vY2xvdWRpbmFyeS5jb20vZG9jdW1lbnRhdGlvbi90cmFuc2Zvcm1hdGlvbl9yZWZlcmVuY2UjZV92ZWN0b3JpemVcIlxuICAgIH0pKVxuICB9LFxuICB2aWJyYW5jZToge1xuICAgIHByZWZpeDogXCJlXCIsXG4gICAgcXVhbGlmaWVyOiBcInZpYnJhbmNlXCIsXG4gICAgc2NoZW1hOiBpbXBvcnRfem9kNS56LnVuaW9uKFtcbiAgICAgIGltcG9ydF96b2Q1Lnouc3RyaW5nKCksXG4gICAgICBpbXBvcnRfem9kNS56LmJvb2xlYW4oKVxuICAgIF0pLmRlc2NyaWJlKEpTT04uc3RyaW5naWZ5KHtcbiAgICAgIHRleHQ6IFwiQXBwbGllcyBhIHZpYnJhbmNlIGZpbHRlciB0byBhbiBpbWFnZS5cIixcbiAgICAgIHVybDogXCJodHRwczovL2Nsb3VkaW5hcnkuY29tL2RvY3VtZW50YXRpb24vdHJhbnNmb3JtYXRpb25fcmVmZXJlbmNlI2VfdmlicmFuY2VcIlxuICAgIH0pKVxuICB9LFxuICB2aWduZXR0ZToge1xuICAgIHByZWZpeDogXCJlXCIsXG4gICAgcXVhbGlmaWVyOiBcInZpZ25ldHRlXCIsXG4gICAgc2NoZW1hOiBpbXBvcnRfem9kNS56LnVuaW9uKFtcbiAgICAgIGltcG9ydF96b2Q1Lnouc3RyaW5nKCksXG4gICAgICBpbXBvcnRfem9kNS56LmJvb2xlYW4oKVxuICAgIF0pLmRlc2NyaWJlKEpTT04uc3RyaW5naWZ5KHtcbiAgICAgIHRleHQ6IFwiQXBwbGllcyBhIHZpZ25ldHRlIGVmZmVjdCB0byBhbiBpbWFnZS5cIixcbiAgICAgIHVybDogXCJodHRwczovL2Nsb3VkaW5hcnkuY29tL2RvY3VtZW50YXRpb24vdHJhbnNmb3JtYXRpb25fcmVmZXJlbmNlI2VfdmlnbmV0dGVcIlxuICAgIH0pKVxuICB9XG59O1xuXG4vLyBzcmMvcGx1Z2lucy9lZmZlY3RzLnRzXG52YXIgZWZmZWN0UHJvcHMgPSB7XG4gIGFuZ2xlOiBlZmZlY3RzLmFuZ2xlLnNjaGVtYS5vcHRpb25hbCgpLFxuICBhcnQ6IGVmZmVjdHMuYXJ0LnNjaGVtYS5vcHRpb25hbCgpLFxuICBhdXRvQnJpZ2h0bmVzczogZWZmZWN0cy5hdXRvQnJpZ2h0bmVzcy5zY2hlbWEub3B0aW9uYWwoKSxcbiAgYXV0b0NvbG9yOiBlZmZlY3RzLmF1dG9Db2xvci5zY2hlbWEub3B0aW9uYWwoKSxcbiAgYXV0b0NvbnRyYXN0OiBlZmZlY3RzLmF1dG9Db250cmFzdC5zY2hlbWEub3B0aW9uYWwoKSxcbiAgYXNzaXN0Q29sb3JibGluZDogZWZmZWN0cy5hc3Npc3RDb2xvcmJsaW5kLnNjaGVtYS5vcHRpb25hbCgpLFxuICBiYWNrZ3JvdW5kOiBlZmZlY3RzLmJhY2tncm91bmQuc2NoZW1hLm9wdGlvbmFsKCksXG4gIGJsYWNrd2hpdGU6IGVmZmVjdHMuYmxhY2t3aGl0ZS5zY2hlbWEub3B0aW9uYWwoKSxcbiAgYmx1cjogZWZmZWN0cy5ibHVyLnNjaGVtYS5vcHRpb25hbCgpLFxuICBibHVyRmFjZXM6IGVmZmVjdHMuYmx1ckZhY2VzLnNjaGVtYS5vcHRpb25hbCgpLFxuICBibHVyUmVnaW9uOiBlZmZlY3RzLmJsdXJSZWdpb24uc2NoZW1hLm9wdGlvbmFsKCksXG4gIGJvcmRlcjogZWZmZWN0cy5ib3JkZXIuc2NoZW1hLm9wdGlvbmFsKCksXG4gIGJyaWdodG5lc3M6IGVmZmVjdHMuYnJpZ2h0bmVzcy5zY2hlbWEub3B0aW9uYWwoKSxcbiAgYnJpZ2h0bmVzc0hTQjogZWZmZWN0cy5icmlnaHRuZXNzSFNCLnNjaGVtYS5vcHRpb25hbCgpLFxuICBjYXJ0b29uaWZ5OiBlZmZlY3RzLmNhcnRvb25pZnkuc2NoZW1hLm9wdGlvbmFsKCksXG4gIGNvbG9yOiBlZmZlY3RzLmNvbG9yLnNjaGVtYS5vcHRpb25hbCgpLFxuICBjb2xvcml6ZTogZWZmZWN0cy5jb2xvcml6ZS5zY2hlbWEub3B0aW9uYWwoKSxcbiAgY29udHJhc3Q6IGVmZmVjdHMuY29udHJhc3Quc2NoZW1hLm9wdGlvbmFsKCksXG4gIGRpc3RvcnQ6IGVmZmVjdHMuZGlzdG9ydC5zY2hlbWEub3B0aW9uYWwoKSxcbiAgZmlsbExpZ2h0OiBlZmZlY3RzLmZpbGxMaWdodC5zY2hlbWEub3B0aW9uYWwoKSxcbiAgZ2FtbWE6IGVmZmVjdHMuZ2FtbWEuc2NoZW1hLm9wdGlvbmFsKCksXG4gIGdyYWRpZW50RmFkZTogZWZmZWN0cy5ncmFkaWVudEZhZGUuc2NoZW1hLm9wdGlvbmFsKCksXG4gIGdyYXlzY2FsZTogZWZmZWN0cy5ncmF5c2NhbGUuc2NoZW1hLm9wdGlvbmFsKCksXG4gIGltcHJvdmU6IGVmZmVjdHMuaW1wcm92ZS5zY2hlbWEub3B0aW9uYWwoKSxcbiAgbG9vcDogZWZmZWN0cy5sb29wLnNjaGVtYS5vcHRpb25hbCgpLFxuICBtdWx0aXBseTogZWZmZWN0cy5tdWx0aXBseS5zY2hlbWEub3B0aW9uYWwoKSxcbiAgbmVnYXRlOiBlZmZlY3RzLm5lZ2F0ZS5zY2hlbWEub3B0aW9uYWwoKSxcbiAgb2lsUGFpbnQ6IGVmZmVjdHMub2lsUGFpbnQuc2NoZW1hLm9wdGlvbmFsKCksXG4gIG9wYWNpdHk6IGVmZmVjdHMub3BhY2l0eS5zY2hlbWEub3B0aW9uYWwoKSxcbiAgb3V0bGluZTogZWZmZWN0cy5vdXRsaW5lLnNjaGVtYS5vcHRpb25hbCgpLFxuICBwaXhlbGF0ZTogZWZmZWN0cy5waXhlbGF0ZS5zY2hlbWEub3B0aW9uYWwoKSxcbiAgcGl4ZWxhdGVGYWNlczogZWZmZWN0cy5waXhlbGF0ZUZhY2VzLnNjaGVtYS5vcHRpb25hbCgpLFxuICBwaXhlbGF0ZVJlZ2lvbjogZWZmZWN0cy5waXhlbGF0ZVJlZ2lvbi5zY2hlbWEub3B0aW9uYWwoKSxcbiAgcmFkaXVzOiBlZmZlY3RzLnJhZGl1cy5zY2hlbWEub3B0aW9uYWwoKSxcbiAgcmVkZXllOiBlZmZlY3RzLnJlZGV5ZS5zY2hlbWEub3B0aW9uYWwoKSxcbiAgcmVwbGFjZUNvbG9yOiBlZmZlY3RzLnJlcGxhY2VDb2xvci5zY2hlbWEub3B0aW9uYWwoKSxcbiAgc2F0dXJhdGlvbjogZWZmZWN0cy5zYXR1cmF0aW9uLnNjaGVtYS5vcHRpb25hbCgpLFxuICBzY3JlZW46IGVmZmVjdHMuc2NyZWVuLnNjaGVtYS5vcHRpb25hbCgpLFxuICBzZXBpYTogZWZmZWN0cy5zZXBpYS5zY2hlbWEub3B0aW9uYWwoKSxcbiAgc2hhZG93OiBlZmZlY3RzLnNoYWRvdy5zY2hlbWEub3B0aW9uYWwoKSxcbiAgc2hhcnBlbjogZWZmZWN0cy5zaGFycGVuLnNjaGVtYS5vcHRpb25hbCgpLFxuICBzaGVhcjogZWZmZWN0cy5zaGVhci5zY2hlbWEub3B0aW9uYWwoKSxcbiAgc2ltdWxhdGVDb2xvcmJsaW5kOiBlZmZlY3RzLnNpbXVsYXRlQ29sb3JibGluZC5zY2hlbWEub3B0aW9uYWwoKSxcbiAgdGludDogZWZmZWN0cy50aW50LnNjaGVtYS5vcHRpb25hbCgpLFxuICB0cmltOiBlZmZlY3RzLnRyaW0uc2NoZW1hLm9wdGlvbmFsKCksXG4gIHVuc2hhcnBNYXNrOiBlZmZlY3RzLnVuc2hhcnBNYXNrLnNjaGVtYS5vcHRpb25hbCgpLFxuICB2ZWN0b3JpemU6IGVmZmVjdHMudmVjdG9yaXplLnNjaGVtYS5vcHRpb25hbCgpLFxuICB2aWJyYW5jZTogZWZmZWN0cy52aWJyYW5jZS5zY2hlbWEub3B0aW9uYWwoKSxcbiAgdmlnbmV0dGU6IGVmZmVjdHMudmlnbmV0dGUuc2NoZW1hLm9wdGlvbmFsKClcbn07XG52YXIgcHJvcHM0ID0ge1xuICBlZmZlY3RzOiBpbXBvcnRfem9kNi56LmFycmF5KGltcG9ydF96b2Q2Lnoub2JqZWN0KGVmZmVjdFByb3BzKSkuZGVzY3JpYmUoSlNPTi5zdHJpbmdpZnkoe1xuICAgIHRleHQ6IFwiQXJyYXkgb2Ygb2JqZWN0cyBzcGVjaWZ5aW5nIHRyYW5zZm9ybWF0aW9ucyB0byBiZSBhcHBsaWVkIHRvIGFzc2V0LlwiXG4gIH0pKS5vcHRpb25hbCgpLFxuICAuLi5lZmZlY3RQcm9wc1xufTtcbnZhciBhc3NldFR5cGVzNCA9IFtcImltYWdlXCIsIFwiaW1hZ2VzXCIsIFwidmlkZW9cIiwgXCJ2aWRlb3NcIl07XG5mdW5jdGlvbiBwbHVnaW40KHByb3BzMjEpIHtcbiAgY29uc3QgeyBjbGRBc3NldCwgb3B0aW9ucyB9ID0gcHJvcHMyMTtcbiAgY29uc3QgdHJhbnNmb3JtYXRpb25TdHJpbmdzID0gY29uc3RydWN0VHJhbnNmb3JtYXRpb25TdHJpbmcoe1xuICAgIGVmZmVjdHMsXG4gICAgb3B0aW9uc1xuICB9KTtcbiAgdHJhbnNmb3JtYXRpb25TdHJpbmdzLmZpbHRlcigodCkgPT4gISF0KS5mb3JFYWNoKCh0cmFuc2Zvcm1hdGlvbikgPT4gY2xkQXNzZXQuZWZmZWN0KHRyYW5zZm9ybWF0aW9uKSk7XG4gIDtcbiAgaWYgKEFycmF5LmlzQXJyYXkob3B0aW9ucz8uZWZmZWN0cykpIHtcbiAgICBvcHRpb25zPy5lZmZlY3RzLmZvckVhY2goKGVmZmVjdHNTZXQpID0+IHtcbiAgICAgIGNvbnN0IHRyYW5zZm9ybWF0aW9uU3RyaW5nID0gY29uc3RydWN0VHJhbnNmb3JtYXRpb25TdHJpbmcoe1xuICAgICAgICBlZmZlY3RzLFxuICAgICAgICBvcHRpb25zOiBlZmZlY3RzU2V0XG4gICAgICB9KS5maWx0ZXIoKHQpID0+ICEhdCkuam9pbihcIixcIik7XG4gICAgICBjbGRBc3NldC5lZmZlY3QodHJhbnNmb3JtYXRpb25TdHJpbmcpO1xuICAgIH0pO1xuICB9XG4gIGZ1bmN0aW9uIGNvbnN0cnVjdFRyYW5zZm9ybWF0aW9uU3RyaW5nKHsgZWZmZWN0czogZWZmZWN0czIsIG9wdGlvbnM6IG9wdGlvbnMyIH0pIHtcbiAgICByZXR1cm4gT2JqZWN0LmtleXMoZWZmZWN0czIpLm1hcCgoa2V5KSA9PiB7XG4gICAgICBjb25zdCB7IHByZWZpeCwgcXVhbGlmaWVyLCBjb252ZXJ0ZXJzIH0gPSBlZmZlY3RzMltrZXldO1xuICAgICAgcmV0dXJuIGNvbnN0cnVjdFRyYW5zZm9ybWF0aW9uKHtcbiAgICAgICAgcXVhbGlmaWVyLFxuICAgICAgICBwcmVmaXgsXG4gICAgICAgIHZhbHVlOiBvcHRpb25zMj8uW2tleV0sXG4gICAgICAgIGNvbnZlcnRlcnNcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG4gIHJldHVybiB7fTtcbn1cblxuLy8gc3JjL3BsdWdpbnMvZW5oYW5jZS50c1xudmFyIGVuaGFuY2VfZXhwb3J0cyA9IHt9O1xuX19leHBvcnQoZW5oYW5jZV9leHBvcnRzLCB7XG4gIGFzc2V0VHlwZXM6ICgpID0+IGFzc2V0VHlwZXM1LFxuICBwbHVnaW46ICgpID0+IHBsdWdpbjUsXG4gIHByb3BzOiAoKSA9PiBwcm9wczVcbn0pO1xudmFyIGltcG9ydF96b2Q3ID0gcmVxdWlyZShcInpvZFwiKTtcbnZhciBwcm9wczUgPSB7XG4gIGVuaGFuY2U6IGltcG9ydF96b2Q3LnouYm9vbGVhbigpLmRlc2NyaWJlKEpTT04uc3RyaW5naWZ5KHtcbiAgICB0ZXh0OiBcIlVzZXMgQUkgdG8gYW5hbHl6ZSBhbiBpbWFnZSBhbmQgbWFrZSBhZGp1c3RtZW50cyB0byBlbmhhbmNlIHRoZSBhcHBlYWwgb2YgdGhlIGltYWdlLlwiLFxuICAgIHVybDogXCJodHRwczovL2Nsb3VkaW5hcnkuY29tL2RvY3VtZW50YXRpb24vdHJhbnNmb3JtYXRpb25fcmVmZXJlbmNlI2VfZW5oYW5jZVwiXG4gIH0pKS5vcHRpb25hbCgpXG59O1xudmFyIGFzc2V0VHlwZXM1ID0gW1wiaW1hZ2VcIiwgXCJpbWFnZXNcIl07XG5mdW5jdGlvbiBwbHVnaW41KHByb3BzMjEpIHtcbiAgY29uc3QgeyBjbGRBc3NldCwgb3B0aW9ucyB9ID0gcHJvcHMyMTtcbiAgY29uc3QgeyBlbmhhbmNlID0gZmFsc2UgfSA9IG9wdGlvbnM7XG4gIGlmIChlbmhhbmNlKSB7XG4gICAgY2xkQXNzZXQuZWZmZWN0KFwiZV9lbmhhbmNlXCIpO1xuICB9XG4gIHJldHVybiB7fTtcbn1cblxuLy8gc3JjL3BsdWdpbnMvZmxhZ3MudHNcbnZhciBmbGFnc19leHBvcnRzID0ge307XG5fX2V4cG9ydChmbGFnc19leHBvcnRzLCB7XG4gIGFzc2V0VHlwZXM6ICgpID0+IGFzc2V0VHlwZXM2LFxuICBwbHVnaW46ICgpID0+IHBsdWdpbjYsXG4gIHByb3BzOiAoKSA9PiBwcm9wczZcbn0pO1xudmFyIHsgZmxhZ3NFbnVtOiBmbGFnc0VudW0yIH0gPSBwYXJhbWV0ZXJzX2V4cG9ydHM7XG52YXIgcHJvcHM2ID0ge1xuICBmbGFnczogZmxhZ3Muc2NoZW1hLm9wdGlvbmFsKClcbn07XG52YXIgYXNzZXRUeXBlczYgPSBbXCJpbWFnZVwiLCBcImltYWdlc1wiLCBcInZpZGVvXCIsIFwidmlkZW9zXCJdO1xuZnVuY3Rpb24gcGx1Z2luNihwcm9wczIxKSB7XG4gIGNvbnN0IHsgY2xkQXNzZXQsIG9wdGlvbnMgfSA9IHByb3BzMjE7XG4gIGNvbnN0IHsgZmxhZ3M6IGZsYWdzMiA9IFtdIH0gPSBvcHRpb25zO1xuICBpZiAoQXJyYXkuaXNBcnJheShmbGFnczIpICYmIGZsYWdzMi5sZW5ndGggPiAwKSB7XG4gICAgZmxhZ3MyLmZvckVhY2goKGZsYWcpID0+IHtcbiAgICAgIGNvbnN0IHsgc3VjY2VzcyB9ID0gZmxhZ3NFbnVtMi5zYWZlUGFyc2UoZmxhZyk7XG4gICAgICBpZiAoIXN1Y2Nlc3MpIHtcbiAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSBcImRldmVsb3BtZW50XCIpIHtcbiAgICAgICAgICBjb25zb2xlLndhcm4oYEludmFsaWQgZmxhZyAke2ZsYWd9LCBub3QgYXBwbHlpbmcuYCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY2xkQXNzZXQuYWRkRmxhZyhmbGFnKTtcbiAgICB9KTtcbiAgfSBlbHNlIGlmICh0eXBlb2YgZmxhZ3MyID09PSBcIm9iamVjdFwiKSB7XG4gICAgT2JqZWN0LmVudHJpZXMoZmxhZ3MyKS5mb3JFYWNoKChbcXVhbGlmaWVyLCB2YWx1ZV0pID0+IHtcbiAgICAgIGNvbnN0IHsgc3VjY2VzcyB9ID0gZmxhZ3NFbnVtMi5zYWZlUGFyc2UocXVhbGlmaWVyKTtcbiAgICAgIGlmICghc3VjY2Vzcykge1xuICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09IFwiZGV2ZWxvcG1lbnRcIikge1xuICAgICAgICAgIGNvbnNvbGUud2FybihgSW52YWxpZCBmbGFnICR7cXVhbGlmaWVyfSwgbm90IGFwcGx5aW5nLmApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNsZEFzc2V0LmFkZFRyYW5zZm9ybWF0aW9uKGBmbF8ke3F1YWxpZmllcn06JHt2YWx1ZX1gKTtcbiAgICB9KTtcbiAgfVxuICByZXR1cm4ge307XG59XG5cbi8vIHNyYy9wbHVnaW5zL2ZpbGwtYmFja2dyb3VuZC50c1xudmFyIGZpbGxfYmFja2dyb3VuZF9leHBvcnRzID0ge307XG5fX2V4cG9ydChmaWxsX2JhY2tncm91bmRfZXhwb3J0cywge1xuICBhc3NldFR5cGVzOiAoKSA9PiBhc3NldFR5cGVzNyxcbiAgcGx1Z2luOiAoKSA9PiBwbHVnaW43LFxuICBwcm9wczogKCkgPT4gcHJvcHM3XG59KTtcbnZhciBpbXBvcnRfem9kOCA9IHJlcXVpcmUoXCJ6b2RcIik7XG52YXIgcHJvcHM3ID0ge1xuICBmaWxsQmFja2dyb3VuZDogaW1wb3J0X3pvZDguei51bmlvbihbXG4gICAgaW1wb3J0X3pvZDguei5ib29sZWFuKCksXG4gICAgaW1wb3J0X3pvZDguei5vYmplY3Qoe1xuICAgICAgY3JvcDogY3JvcC5zY2hlbWEub3B0aW9uYWwoKSxcbiAgICAgIGdyYXZpdHk6IGdyYXZpdHkuc2NoZW1hLm9wdGlvbmFsKCksXG4gICAgICBwcm9tcHQ6IGltcG9ydF96b2Q4Lnouc3RyaW5nKCkub3B0aW9uYWwoKVxuICAgIH0pXG4gIF0pLmRlc2NyaWJlKEpTT04uc3RyaW5naWZ5KHtcbiAgICB0ZXh0OiBcIlVzZXMgR2VuZXJhdGl2ZSBGaWxsIHRvIGV4dGVuZGVkIHBhZGRlZCBpbWFnZSB3aXRoIEFJXCIsXG4gICAgdXJsOiBcImh0dHBzOi8vY2xvdWRpbmFyeS5jb20vZG9jdW1lbnRhdGlvbi90cmFuc2Zvcm1hdGlvbl9yZWZlcmVuY2UjYl9nZW5fZmlsbFwiXG4gIH0pKS5vcHRpb25hbCgpXG59O1xudmFyIGFzc2V0VHlwZXM3ID0gW1wiaW1hZ2VcIiwgXCJpbWFnZXNcIl07XG52YXIgZGVmYXVsdENyb3AgPSBcInBhZFwiO1xuZnVuY3Rpb24gcGx1Z2luNyhwcm9wczIxKSB7XG4gIGNvbnN0IHsgY2xkQXNzZXQsIG9wdGlvbnMgfSA9IHByb3BzMjE7XG4gIGNvbnN0IHsgZmlsbEJhY2tncm91bmQgfSA9IG9wdGlvbnM7XG4gIGlmICh0eXBlb2YgZmlsbEJhY2tncm91bmQgPT09IFwidW5kZWZpbmVkXCIpXG4gICAgcmV0dXJuO1xuICBjb25zdCB3aWR0aDIgPSBub3JtYWxpemVOdW1iZXJQYXJhbWV0ZXIob3B0aW9ucy53aWR0aCk7XG4gIGNvbnN0IGhlaWdodDIgPSBub3JtYWxpemVOdW1iZXJQYXJhbWV0ZXIob3B0aW9ucy5oZWlnaHQpO1xuICBjb25zdCBoYXNEZWZpbmVkRGltZW5zaW9ucyA9IHR5cGVvZiBoZWlnaHQyID09PSBcIm51bWJlclwiICYmIHR5cGVvZiB3aWR0aDIgPT09IFwibnVtYmVyXCI7XG4gIGxldCBhc3BlY3RSYXRpbzIgPSBvcHRpb25zLmFzcGVjdFJhdGlvO1xuICBpZiAoIWFzcGVjdFJhdGlvMiAmJiBoYXNEZWZpbmVkRGltZW5zaW9ucykge1xuICAgIGFzcGVjdFJhdGlvMiA9IGAke3dpZHRoMn06JHtoZWlnaHQyfWA7XG4gIH1cbiAgaWYgKCFhc3BlY3RSYXRpbzIpIHtcbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09IFwiZGV2ZWxvcG1lbnRcIikge1xuICAgICAgY29uc29sZS53YXJuKGBDb3VsZCBub3QgZGV0ZXJtaW5lIGFzcGVjdCByYXRpbyBiYXNlZCBvbiBhdmFpbGFibGUgb3B0aW9ucyB0byB1c2UgZmlsbEJhY2tncm91bmQuIFBsZWFzZSBzcGVjaWZ5IHdpZHRoIGFuZCBoZWlnaHQgb3IgYW4gYXNwZWN0IHJhdGlvLmApO1xuICAgIH1cbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKGZpbGxCYWNrZ3JvdW5kID09PSB0cnVlKSB7XG4gICAgY29uc3QgcHJvcGVydGllcyA9IFtcbiAgICAgIFwiYl9nZW5fZmlsbFwiLFxuICAgICAgYGFyXyR7YXNwZWN0UmF0aW8yfWAsXG4gICAgICBgY18ke2RlZmF1bHRDcm9wfWBcbiAgICBdO1xuICAgIGNsZEFzc2V0LmFkZFRyYW5zZm9ybWF0aW9uKHByb3BlcnRpZXMuam9pbihcIixcIikpO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBmaWxsQmFja2dyb3VuZCA9PT0gXCJvYmplY3RcIikge1xuICAgIGNvbnN0IHsgY3JvcDogY3JvcDIgPSBkZWZhdWx0Q3JvcCwgZ3Jhdml0eTogZ3Jhdml0eTIsIHByb21wdCB9ID0gZmlsbEJhY2tncm91bmQ7XG4gICAgY29uc3QgcHJvcGVydGllcyA9IFtcbiAgICAgIGBhcl8ke2FzcGVjdFJhdGlvMn1gLFxuICAgICAgYGNfJHtjcm9wMn1gXG4gICAgXTtcbiAgICBpZiAodHlwZW9mIHByb21wdCA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgcHJvcGVydGllcy51bnNoaWZ0KGBiX2dlbl9maWxsOiR7cHJvbXB0fWApO1xuICAgIH0gZWxzZSB7XG4gICAgICBwcm9wZXJ0aWVzLnVuc2hpZnQoYGJfZ2VuX2ZpbGxgKTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBncmF2aXR5MiA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgcHJvcGVydGllcy5wdXNoKGBnXyR7Z3Jhdml0eTJ9YCk7XG4gICAgfVxuICAgIGNsZEFzc2V0LmFkZFRyYW5zZm9ybWF0aW9uKHByb3BlcnRpZXMuam9pbihcIixcIikpO1xuICB9XG4gIHJldHVybiB7fTtcbn1cblxuLy8gc3JjL3BsdWdpbnMvcmVwbGFjZS50c1xudmFyIHJlcGxhY2VfZXhwb3J0cyA9IHt9O1xuX19leHBvcnQocmVwbGFjZV9leHBvcnRzLCB7XG4gIGFzc2V0VHlwZXM6ICgpID0+IGFzc2V0VHlwZXM4LFxuICBwbHVnaW46ICgpID0+IHBsdWdpbjgsXG4gIHByb3BzOiAoKSA9PiBwcm9wczhcbn0pO1xudmFyIGltcG9ydF96b2Q5ID0gcmVxdWlyZShcInpvZFwiKTtcbnZhciBwcm9wczggPSB7XG4gIHJlcGxhY2U6IGltcG9ydF96b2Q5LnoudW5pb24oW1xuICAgIGltcG9ydF96b2Q5LnouYXJyYXkoaW1wb3J0X3pvZDkuei5zdHJpbmcoKSksXG4gICAgaW1wb3J0X3pvZDkuei5hcnJheShpbXBvcnRfem9kOS56LmJvb2xlYW4oKSksXG4gICAgaW1wb3J0X3pvZDkuei5vYmplY3Qoe1xuICAgICAgdG86IGltcG9ydF96b2Q5Lnouc3RyaW5nKCksXG4gICAgICBmcm9tOiBpbXBvcnRfem9kOS56LnN0cmluZygpLFxuICAgICAgcHJlc2VydmVHZW9tZXRyeTogaW1wb3J0X3pvZDkuei5ib29sZWFuKCkub3B0aW9uYWwoKVxuICAgIH0pXG4gIF0pLmRlc2NyaWJlKEpTT04uc3RyaW5naWZ5KHtcbiAgICB0ZXh0OiBcIlVzZXMgZ2VuZXJhdGl2ZSBBSSB0byByZXBsYWNlIHBhcnRzIG9mIHlvdXIgaW1hZ2Ugd2l0aCBzb21ldGhpbmcgZWxzZS5cIixcbiAgICB1cmw6IFwiaHR0cHM6Ly9jbG91ZGluYXJ5LmNvbS9kb2N1bWVudGF0aW9uL3RyYW5zZm9ybWF0aW9uX3JlZmVyZW5jZSNlX2dlbl9yZXBsYWNlXCJcbiAgfSkpLm9wdGlvbmFsKClcbn07XG52YXIgYXNzZXRUeXBlczggPSBbXCJpbWFnZVwiLCBcImltYWdlc1wiXTtcbmZ1bmN0aW9uIHBsdWdpbjgocHJvcHMyMSkge1xuICBjb25zdCB7IGNsZEFzc2V0LCBvcHRpb25zIH0gPSBwcm9wczIxO1xuICBjb25zdCB7IHJlcGxhY2UgPSBudWxsIH0gPSBvcHRpb25zO1xuICBpZiAocmVwbGFjZSkge1xuICAgIGxldCBmcm9tLCB0bywgcHJlc2VydmVHZW9tZXRyeSA9IGZhbHNlO1xuICAgIGlmIChBcnJheS5pc0FycmF5KHJlcGxhY2UpKSB7XG4gICAgICBmcm9tID0gcmVwbGFjZVswXTtcbiAgICAgIHRvID0gcmVwbGFjZVsxXTtcbiAgICAgIHByZXNlcnZlR2VvbWV0cnkgPSByZXBsYWNlWzJdIHx8IGZhbHNlO1xuICAgIH0gZWxzZSB7XG4gICAgICBmcm9tID0gcmVwbGFjZS5mcm9tO1xuICAgICAgdG8gPSByZXBsYWNlLnRvO1xuICAgICAgcHJlc2VydmVHZW9tZXRyeSA9IHJlcGxhY2UucHJlc2VydmVHZW9tZXRyeSB8fCBmYWxzZTtcbiAgICB9XG4gICAgY29uc3QgcHJvcGVydGllcyA9IFtgZV9nZW5fcmVwbGFjZTpmcm9tXyR7ZnJvbX1gLCBgdG9fJHt0b31gXTtcbiAgICBpZiAocHJlc2VydmVHZW9tZXRyeSkge1xuICAgICAgcHJvcGVydGllcy5wdXNoKGBwcmVzZXJ2ZS1nZW9tZXRyeV8ke3ByZXNlcnZlR2VvbWV0cnl9YCk7XG4gICAgfVxuICAgIGNsZEFzc2V0LmVmZmVjdChwcm9wZXJ0aWVzLmpvaW4oXCI7XCIpKTtcbiAgfVxuICByZXR1cm4ge307XG59XG5cbi8vIHNyYy9wbHVnaW5zL25hbWVkLXRyYW5zZm9ybWF0aW9ucy50c1xudmFyIG5hbWVkX3RyYW5zZm9ybWF0aW9uc19leHBvcnRzID0ge307XG5fX2V4cG9ydChuYW1lZF90cmFuc2Zvcm1hdGlvbnNfZXhwb3J0cywge1xuICBhc3NldFR5cGVzOiAoKSA9PiBhc3NldFR5cGVzOSxcbiAgcGx1Z2luOiAoKSA9PiBwbHVnaW45LFxuICBwcm9wczogKCkgPT4gcHJvcHM5LFxuICBzdHJpY3Q6ICgpID0+IHN0cmljdFxufSk7XG52YXIgaW1wb3J0X3pvZDEwID0gcmVxdWlyZShcInpvZFwiKTtcbnZhciBOYW1lZFRyYW5zZm9ybWF0aW9uU2NoZW1hID0gaW1wb3J0X3pvZDEwLnouc3RyaW5nKCk7XG52YXIgcHJvcHM5ID0ge1xuICBuYW1lZFRyYW5zZm9ybWF0aW9uczogaW1wb3J0X3pvZDEwLnoudW5pb24oW1xuICAgIE5hbWVkVHJhbnNmb3JtYXRpb25TY2hlbWEsXG4gICAgaW1wb3J0X3pvZDEwLnouYXJyYXkoTmFtZWRUcmFuc2Zvcm1hdGlvblNjaGVtYSlcbiAgXSkuZGVzY3JpYmUoSlNPTi5zdHJpbmdpZnkoe1xuICAgIHRleHQ6IFwiTmFtZWQgdHJhbnNmb3JtYXRpb25zIHRvIGFwcGx5IHRvIGFzc2V0LlwiLFxuICAgIHVybDogXCJodHRwczovL2Nsb3VkaW5hcnkuY29tL2RvY3VtZW50YXRpb24vaW1hZ2VfdHJhbnNmb3JtYXRpb25zI25hbWVkX3RyYW5zZm9ybWF0aW9uc1wiXG4gIH0pKS5vcHRpb25hbCgpLFxuICAvKipcbiAgICogQGRlcHJlY2F0ZWQgdXNlIHtAbGluayBgbmFtZWRUcmFuc2Zvcm1hdGlvbnNgfSBpbnN0ZWFkXG4gICAqL1xuICB0cmFuc2Zvcm1hdGlvbnM6IGltcG9ydF96b2QxMC56LnVuaW9uKFtcbiAgICBOYW1lZFRyYW5zZm9ybWF0aW9uU2NoZW1hLFxuICAgIGltcG9ydF96b2QxMC56LmFycmF5KE5hbWVkVHJhbnNmb3JtYXRpb25TY2hlbWEpXG4gIF0pLmRlc2NyaWJlKEpTT04uc3RyaW5naWZ5KHtcbiAgICB0ZXh0OiBcIkRlcHJlY2F0ZWQ6IHVzZSBuYW1lZFRyYW5zZm9ybWF0aW9ucyBpbnN0ZWFkXCIsXG4gICAgdXJsOiBcImh0dHBzOi8vY2xvdWRpbmFyeS5jb20vZG9jdW1lbnRhdGlvbi9pbWFnZV90cmFuc2Zvcm1hdGlvbnMjbmFtZWRfdHJhbnNmb3JtYXRpb25zXCJcbiAgfSkpLm9wdGlvbmFsKClcbn07XG52YXIgYXNzZXRUeXBlczkgPSBbXCJpbWFnZVwiLCBcImltYWdlc1wiLCBcInZpZGVvXCIsIFwidmlkZW9zXCJdO1xudmFyIHN0cmljdCA9IHRydWU7XG5mdW5jdGlvbiBwbHVnaW45KHByb3BzMjEpIHtcbiAgY29uc3QgeyBjbGRBc3NldCwgb3B0aW9ucyB9ID0gcHJvcHMyMTtcbiAgY29uc3QgeyB0cmFuc2Zvcm1hdGlvbnMsIG5hbWVkVHJhbnNmb3JtYXRpb25zIH0gPSBvcHRpb25zO1xuICBpZiAodHJhbnNmb3JtYXRpb25zICYmIHByb2Nlc3MuZW52Lk5PREVfRU5WSVJPTk1FTlQgPT09IFwiZGV2ZWxvcG1lbnRcIikge1xuICAgIGNvbnNvbGUud2FybihcIlRoZSB0cmFuc2Zvcm1hdGlvbnMgcHJvcCBpcyBkZXByZWNhdGVkLiBQbGVhc2UgdXNlIG5hbWVkVHJhbnNmb3JtYXRpb25zIGluc3RlYWQuXCIpO1xuICB9XG4gIGxldCBfbmFtZWRUcmFuc2Zvcm1hdGlvbnMgPSBuYW1lZFRyYW5zZm9ybWF0aW9ucyB8fCB0cmFuc2Zvcm1hdGlvbnMgfHwgW107XG4gIGlmICghQXJyYXkuaXNBcnJheShfbmFtZWRUcmFuc2Zvcm1hdGlvbnMpKSB7XG4gICAgX25hbWVkVHJhbnNmb3JtYXRpb25zID0gW19uYW1lZFRyYW5zZm9ybWF0aW9uc107XG4gIH1cbiAgX25hbWVkVHJhbnNmb3JtYXRpb25zLmZvckVhY2goKHRyYW5zZm9ybWF0aW9uKSA9PiB7XG4gICAgY2xkQXNzZXQuYWRkVHJhbnNmb3JtYXRpb24oYHRfJHt0cmFuc2Zvcm1hdGlvbn1gKTtcbiAgfSk7XG4gIHJldHVybiB7fTtcbn1cblxuLy8gc3JjL3BsdWdpbnMvb3ZlcmxheXMudHNcbnZhciBvdmVybGF5c19leHBvcnRzID0ge307XG5fX2V4cG9ydChvdmVybGF5c19leHBvcnRzLCB7XG4gIERFRkFVTFRfVEVYVF9PUFRJT05TOiAoKSA9PiBERUZBVUxUX1RFWFRfT1BUSU9OUyxcbiAgYXNzZXRUeXBlczogKCkgPT4gYXNzZXRUeXBlczEwLFxuICBwbHVnaW46ICgpID0+IHBsdWdpbjEwLFxuICBwcm9wczogKCkgPT4gcHJvcHMxMFxufSk7XG52YXIgaW1wb3J0X3pvZDExID0gcmVxdWlyZShcInpvZFwiKTtcbnZhciBpbXBvcnRfdXRpbDMgPSByZXF1aXJlKFwiQGNsb3VkaW5hcnktdXRpbC91dGlsXCIpO1xudmFyIG92ZXJsYXlUZXh0U2NoZW1hID0gaW1wb3J0X3pvZDExLnoub2JqZWN0KHtcbiAgYWxpZ25tZW50OiBpbXBvcnRfem9kMTEuei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICBhbnRpYWxpYXM6IGltcG9ydF96b2QxMS56LnN0cmluZygpLm9wdGlvbmFsKCksXG4gIGJvcmRlcjogaW1wb3J0X3pvZDExLnouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgY29sb3I6IGltcG9ydF96b2QxMS56LnN0cmluZygpLm9wdGlvbmFsKCksXG4gIGZvbnRGYW1pbHk6IGltcG9ydF96b2QxMS56LnN0cmluZygpLm9wdGlvbmFsKCksXG4gIGZvbnRTaXplOiBpbXBvcnRfem9kMTEuei5udW1iZXIoKS5vcHRpb25hbCgpLFxuICBmb250U3R5bGU6IGltcG9ydF96b2QxMS56LnVuaW9uKFtcbiAgICBpbXBvcnRfem9kMTEuei5zdHJpbmcoKSxcbiAgICBpbXBvcnRfem9kMTEuei5udW1iZXIoKVxuICBdKS5vcHRpb25hbCgpLFxuICBmb250V2VpZ2h0OiBpbXBvcnRfem9kMTEuei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICBoaW50aW5nOiBpbXBvcnRfem9kMTEuei51bmlvbihbXG4gICAgaW1wb3J0X3pvZDExLnouc3RyaW5nKCksXG4gICAgaW1wb3J0X3pvZDExLnoubnVtYmVyKClcbiAgXSkub3B0aW9uYWwoKSxcbiAgbGV0dGVyU3BhY2luZzogaW1wb3J0X3pvZDExLnoudW5pb24oW1xuICAgIGltcG9ydF96b2QxMS56LnN0cmluZygpLFxuICAgIGltcG9ydF96b2QxMS56Lm51bWJlcigpXG4gIF0pLm9wdGlvbmFsKCksXG4gIGxpbmVTcGFjaW5nOiBpbXBvcnRfem9kMTEuei51bmlvbihbXG4gICAgaW1wb3J0X3pvZDExLnouc3RyaW5nKCksXG4gICAgaW1wb3J0X3pvZDExLnoubnVtYmVyKClcbiAgXSkub3B0aW9uYWwoKSxcbiAgc3Ryb2tlOiBpbXBvcnRfem9kMTEuei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICB0ZXh0OiBpbXBvcnRfem9kMTEuei5zdHJpbmcoKVxuICAvLyBSZXF1aXJlZCBpZiB1c2luZyBvYmplY3QgZm9ybWF0XG59KTtcbnZhciBvdmVybGF5UG9zaXRpb25TY2hlbWEgPSBpbXBvcnRfem9kMTEuei5vYmplY3Qoe1xuICBhbmdsZTogYW5nbGUuc2NoZW1hLm9wdGlvbmFsKCksXG4gIGdyYXZpdHk6IGdyYXZpdHkuc2NoZW1hLm9wdGlvbmFsKCksXG4gIHg6IHguc2NoZW1hLm9wdGlvbmFsKCksXG4gIHk6IHkuc2NoZW1hLm9wdGlvbmFsKClcbn0pO1xudmFyIG92ZXJsYXlTY2hlbWEgPSBpbXBvcnRfem9kMTEuei5vYmplY3Qoe1xuICBhcHBsaWVkRWZmZWN0czogaW1wb3J0X3pvZDExLnouYXJyYXkoaW1wb3J0X3pvZDExLnoub2JqZWN0KHt9KSkub3B0aW9uYWwoKSxcbiAgYXBwbGllZEZsYWdzOiBmbGFncy5zY2hlbWEub3B0aW9uYWwoKSxcbiAgZWZmZWN0czogaW1wb3J0X3pvZDExLnouYXJyYXkoaW1wb3J0X3pvZDExLnoub2JqZWN0KHt9KSkub3B0aW9uYWwoKSxcbiAgY3JvcDogY3JvcC5zY2hlbWEub3B0aW9uYWwoKSxcbiAgZmxhZ3M6IGZsYWdzLnNjaGVtYS5vcHRpb25hbCgpLFxuICBoZWlnaHQ6IGhlaWdodC5zY2hlbWEub3B0aW9uYWwoKSxcbiAgcG9zaXRpb246IG92ZXJsYXlQb3NpdGlvblNjaGVtYS5vcHRpb25hbCgpLFxuICBwdWJsaWNJZDogaW1wb3J0X3pvZDExLnouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgdGV4dDogaW1wb3J0X3pvZDExLnoudW5pb24oW1xuICAgIGltcG9ydF96b2QxMS56LnN0cmluZygpLFxuICAgIG92ZXJsYXlUZXh0U2NoZW1hXG4gIF0pLm9wdGlvbmFsKCksXG4gIHVybDogaW1wb3J0X3pvZDExLnouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgd2lkdGg6IHdpZHRoLnNjaGVtYS5vcHRpb25hbCgpXG59KTtcbnZhciBwcm9wczEwID0ge1xuICBvdmVybGF5OiBvdmVybGF5U2NoZW1hLmRlc2NyaWJlKEpTT04uc3RyaW5naWZ5KHtcbiAgICB0ZXh0OiBcIkltYWdlIG9yIHRleHQgbGF5ZXIgdGhhdCBpcyBhcHBsaWVkIG9uIHRvcCBvZiB0aGUgYmFzZSBpbWFnZS5cIixcbiAgICB1cmw6IFwiaHR0cHM6Ly9jbG91ZGluYXJ5LmNvbS9kb2N1bWVudGF0aW9uL3RyYW5zZm9ybWF0aW9uX3JlZmVyZW5jZSNsX2xheWVyXCJcbiAgfSkpLm9wdGlvbmFsKCksXG4gIG92ZXJsYXlzOiBpbXBvcnRfem9kMTEuei5hcnJheShvdmVybGF5U2NoZW1hKS5kZXNjcmliZShKU09OLnN0cmluZ2lmeSh7XG4gICAgdGV4dDogXCJJbWFnZSBvciB0ZXh0IGxheWVycyB0aGF0IGFyZSBhcHBsaWVkIG9uIHRvcCBvZiB0aGUgYmFzZSBpbWFnZS5cIixcbiAgICB1cmw6IFwiaHR0cHM6Ly9jbG91ZGluYXJ5LmNvbS9kb2N1bWVudGF0aW9uL3RyYW5zZm9ybWF0aW9uX3JlZmVyZW5jZSNsX2xheWVyXCJcbiAgfSkpLm9wdGlvbmFsKCksXG4gIHRleHQ6IGltcG9ydF96b2QxMS56LnN0cmluZygpLmRlc2NyaWJlKEpTT04uc3RyaW5naWZ5KHtcbiAgICB0ZXh0OiBcIlRleHQgdG8gYmUgb3ZlcmxhaWQgb24gYXNzZXQuXCIsXG4gICAgdXJsOiBcImh0dHBzOi8vY2xvdWRpbmFyeS5jb20vZG9jdW1lbnRhdGlvbi9pbWFnZV90cmFuc2Zvcm1hdGlvbnMjdHJhbnNmb3JtYXRpb25fdXJsX3N0cnVjdHVyZVwiXG4gIH0pKS5vcHRpb25hbCgpXG59O1xudmFyIGFzc2V0VHlwZXMxMCA9IFtcImltYWdlXCIsIFwiaW1hZ2VzXCIsIFwidmlkZW9cIiwgXCJ2aWRlb3NcIl07XG52YXIgREVGQVVMVF9URVhUX09QVElPTlMgPSB7XG4gIGNvbG9yOiBcImJsYWNrXCIsXG4gIGZvbnRGYW1pbHk6IFwiQXJpYWxcIixcbiAgZm9udFNpemU6IDIwMCxcbiAgZm9udFdlaWdodDogXCJib2xkXCJcbn07XG5mdW5jdGlvbiBwbHVnaW4xMChwcm9wczIxKSB7XG4gIGNvbnN0IHsgY2xkQXNzZXQsIG9wdGlvbnMgfSA9IHByb3BzMjE7XG4gIGNvbnN0IHsgdGV4dDogdGV4dDIsIG92ZXJsYXlzID0gW10gfSA9IG9wdGlvbnM7XG4gIGNvbnN0IHR5cGUgPSBcIm92ZXJsYXlcIjtcbiAgY29uc3QgdHlwZVF1YWxpZmllciA9IFwibFwiO1xuICBpZiAoQXJyYXkuaXNBcnJheShvdmVybGF5cykpIHtcbiAgICBvdmVybGF5cy5mb3JFYWNoKGFwcGx5T3ZlcmxheSk7XG4gIH1cbiAgaWYgKHR5cGVvZiB0ZXh0MiA9PT0gXCJzdHJpbmdcIikge1xuICAgIGFwcGx5T3ZlcmxheSh7XG4gICAgICB0ZXh0OiBPYmplY3QuYXNzaWduKHt9LCBERUZBVUxUX1RFWFRfT1BUSU9OUywge1xuICAgICAgICB0ZXh0OiB0ZXh0MlxuICAgICAgfSlcbiAgICB9KTtcbiAgfSBlbHNlIGlmICh0eXBlb2YgdGV4dDIgPT09IFwib2JqZWN0XCIpIHtcbiAgICBhcHBseU92ZXJsYXkoe1xuICAgICAgdGV4dDogT2JqZWN0LmFzc2lnbih7fSwgREVGQVVMVF9URVhUX09QVElPTlMsIHRleHQyKVxuICAgIH0pO1xuICB9XG4gIGZ1bmN0aW9uIGFwcGx5T3ZlcmxheSh7IHB1YmxpY0lkLCB1cmwsIHBvc2l0aW9uOiBwb3NpdGlvbjIsIHRleHQ6IHRleHQzLCBlZmZlY3RzOiBsYXllckVmZmVjdHMgPSBbXSwgYXBwbGllZEVmZmVjdHMgPSBbXSwgZmxhZ3M6IGxheWVyRmxhZ3MgPSBbXSwgYXBwbGllZEZsYWdzID0gW10sIC4uLm9wdGlvbnMyIH0pIHtcbiAgICBjb25zdCBoYXNQdWJsaWNJZCA9IHR5cGVvZiBwdWJsaWNJZCA9PT0gXCJzdHJpbmdcIjtcbiAgICBjb25zdCBoYXNVcmwgPSB0eXBlb2YgdXJsID09PSBcInN0cmluZ1wiO1xuICAgIGNvbnN0IGhhc1RleHQgPSB0eXBlb2YgdGV4dDMgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIHRleHQzID09PSBcInN0cmluZ1wiO1xuICAgIGNvbnN0IGhhc1Bvc2l0aW9uID0gdHlwZW9mIHBvc2l0aW9uMiA9PT0gXCJvYmplY3RcIjtcbiAgICBpZiAoIWhhc1B1YmxpY0lkICYmICFoYXNVcmwgJiYgIWhhc1RleHQpIHtcbiAgICAgIGNvbnNvbGUud2FybihgQW4gJHt0eXBlfSBpcyBtaXNzaW5nIFB1YmxpYyBJRCwgVVJMLCBvciBUZXh0YCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGxldCBsYXllclRyYW5zZm9ybWF0aW9uO1xuICAgIGlmIChoYXNUZXh0KSB7XG4gICAgICBsYXllclRyYW5zZm9ybWF0aW9uID0gYCR7dHlwZVF1YWxpZmllcn1fdGV4dGA7XG4gICAgfSBlbHNlIGlmIChoYXNQdWJsaWNJZCkge1xuICAgICAgbGF5ZXJUcmFuc2Zvcm1hdGlvbiA9IGAke3R5cGVRdWFsaWZpZXJ9XyR7cHVibGljSWQucmVwbGFjZSgvXFwvL2csIFwiOlwiKX1gO1xuICAgIH0gZWxzZSBpZiAoaGFzVXJsKSB7XG4gICAgICBsYXllclRyYW5zZm9ybWF0aW9uID0gYCR7dHlwZVF1YWxpZmllcn1fZmV0Y2g6JHsoMCwgaW1wb3J0X3V0aWwzLmVuY29kZUJhc2U2NCkodXJsKX1gO1xuICAgIH1cbiAgICBjb25zdCBwcmltYXJ5MiA9IFtdO1xuICAgIGNvbnN0IGFwcGxpZWQgPSBbXTtcbiAgICBPYmplY3Qua2V5cyhvcHRpb25zMikuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICBpZiAoISgwLCBpbXBvcnRfdXRpbDMub2JqZWN0SGFzS2V5KShwcmltYXJ5LCBrZXkpKVxuICAgICAgICByZXR1cm47XG4gICAgICBjb25zdCB7IHF1YWxpZmllciwgY29udmVydGVycyB9ID0gcHJpbWFyeVtrZXldO1xuICAgICAgY29uc3QgdHJhbnNmb3JtYXRpb24gPSBjb25zdHJ1Y3RUcmFuc2Zvcm1hdGlvbih7XG4gICAgICAgIHF1YWxpZmllcixcbiAgICAgICAgdmFsdWU6IG9wdGlvbnMyW2tleV0sXG4gICAgICAgIGNvbnZlcnRlcnNcbiAgICAgIH0pO1xuICAgICAgaWYgKHRyYW5zZm9ybWF0aW9uKSB7XG4gICAgICAgIHByaW1hcnkyLnB1c2godHJhbnNmb3JtYXRpb24pO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGxheWVyRWZmZWN0cy5mb3JFYWNoKChlZmZlY3QpID0+IHtcbiAgICAgIE9iamVjdC5rZXlzKGVmZmVjdCkuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICAgIGNvbnN0IGVmZmVjdFF1YWxpZmllciA9IHByaW1hcnlba2V5XSB8fCBlZmZlY3RzW2tleV0gfHwgcG9zaXRpb25ba2V5XTtcbiAgICAgICAgaWYgKCFlZmZlY3RRdWFsaWZpZXIpXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjb25zdCB7IHF1YWxpZmllciwgcHJlZml4LCBjb252ZXJ0ZXJzIH0gPSBlZmZlY3RRdWFsaWZpZXI7XG4gICAgICAgIGNvbnN0IHRyYW5zZm9ybWF0aW9uID0gY29uc3RydWN0VHJhbnNmb3JtYXRpb24oe1xuICAgICAgICAgIHF1YWxpZmllcixcbiAgICAgICAgICBwcmVmaXgsXG4gICAgICAgICAgdmFsdWU6IGVmZmVjdFtrZXldLFxuICAgICAgICAgIGNvbnZlcnRlcnNcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICh0cmFuc2Zvcm1hdGlvbikge1xuICAgICAgICAgIHByaW1hcnkyLnB1c2godHJhbnNmb3JtYXRpb24pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICBhcHBsaWVkRWZmZWN0cy5mb3JFYWNoKChlZmZlY3QpID0+IHtcbiAgICAgIE9iamVjdC5rZXlzKGVmZmVjdCkuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICAgIGNvbnN0IGVmZmVjdFF1YWxpZmllciA9IHByaW1hcnlba2V5XSB8fCBlZmZlY3RzW2tleV0gfHwgcG9zaXRpb25ba2V5XTtcbiAgICAgICAgaWYgKCFlZmZlY3RRdWFsaWZpZXIpXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjb25zdCB7IHF1YWxpZmllciwgcHJlZml4LCBjb252ZXJ0ZXJzIH0gPSBlZmZlY3RRdWFsaWZpZXI7XG4gICAgICAgIGNvbnN0IHRyYW5zZm9ybWF0aW9uID0gY29uc3RydWN0VHJhbnNmb3JtYXRpb24oe1xuICAgICAgICAgIHF1YWxpZmllcixcbiAgICAgICAgICBwcmVmaXgsXG4gICAgICAgICAgdmFsdWU6IGVmZmVjdFtrZXldLFxuICAgICAgICAgIGNvbnZlcnRlcnNcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICh0cmFuc2Zvcm1hdGlvbikge1xuICAgICAgICAgIGFwcGxpZWQucHVzaCh0cmFuc2Zvcm1hdGlvbik7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIGNvbnN0IGFjdGl2ZUxheWVyRmxhZ3MgPSBBcnJheS5pc0FycmF5KGxheWVyRmxhZ3MpID8gbGF5ZXJGbGFncyA6IFtsYXllckZsYWdzXTtcbiAgICBhY3RpdmVMYXllckZsYWdzLmZvckVhY2goKGZsYWcpID0+IHtcbiAgICAgIGNvbnN0IHsgc3VjY2VzcyB9ID0gZmxhZ3NFbnVtLnNhZmVQYXJzZShmbGFnKTtcbiAgICAgIGlmICghc3VjY2Vzcykge1xuICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09IFwiZGV2ZWxvcG1lbnRcIikge1xuICAgICAgICAgIGNvbnNvbGUud2FybihgSW52YWxpZCBmbGFnICR7ZmxhZ30sIG5vdCBhcHBseWluZy5gKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBwcmltYXJ5Mi5wdXNoKGBmbF8ke2ZsYWd9YCk7XG4gICAgfSk7XG4gICAgY29uc3QgYWN0aXZlQXBwbGllZEZsYWdzID0gQXJyYXkuaXNBcnJheShhcHBsaWVkRmxhZ3MpID8gYXBwbGllZEZsYWdzIDogW2FwcGxpZWRGbGFnc107XG4gICAgYWN0aXZlQXBwbGllZEZsYWdzLmZvckVhY2goKGZsYWcpID0+IHtcbiAgICAgIGNvbnN0IHsgc3VjY2VzcyB9ID0gZmxhZ3NFbnVtLnNhZmVQYXJzZShmbGFnKTtcbiAgICAgIGlmICghc3VjY2Vzcykge1xuICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09IFwiZGV2ZWxvcG1lbnRcIikge1xuICAgICAgICAgIGNvbnNvbGUud2FybihgSW52YWxpZCBmbGFnICR7ZmxhZ30sIG5vdCBhcHBseWluZy5gKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBhcHBsaWVkLnB1c2goYGZsXyR7ZmxhZ31gKTtcbiAgICB9KTtcbiAgICBpZiAoaGFzVGV4dCkge1xuICAgICAgaWYgKHR5cGVvZiB0ZXh0MyA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICB0ZXh0MyA9IHtcbiAgICAgICAgICAuLi5ERUZBVUxUX1RFWFRfT1BUSU9OUyxcbiAgICAgICAgICB0ZXh0OiB0ZXh0M1xuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgY29uc3QgdGV4dFRyYW5zZm9ybWF0aW9ucyA9IFtdO1xuICAgICAgaWYgKHR5cGVvZiB0ZXh0MyA9PT0gXCJvYmplY3RcIikge1xuICAgICAgICBjb25zdCB0ZXh0T3B0aW9ucyA9IE9iamVjdC5rZXlzKHRleHQzKS5maWx0ZXIoKGtleSkgPT4gKDAsIGltcG9ydF91dGlsMy5vYmplY3RIYXNLZXkpKHRleHQsIGtleSkpLm1hcCgoa2V5KSA9PiB7XG4gICAgICAgICAgY29uc3QgdmFsdWUgPSB0ZXh0MyAmJiAoMCwgaW1wb3J0X3V0aWwzLm9iamVjdEhhc0tleSkodGV4dDMsIGtleSkgJiYgdGV4dDNba2V5XTtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLi4udGV4dFtrZXldLFxuICAgICAgICAgICAga2V5LFxuICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICBvcmRlcjogdGV4dFtrZXldLm9yZGVyIHx8IDk5XG4gICAgICAgICAgfTtcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IHNvcnRlZFRleHRPcHRpb25zID0gKDAsIGltcG9ydF91dGlsMy5zb3J0QnlLZXkpKHRleHRPcHRpb25zLCBcIm9yZGVyXCIpO1xuICAgICAgICBmb3IgKGNvbnN0IHRleHRPcHRpb24gb2Ygc29ydGVkVGV4dE9wdGlvbnMpIHtcbiAgICAgICAgICBjb25zdCB7IGtleSwgdmFsdWUsIHF1YWxpZmllciwgbG9jYXRpb24sIGNvbnZlcnRlcnMgfSA9IHRleHRPcHRpb247XG4gICAgICAgICAgbGV0IHRleHRWYWx1ZSA9IHZhbHVlO1xuICAgICAgICAgIGNvbnZlcnRlcnM/LmZvckVhY2goKHsgdGVzdCwgY29udmVydCB9KSA9PiB7XG4gICAgICAgICAgICBpZiAoIXRlc3QodmFsdWUpKVxuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB0ZXh0VmFsdWUgPSBjb252ZXJ0KHZhbHVlKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBpZiAobG9jYXRpb24gPT09IFwicHJpbWFyeVwiKSB7XG4gICAgICAgICAgICBwcmltYXJ5Mi5wdXNoKGAke3F1YWxpZmllcn1fJHt0ZXh0VmFsdWV9YCk7XG4gICAgICAgICAgfSBlbHNlIGlmIChxdWFsaWZpZXIgPT09IFwic2VsZlwiKSB7XG4gICAgICAgICAgICB0ZXh0VHJhbnNmb3JtYXRpb25zLnB1c2goa2V5KTtcbiAgICAgICAgICB9IGVsc2UgaWYgKHF1YWxpZmllcikge1xuICAgICAgICAgICAgdGV4dFRyYW5zZm9ybWF0aW9ucy5wdXNoKGAke3F1YWxpZmllcn1fJHt0ZXh0VmFsdWV9YCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRleHRUcmFuc2Zvcm1hdGlvbnMucHVzaCh0ZXh0VmFsdWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgY29uc3Qgc3BlY2lhbENoYXJhY3RlcnMgPSB7XG4gICAgICAgIFwiLlwiOiBcIiUyRVwiLFxuICAgICAgICBcIixcIjogXCIlMkNcIixcbiAgICAgICAgXCIvXCI6IFwiJTJGXCJcbiAgICAgIH07XG4gICAgICBsZXQgbGF5ZXJUZXh0ID0gdGV4dDM/LnRleHQgfHwgXCJcIjtcbiAgICAgIGlmICh0eXBlb2YgbGF5ZXJUZXh0ID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIE9iamVjdC5rZXlzKHNwZWNpYWxDaGFyYWN0ZXJzKT8uZm9yRWFjaCgoY2hhcmFjdGVyKSA9PiB7XG4gICAgICAgICAgbGF5ZXJUZXh0ID0gbGF5ZXJUZXh0Py5yZXBsYWNlKGNoYXJhY3Rlciwgc3BlY2lhbENoYXJhY3RlcnNbY2hhcmFjdGVyXSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgbGF5ZXJUcmFuc2Zvcm1hdGlvbiA9IGAke2xheWVyVHJhbnNmb3JtYXRpb259OiR7dGV4dFRyYW5zZm9ybWF0aW9ucy5qb2luKFwiX1wiKX06JHtsYXllclRleHR9YDtcbiAgICB9XG4gICAgaWYgKGhhc1Bvc2l0aW9uKSB7XG4gICAgICBPYmplY3Qua2V5cyhwb3NpdGlvbjIpLmZvckVhY2goKGtleSkgPT4ge1xuICAgICAgICBpZiAoISgwLCBpbXBvcnRfdXRpbDMub2JqZWN0SGFzS2V5KShwb3NpdGlvbiwga2V5KSB8fCAhKDAsIGltcG9ydF91dGlsMy5vYmplY3RIYXNLZXkpKHBvc2l0aW9uMiwga2V5KSlcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNvbnN0IHsgcXVhbGlmaWVyLCBjb252ZXJ0ZXJzIH0gPSBwb3NpdGlvbltrZXldO1xuICAgICAgICBjb25zdCB0cmFuc2Zvcm1hdGlvbiA9IGNvbnN0cnVjdFRyYW5zZm9ybWF0aW9uKHtcbiAgICAgICAgICBxdWFsaWZpZXIsXG4gICAgICAgICAgdmFsdWU6IHBvc2l0aW9uMltrZXldLFxuICAgICAgICAgIGNvbnZlcnRlcnNcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICh0cmFuc2Zvcm1hdGlvbikge1xuICAgICAgICAgIGFwcGxpZWQucHVzaCh0cmFuc2Zvcm1hdGlvbik7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAocHJpbWFyeTIubGVuZ3RoID4gMCkge1xuICAgICAgbGF5ZXJUcmFuc2Zvcm1hdGlvbiA9IGAke2xheWVyVHJhbnNmb3JtYXRpb259LCR7cHJpbWFyeTIuam9pbihcIixcIil9YDtcbiAgICB9XG4gICAgbGF5ZXJUcmFuc2Zvcm1hdGlvbiA9IGAke2xheWVyVHJhbnNmb3JtYXRpb259L2ZsX2xheWVyX2FwcGx5LGZsX25vX292ZXJmbG93YDtcbiAgICBpZiAoYXBwbGllZC5sZW5ndGggPiAwKSB7XG4gICAgICBsYXllclRyYW5zZm9ybWF0aW9uID0gYCR7bGF5ZXJUcmFuc2Zvcm1hdGlvbn0sJHthcHBsaWVkLmpvaW4oXCIsXCIpfWA7XG4gICAgfVxuICAgIGNsZEFzc2V0LmFkZFRyYW5zZm9ybWF0aW9uKGxheWVyVHJhbnNmb3JtYXRpb24pO1xuICB9XG4gIHJldHVybiB7fTtcbn1cblxuLy8gc3JjL3BsdWdpbnMvcmF3LXRyYW5zZm9ybWF0aW9ucy50c1xudmFyIHJhd190cmFuc2Zvcm1hdGlvbnNfZXhwb3J0cyA9IHt9O1xuX19leHBvcnQocmF3X3RyYW5zZm9ybWF0aW9uc19leHBvcnRzLCB7XG4gIGFzc2V0VHlwZXM6ICgpID0+IGFzc2V0VHlwZXMxMSxcbiAgcGx1Z2luOiAoKSA9PiBwbHVnaW4xMSxcbiAgcHJvcHM6ICgpID0+IHByb3BzMTFcbn0pO1xudmFyIGltcG9ydF96b2QxMiA9IHJlcXVpcmUoXCJ6b2RcIik7XG52YXIgUmF3VHJhbnNmb3JtYXRpb25TY2hlbWEgPSBpbXBvcnRfem9kMTIuei5zdHJpbmcoKTtcbnZhciBwcm9wczExID0ge1xuICByYXdUcmFuc2Zvcm1hdGlvbnM6IGltcG9ydF96b2QxMi56LnVuaW9uKFtcbiAgICBSYXdUcmFuc2Zvcm1hdGlvblNjaGVtYSxcbiAgICBpbXBvcnRfem9kMTIuei5hcnJheShSYXdUcmFuc2Zvcm1hdGlvblNjaGVtYSlcbiAgXSkuZGVzY3JpYmUoSlNPTi5zdHJpbmdpZnkoe1xuICAgIHRleHQ6IFwiQXJyYXkgb2YgdHJhbnNmb3JtYXRpb24gcGFyYW1ldGVycyB1c2luZyB0aGUgQ2xvdWRpbmFyeSBVUkwgQVBJIHRvIGFwcGx5IHRvIGFuIGFzc2V0LlwiLFxuICAgIHVybDogXCJodHRwczovL2Nsb3VkaW5hcnkuY29tL2RvY3VtZW50YXRpb24vdHJhbnNmb3JtYXRpb25fcmVmZXJlbmNlXCJcbiAgfSkpLm9wdGlvbmFsKClcbn07XG52YXIgYXNzZXRUeXBlczExID0gW1wiaW1hZ2VcIiwgXCJpbWFnZXNcIiwgXCJ2aWRlb1wiLCBcInZpZGVvc1wiXTtcbmZ1bmN0aW9uIHBsdWdpbjExKHByb3BzMjEpIHtcbiAgY29uc3QgeyBjbGRBc3NldCwgb3B0aW9ucyB9ID0gcHJvcHMyMTtcbiAgbGV0IHsgcmF3VHJhbnNmb3JtYXRpb25zID0gW10gfSA9IG9wdGlvbnM7XG4gIGlmICghQXJyYXkuaXNBcnJheShyYXdUcmFuc2Zvcm1hdGlvbnMpKSB7XG4gICAgcmF3VHJhbnNmb3JtYXRpb25zID0gW3Jhd1RyYW5zZm9ybWF0aW9uc107XG4gIH1cbiAgcmF3VHJhbnNmb3JtYXRpb25zLmZvckVhY2goKHRyYW5zZm9ybWF0aW9uKSA9PiB7XG4gICAgY2xkQXNzZXQuYWRkVHJhbnNmb3JtYXRpb24odHJhbnNmb3JtYXRpb24pO1xuICB9KTtcbiAgcmV0dXJuIHt9O1xufVxuXG4vLyBzcmMvcGx1Z2lucy9yZWNvbG9yLnRzXG52YXIgcmVjb2xvcl9leHBvcnRzID0ge307XG5fX2V4cG9ydChyZWNvbG9yX2V4cG9ydHMsIHtcbiAgYXNzZXRUeXBlczogKCkgPT4gYXNzZXRUeXBlczEyLFxuICBwbHVnaW46ICgpID0+IHBsdWdpbjEyLFxuICBwcm9wczogKCkgPT4gcHJvcHMxMlxufSk7XG52YXIgaW1wb3J0X3pvZDEzID0gcmVxdWlyZShcInpvZFwiKTtcbnZhciBpbWFnZU9wdGlvbnNSZWNvbG9yUHJvbXB0U2NoZW1hID0gaW1wb3J0X3pvZDEzLnoudW5pb24oW1xuICBpbXBvcnRfem9kMTMuei5zdHJpbmcoKSxcbiAgaW1wb3J0X3pvZDEzLnouYXJyYXkoaW1wb3J0X3pvZDEzLnouc3RyaW5nKCkpXG5dKTtcbnZhciBpbWFnZU9wdGlvbnNSZWNvbG9yU2NoZW1hID0gaW1wb3J0X3pvZDEzLnoub2JqZWN0KHtcbiAgcHJvbXB0OiBpbWFnZU9wdGlvbnNSZWNvbG9yUHJvbXB0U2NoZW1hLm9wdGlvbmFsKCksXG4gIHRvOiBpbXBvcnRfem9kMTMuei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICBtdWx0aXBsZTogaW1wb3J0X3pvZDEzLnouYm9vbGVhbigpLm9wdGlvbmFsKClcbn0pO1xudmFyIHByb3BzMTIgPSB7XG4gIHJlY29sb3I6IGltcG9ydF96b2QxMy56LnVuaW9uKFtcbiAgICBpbWFnZU9wdGlvbnNSZWNvbG9yUHJvbXB0U2NoZW1hLFxuICAgIGltYWdlT3B0aW9uc1JlY29sb3JTY2hlbWFcbiAgXSkuZGVzY3JpYmUoSlNPTi5zdHJpbmdpZnkoe1xuICAgIHRleHQ6IFwiVXNlcyBnZW5lcmF0aXZlIEFJIHRvIHJlY29sb3IgcGFydHMgb2YgeW91ciBpbWFnZSwgbWFpbnRhaW5pbmcgdGhlIHJlbGF0aXZlIHNoYWRpbmcuXCIsXG4gICAgdXJsOiBcImh0dHBzOi8vY2xvdWRpbmFyeS5jb20vZG9jdW1lbnRhdGlvbi90cmFuc2Zvcm1hdGlvbl9yZWZlcmVuY2UjZV9nZW5fcmVjb2xvclwiXG4gIH0pKS5vcHRpb25hbCgpXG59O1xudmFyIGFzc2V0VHlwZXMxMiA9IFtcImltYWdlXCIsIFwiaW1hZ2VzXCJdO1xuZnVuY3Rpb24gcGx1Z2luMTIocHJvcHMyMSkge1xuICBjb25zdCB7IGNsZEFzc2V0LCBvcHRpb25zIH0gPSBwcm9wczIxO1xuICBjb25zdCB7IHJlY29sb3IgfSA9IG9wdGlvbnM7XG4gIGNvbnN0IHJlY29sb3JPcHRpb25zID0ge1xuICAgIHByb21wdDogdm9pZCAwLFxuICAgIFwidG8tY29sb3JcIjogdm9pZCAwLFxuICAgIG11bHRpcGxlOiB2b2lkIDBcbiAgfTtcbiAgaWYgKEFycmF5LmlzQXJyYXkocmVjb2xvcikpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShyZWNvbG9yWzBdKSkge1xuICAgICAgcmVjb2xvck9wdGlvbnMucHJvbXB0ID0gcHJvbXB0QXJyYXlUb1N0cmluZyhyZWNvbG9yWzBdKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVjb2xvck9wdGlvbnMucHJvbXB0ID0gcmVjb2xvclswXTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiByZWNvbG9yWzFdID09PSBcInN0cmluZ1wiKSB7XG4gICAgICByZWNvbG9yT3B0aW9uc1tcInRvLWNvbG9yXCJdID0gcmVjb2xvclsxXTtcbiAgICB9XG4gIH0gZWxzZSBpZiAodHlwZW9mIHJlY29sb3IgPT09IFwib2JqZWN0XCIpIHtcbiAgICBpZiAodHlwZW9mIHJlY29sb3IucHJvbXB0ID09PSBcInN0cmluZ1wiKSB7XG4gICAgICByZWNvbG9yT3B0aW9ucy5wcm9tcHQgPSByZWNvbG9yLnByb21wdDtcbiAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkocmVjb2xvci5wcm9tcHQpKSB7XG4gICAgICByZWNvbG9yT3B0aW9ucy5wcm9tcHQgPSBwcm9tcHRBcnJheVRvU3RyaW5nKHJlY29sb3IucHJvbXB0KTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiByZWNvbG9yLnRvID09PSBcInN0cmluZ1wiKSB7XG4gICAgICByZWNvbG9yT3B0aW9uc1tcInRvLWNvbG9yXCJdID0gcmVjb2xvci50bztcbiAgICB9XG4gICAgaWYgKHJlY29sb3IubXVsdGlwbGUgPT09IHRydWUpIHtcbiAgICAgIHJlY29sb3JPcHRpb25zLm11bHRpcGxlID0gYHRydWVgO1xuICAgIH1cbiAgfVxuICBjb25zdCB0cmFuc2Zvcm1hdGlvbiA9IE9iamVjdC5lbnRyaWVzKHJlY29sb3JPcHRpb25zKS5maWx0ZXIoKFssIHZhbHVlXSkgPT4gISF2YWx1ZSkubWFwKChba2V5LCB2YWx1ZV0pID0+IGAke2tleX1fJHt2YWx1ZX1gKS5qb2luKFwiO1wiKTtcbiAgaWYgKHRyYW5zZm9ybWF0aW9uKSB7XG4gICAgY2xkQXNzZXQuYWRkVHJhbnNmb3JtYXRpb24oYGVfZ2VuX3JlY29sb3I6JHt0cmFuc2Zvcm1hdGlvbn1gKTtcbiAgfVxuICByZXR1cm4ge307XG59XG5cbi8vIHNyYy9wbHVnaW5zL3JlbW92ZS50c1xudmFyIHJlbW92ZV9leHBvcnRzID0ge307XG5fX2V4cG9ydChyZW1vdmVfZXhwb3J0cywge1xuICBhc3NldFR5cGVzOiAoKSA9PiBhc3NldFR5cGVzMTMsXG4gIHBsdWdpbjogKCkgPT4gcGx1Z2luMTMsXG4gIHByb3BzOiAoKSA9PiBwcm9wczEzXG59KTtcbnZhciBpbXBvcnRfem9kMTQgPSByZXF1aXJlKFwiem9kXCIpO1xudmFyIGltYWdlT3B0aW9uc1JlbW92ZVByb21wdFNjaGVtYSA9IGltcG9ydF96b2QxNC56LnVuaW9uKFtcbiAgaW1wb3J0X3pvZDE0Lnouc3RyaW5nKCksXG4gIGltcG9ydF96b2QxNC56LmFycmF5KGltcG9ydF96b2QxNC56LnN0cmluZygpKVxuXSk7XG52YXIgaW1hZ2VPcHRpb25zUmVtb3ZlU2NoZW1hID0gaW1wb3J0X3pvZDE0Lnoub2JqZWN0KHtcbiAgcHJvbXB0OiBpbWFnZU9wdGlvbnNSZW1vdmVQcm9tcHRTY2hlbWEub3B0aW9uYWwoKSxcbiAgcmVnaW9uOiBpbXBvcnRfem9kMTQuei51bmlvbihbXG4gICAgaW1wb3J0X3pvZDE0LnouYXJyYXkoaW1wb3J0X3pvZDE0LnoubnVtYmVyKCkpLFxuICAgIGltcG9ydF96b2QxNC56LmFycmF5KGltcG9ydF96b2QxNC56LmFycmF5KGltcG9ydF96b2QxNC56Lm51bWJlcigpKSlcbiAgXSkub3B0aW9uYWwoKSxcbiAgbXVsdGlwbGU6IGltcG9ydF96b2QxNC56LmJvb2xlYW4oKS5vcHRpb25hbCgpLFxuICByZW1vdmVTaGFkb3c6IGltcG9ydF96b2QxNC56LmJvb2xlYW4oKS5vcHRpb25hbCgpXG59KTtcbnZhciBwcm9wczEzID0ge1xuICByZW1vdmU6IGltcG9ydF96b2QxNC56LnVuaW9uKFtcbiAgICBpbWFnZU9wdGlvbnNSZW1vdmVQcm9tcHRTY2hlbWEsXG4gICAgaW1hZ2VPcHRpb25zUmVtb3ZlU2NoZW1hXG4gIF0pLmRlc2NyaWJlKEpTT04uc3RyaW5naWZ5KHtcbiAgICB0ZXh0OiBcIkFwcGxpZXMgem9vbWluZyBhbmQvb3IgcGFubmluZyB0byBhbiBpbWFnZSwgcmVzdWx0aW5nIGluIGEgdmlkZW8gb3IgYW5pbWF0ZWQgaW1hZ2UuXCIsXG4gICAgdXJsOiBcImh0dHBzOi8vY2xvdWRpbmFyeS5jb20vZG9jdW1lbnRhdGlvbi90cmFuc2Zvcm1hdGlvbl9yZWZlcmVuY2UjZV96b29tcGFuXCJcbiAgfSkpLm9wdGlvbmFsKClcbn07XG52YXIgYXNzZXRUeXBlczEzID0gW1wiaW1hZ2VcIiwgXCJpbWFnZXNcIl07XG5mdW5jdGlvbiBwbHVnaW4xMyhwcm9wczIxKSB7XG4gIGNvbnN0IHsgY2xkQXNzZXQsIG9wdGlvbnMgfSA9IHByb3BzMjE7XG4gIGNvbnN0IHsgcmVtb3ZlIH0gPSBvcHRpb25zO1xuICBjb25zdCByZW1vdmVPcHRpb25zID0ge1xuICAgIHByb21wdDogdm9pZCAwLFxuICAgIHJlZ2lvbjogdm9pZCAwLFxuICAgIG11bHRpcGxlOiB2b2lkIDAsXG4gICAgXCJyZW1vdmUtc2hhZG93XCI6IHZvaWQgMFxuICB9O1xuICBpZiAodHlwZW9mIHJlbW92ZSA9PT0gXCJzdHJpbmdcIikge1xuICAgIHJlbW92ZU9wdGlvbnMucHJvbXB0ID0gcmVtb3ZlO1xuICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkocmVtb3ZlKSkge1xuICAgIHJlbW92ZU9wdGlvbnMucHJvbXB0ID0gcHJvbXB0QXJyYXlUb1N0cmluZyhyZW1vdmUpO1xuICB9IGVsc2UgaWYgKHR5cGVvZiByZW1vdmUgPT09IFwib2JqZWN0XCIpIHtcbiAgICBjb25zdCBoYXNQcm9tcHQgPSB0eXBlb2YgcmVtb3ZlLnByb21wdCA9PT0gXCJzdHJpbmdcIiB8fCBBcnJheS5pc0FycmF5KHJlbW92ZS5wcm9tcHQpO1xuICAgIGNvbnN0IGhhc1JlZ2lvbiA9IEFycmF5LmlzQXJyYXkocmVtb3ZlLnJlZ2lvbik7XG4gICAgaWYgKGhhc1Byb21wdCAmJiBoYXNSZWdpb24pIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgcmVtb3ZlIG9wdGlvbnM6IHlvdSBjYW4gbm90IGhhdmUgYm90aCBhIHByb21wdCBhbmQgYSByZWdpb24uIE1vcmUgaW5mbzogaHR0cHM6Ly9jbG91ZGluYXJ5LmNvbS9kb2N1bWVudGF0aW9uL3RyYW5zZm9ybWF0aW9uX3JlZmVyZW5jZSNlX2dlbl9yZW1vdmVcIik7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgcmVtb3ZlLnByb21wdCA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgcmVtb3ZlT3B0aW9ucy5wcm9tcHQgPSByZW1vdmUucHJvbXB0O1xuICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShyZW1vdmUucHJvbXB0KSkge1xuICAgICAgcmVtb3ZlT3B0aW9ucy5wcm9tcHQgPSBwcm9tcHRBcnJheVRvU3RyaW5nKHJlbW92ZS5wcm9tcHQpO1xuICAgIH1cbiAgICBpZiAoQXJyYXkuaXNBcnJheShyZW1vdmUucmVnaW9uKSkge1xuICAgICAgcmVtb3ZlT3B0aW9ucy5yZWdpb24gPSByZWdpb25BcnJheVRvU3RyaW5nKHJlbW92ZS5yZWdpb24pO1xuICAgIH1cbiAgICBpZiAocmVtb3ZlLm11bHRpcGxlID09PSB0cnVlKSB7XG4gICAgICByZW1vdmVPcHRpb25zLm11bHRpcGxlID0gYHRydWVgO1xuICAgIH1cbiAgICBpZiAocmVtb3ZlLnJlbW92ZVNoYWRvdyA9PT0gdHJ1ZSkge1xuICAgICAgcmVtb3ZlT3B0aW9uc1tcInJlbW92ZS1zaGFkb3dcIl0gPSBgdHJ1ZWA7XG4gICAgfVxuICB9XG4gIGNvbnN0IHRyYW5zZm9ybWF0aW9uID0gT2JqZWN0LmVudHJpZXMocmVtb3ZlT3B0aW9ucykuZmlsdGVyKChbLCB2YWx1ZV0pID0+ICEhdmFsdWUpLm1hcCgoW2tleSwgdmFsdWVdKSA9PiBgJHtrZXl9XyR7dmFsdWV9YCkuam9pbihcIjtcIik7XG4gIGlmICh0cmFuc2Zvcm1hdGlvbikge1xuICAgIGNsZEFzc2V0LmFkZFRyYW5zZm9ybWF0aW9uKGBlX2dlbl9yZW1vdmU6JHt0cmFuc2Zvcm1hdGlvbn1gKTtcbiAgfVxuICByZXR1cm4ge307XG59XG5mdW5jdGlvbiByZWdpb25BcnJheVRvU3RyaW5nKHJlZ2lvbkFycmF5KSB7XG4gIGNvbnN0IGluZGV4ZXMgPSB7XG4gICAgMDogXCJ4XCIsXG4gICAgMTogXCJ5XCIsXG4gICAgMjogXCJ3XCIsXG4gICAgMzogXCJoXCJcbiAgfTtcbiAgY29uc3QgcmVnaW9uU3RyaW5nID0gcmVnaW9uQXJyYXkubWFwKChyZWdpb24sIGluZGV4KSA9PiB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkocmVnaW9uKSkge1xuICAgICAgcmV0dXJuIHJlZ2lvbkFycmF5VG9TdHJpbmcocmVnaW9uKTtcbiAgICB9XG4gICAgY29uc3Qga2V5ID0gaW5kZXhlc1tpbmRleF07XG4gICAgcmV0dXJuIGAke2tleX1fJHtyZWdpb259YDtcbiAgfSkuam9pbihcIjtcIik7XG4gIHJldHVybiBgKCR7cmVnaW9uU3RyaW5nfSlgO1xufVxuXG4vLyBzcmMvcGx1Z2lucy9yZW1vdmUtYmFja2dyb3VuZC50c1xudmFyIHJlbW92ZV9iYWNrZ3JvdW5kX2V4cG9ydHMgPSB7fTtcbl9fZXhwb3J0KHJlbW92ZV9iYWNrZ3JvdW5kX2V4cG9ydHMsIHtcbiAgYXNzZXRUeXBlczogKCkgPT4gYXNzZXRUeXBlczE0LFxuICBwbHVnaW46ICgpID0+IHBsdWdpbjE0LFxuICBwcm9wczogKCkgPT4gcHJvcHMxNFxufSk7XG52YXIgaW1wb3J0X3pvZDE1ID0gcmVxdWlyZShcInpvZFwiKTtcbnZhciBwcm9wczE0ID0ge1xuICByZW1vdmVCYWNrZ3JvdW5kOiBpbXBvcnRfem9kMTUuei5ib29sZWFuKCkuZGVzY3JpYmUoSlNPTi5zdHJpbmdpZnkoe1xuICAgIHRleHQ6IFwiUmVtb3ZlcyB0aGUgYmFja2dyb3VuZCBvZiBhbiBpbWFnZSB1c2luZyB0aGUgQ2xvdWRpbmFyeSBBSSBCYWNrZ3JvdW5kIFJlbW92YWwgQWRkLU9uIChSZXF1aXJlZCkuXCIsXG4gICAgdXJsOiBcImh0dHBzOi8vY2xvdWRpbmFyeS5jb20vZG9jdW1lbnRhdGlvbi9jbG91ZGluYXJ5X2FpX2JhY2tncm91bmRfcmVtb3ZhbF9hZGRvblwiXG4gIH0pKS5vcHRpb25hbCgpXG59O1xudmFyIGFzc2V0VHlwZXMxNCA9IFtcImltYWdlXCIsIFwiaW1hZ2VzXCJdO1xuZnVuY3Rpb24gcGx1Z2luMTQocHJvcHMyMSkge1xuICBjb25zdCB7IGNsZEFzc2V0LCBvcHRpb25zIH0gPSBwcm9wczIxO1xuICBjb25zdCB7IHJlbW92ZUJhY2tncm91bmQgPSBmYWxzZSB9ID0gb3B0aW9ucztcbiAgaWYgKHJlbW92ZUJhY2tncm91bmQpIHtcbiAgICBjbGRBc3NldC5lZmZlY3QoXCJlX2JhY2tncm91bmRfcmVtb3ZhbFwiKTtcbiAgfVxuICByZXR1cm4ge307XG59XG5cbi8vIHNyYy9wbHVnaW5zL3Jlc3RvcmUudHNcbnZhciByZXN0b3JlX2V4cG9ydHMgPSB7fTtcbl9fZXhwb3J0KHJlc3RvcmVfZXhwb3J0cywge1xuICBhc3NldFR5cGVzOiAoKSA9PiBhc3NldFR5cGVzMTUsXG4gIHBsdWdpbjogKCkgPT4gcGx1Z2luMTUsXG4gIHByb3BzOiAoKSA9PiBwcm9wczE1XG59KTtcbnZhciBpbXBvcnRfem9kMTYgPSByZXF1aXJlKFwiem9kXCIpO1xudmFyIHByb3BzMTUgPSB7XG4gIHJlc3RvcmU6IGltcG9ydF96b2QxNi56LmJvb2xlYW4oKS5kZXNjcmliZShKU09OLnN0cmluZ2lmeSh7XG4gICAgdGV4dDogXCJVc2VzIGdlbmVyYXRpdmUgQUkgdG8gcmVzdG9yZSBkZXRhaWxzIGluIHBvb3IgcXVhbGl0eSBpbWFnZXMgb3IgaW1hZ2VzIHRoYXQgbWF5IGhhdmUgYmVjb21lIGRlZ3JhZGVkIHRocm91Z2ggcmVwZWF0ZWQgcHJvY2Vzc2luZyBhbmQgY29tcHJlc3Npb24uXCIsXG4gICAgdXJsOiBcImh0dHBzOi8vY2xvdWRpbmFyeS5jb20vZG9jdW1lbnRhdGlvbi90cmFuc2Zvcm1hdGlvbl9yZWZlcmVuY2UjZV9nZW5fcmVzdG9yZVwiXG4gIH0pKS5vcHRpb25hbCgpXG59O1xudmFyIGFzc2V0VHlwZXMxNSA9IFtcImltYWdlXCIsIFwiaW1hZ2VzXCJdO1xuZnVuY3Rpb24gcGx1Z2luMTUocHJvcHMyMSkge1xuICBjb25zdCB7IGNsZEFzc2V0LCBvcHRpb25zIH0gPSBwcm9wczIxO1xuICBjb25zdCB7IHJlc3RvcmUgPSBmYWxzZSB9ID0gb3B0aW9ucztcbiAgaWYgKHJlc3RvcmUpIHtcbiAgICBjbGRBc3NldC5lZmZlY3QoXCJlX2dlbl9yZXN0b3JlXCIpO1xuICB9XG4gIHJldHVybiB7fTtcbn1cblxuLy8gc3JjL3BsdWdpbnMvc2FuaXRpemUudHNcbnZhciBzYW5pdGl6ZV9leHBvcnRzID0ge307XG5fX2V4cG9ydChzYW5pdGl6ZV9leHBvcnRzLCB7XG4gIGFzc2V0VHlwZXM6ICgpID0+IGFzc2V0VHlwZXMxNixcbiAgcGx1Z2luOiAoKSA9PiBwbHVnaW4xNixcbiAgcHJvcHM6ICgpID0+IHByb3BzMTZcbn0pO1xudmFyIGltcG9ydF96b2QxNyA9IHJlcXVpcmUoXCJ6b2RcIik7XG52YXIgcHJvcHMxNiA9IHtcbiAgc2FuaXRpemU6IGltcG9ydF96b2QxNy56LmJvb2xlYW4oKS5kZXNjcmliZShKU09OLnN0cmluZ2lmeSh7XG4gICAgdGV4dDogXCJSdW5zIGEgc2FuaXRpemVyIG9uIFNWRyBpbWFnZXMuXCIsXG4gICAgdXJsOiBcImh0dHBzOi8vY2xvdWRpbmFyeS5jb20vZG9jdW1lbnRhdGlvbi90cmFuc2Zvcm1hdGlvbl9yZWZlcmVuY2UjZmxfc2FuaXRpemVcIlxuICB9KSkub3B0aW9uYWwoKVxufTtcbnZhciBhc3NldFR5cGVzMTYgPSBbXCJpbWFnZVwiLCBcImltYWdlc1wiXTtcbmZ1bmN0aW9uIHBsdWdpbjE2KHByb3BzMjEpIHtcbiAgY29uc3QgeyBjbGRBc3NldCwgb3B0aW9ucyB9ID0gcHJvcHMyMTtcbiAgY29uc3QgeyBzYW5pdGl6ZSA9IHRydWUgfSA9IG9wdGlvbnM7XG4gIGNvbnN0IHNob3VsZEFwcGx5U2FuaXRpemVyID0gc2FuaXRpemUgJiYgKG9wdGlvbnMuZm9ybWF0ID09PSBcInN2Z1wiIHx8IGNsZEFzc2V0LnB1YmxpY0lELmVuZHNXaXRoKFwiLnN2Z1wiKSk7XG4gIGlmIChzaG91bGRBcHBseVNhbml0aXplcikge1xuICAgIGNsZEFzc2V0LmVmZmVjdChcImZsX3Nhbml0aXplXCIpO1xuICB9XG4gIHJldHVybiB7fTtcbn1cblxuLy8gc3JjL3BsdWdpbnMvc2VvLnRzXG52YXIgc2VvX2V4cG9ydHMgPSB7fTtcbl9fZXhwb3J0KHNlb19leHBvcnRzLCB7XG4gIGFzc2V0VHlwZXM6ICgpID0+IGFzc2V0VHlwZXMxNyxcbiAgcGx1Z2luOiAoKSA9PiBwbHVnaW4xNyxcbiAgcHJvcHM6ICgpID0+IHByb3BzMTdcbn0pO1xudmFyIGltcG9ydF96b2QxOCA9IHJlcXVpcmUoXCJ6b2RcIik7XG52YXIgcHJvcHMxNyA9IHtcbiAgc2VvU3VmZml4OiBpbXBvcnRfem9kMTguei5zdHJpbmcoKS5kZXNjcmliZShKU09OLnN0cmluZ2lmeSh7XG4gICAgdGV4dDogXCJDb25maWd1cmVzIHRoZSBVUkwgdG8gaW5jbHVkZSBhbiBTRU8tZnJpZW5kbHkgc3VmZml4IGluIHRoZSBVUkxcIixcbiAgICB1cmw6IFwiaHR0cHM6Ly9jbG91ZGluYXJ5LmNvbS9kb2N1bWVudGF0aW9uL2FkdmFuY2VkX3VybF9kZWxpdmVyeV9vcHRpb25zI3Nlb19mcmllbmRseV9tZWRpYV9hc3NldF91cmxzXCJcbiAgfSkpLm9wdGlvbmFsKClcbn07XG52YXIgYXNzZXRUeXBlczE3ID0gW1wiaW1hZ2VcIiwgXCJpbWFnZXNcIiwgXCJ2aWRlb1wiLCBcInZpZGVvc1wiXTtcbmZ1bmN0aW9uIHBsdWdpbjE3KHByb3BzMjEpIHtcbiAgY29uc3QgeyBjbGRBc3NldCwgb3B0aW9ucyB9ID0gcHJvcHMyMTtcbiAgY29uc3QgeyBzZW9TdWZmaXggfSA9IG9wdGlvbnM7XG4gIGlmICh0eXBlb2Ygc2VvU3VmZml4ID09PSBcInN0cmluZ1wiKSB7XG4gICAgaWYgKG9wdGlvbnMuZGVsaXZlcnlUeXBlID09PSBcImZldGNoXCIpIHtcbiAgICAgIGNvbnNvbGUud2FybihcIlNFTyBzdWZmaXggaXMgbm90IHN1cHBvcnRlZCB3aXRoIGEgZGVsaXZlcnkgdHlwZSBvZiBmZXRjaFwiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY2xkQXNzZXQuc2V0U3VmZml4KHNlb1N1ZmZpeCk7XG4gICAgfVxuICB9XG4gIHJldHVybiB7fTtcbn1cblxuLy8gc3JjL3BsdWdpbnMvdW5kZXJsYXlzLnRzXG52YXIgdW5kZXJsYXlzX2V4cG9ydHMgPSB7fTtcbl9fZXhwb3J0KHVuZGVybGF5c19leHBvcnRzLCB7XG4gIGFzc2V0VHlwZXM6ICgpID0+IGFzc2V0VHlwZXMxOCxcbiAgcGx1Z2luOiAoKSA9PiBwbHVnaW4xOCxcbiAgcHJvcHM6ICgpID0+IHByb3BzMThcbn0pO1xudmFyIGltcG9ydF96b2QxOSA9IHJlcXVpcmUoXCJ6b2RcIik7XG52YXIgaW1wb3J0X3V0aWw0ID0gcmVxdWlyZShcIkBjbG91ZGluYXJ5LXV0aWwvdXRpbFwiKTtcbnZhciB1bmRlcmxheVBvc2l0aW9uU2NoZW1hID0gaW1wb3J0X3pvZDE5Lnoub2JqZWN0KHtcbiAgYW5nbGU6IGFuZ2xlLnNjaGVtYS5vcHRpb25hbCgpLFxuICBncmF2aXR5OiBncmF2aXR5LnNjaGVtYS5vcHRpb25hbCgpLFxuICB4OiB4LnNjaGVtYS5vcHRpb25hbCgpLFxuICB5OiB5LnNjaGVtYS5vcHRpb25hbCgpXG59KTtcbnZhciB1bmRlcmxheVNjaGVtYSA9IGltcG9ydF96b2QxOS56Lm9iamVjdCh7XG4gIGFwcGxpZWRFZmZlY3RzOiBpbXBvcnRfem9kMTkuei5hcnJheShpbXBvcnRfem9kMTkuei5vYmplY3Qoe30pKS5vcHRpb25hbCgpLFxuICBhcHBsaWVkRmxhZ3M6IGZsYWdzLnNjaGVtYS5vcHRpb25hbCgpLFxuICBlZmZlY3RzOiBpbXBvcnRfem9kMTkuei5hcnJheShpbXBvcnRfem9kMTkuei5vYmplY3Qoe30pKS5vcHRpb25hbCgpLFxuICBjcm9wOiBjcm9wLnNjaGVtYS5vcHRpb25hbCgpLFxuICBmbGFnczogZmxhZ3Muc2NoZW1hLm9wdGlvbmFsKCksXG4gIGhlaWdodDogaGVpZ2h0LnNjaGVtYS5vcHRpb25hbCgpLFxuICBwb3NpdGlvbjogdW5kZXJsYXlQb3NpdGlvblNjaGVtYS5vcHRpb25hbCgpLFxuICBwdWJsaWNJZDogaW1wb3J0X3pvZDE5Lnouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgdHlwZTogaW1wb3J0X3pvZDE5Lnouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgdXJsOiBpbXBvcnRfem9kMTkuei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICB3aWR0aDogd2lkdGguc2NoZW1hLm9wdGlvbmFsKClcbn0pO1xudmFyIHByb3BzMTggPSB7XG4gIHVuZGVybGF5OiBpbXBvcnRfem9kMTkuei5zdHJpbmcoKS5kZXNjcmliZShKU09OLnN0cmluZ2lmeSh7XG4gICAgdGV4dDogXCJQdWJsaWMgSUQgb2YgaW1hZ2UgdGhhdCBpcyBhcHBsaWVkIHVuZGVyIHRoZSBiYXNlIGltYWdlLlwiLFxuICAgIHVybDogXCJodHRwczovL2Nsb3VkaW5hcnkuY29tL2RvY3VtZW50YXRpb24vdHJhbnNmb3JtYXRpb25fcmVmZXJlbmNlI2xfbGF5ZXJcIlxuICB9KSkub3B0aW9uYWwoKSxcbiAgdW5kZXJsYXlzOiBpbXBvcnRfem9kMTkuei5hcnJheSh1bmRlcmxheVNjaGVtYSkuZGVzY3JpYmUoSlNPTi5zdHJpbmdpZnkoe1xuICAgIHRleHQ6IFwiSW1hZ2UgbGF5ZXJzIHRoYXQgYXJlIGFwcGxpZWQgdW5kZXIgdGhlIGJhc2UgaW1hZ2UuXCIsXG4gICAgdXJsOiBcImh0dHBzOi8vY2xvdWRpbmFyeS5jb20vZG9jdW1lbnRhdGlvbi90cmFuc2Zvcm1hdGlvbl9yZWZlcmVuY2UjbF9sYXllclwiXG4gIH0pKS5vcHRpb25hbCgpXG59O1xudmFyIGFzc2V0VHlwZXMxOCA9IFtcImltYWdlXCIsIFwiaW1hZ2VzXCIsIFwidmlkZW9cIiwgXCJ2aWRlb3NcIl07XG5mdW5jdGlvbiBwbHVnaW4xOChwcm9wczIxKSB7XG4gIGNvbnN0IHsgY2xkQXNzZXQsIG9wdGlvbnMgfSA9IHByb3BzMjE7XG4gIGNvbnN0IHsgdW5kZXJsYXksIHVuZGVybGF5cyA9IFtdIH0gPSBvcHRpb25zO1xuICBjb25zdCB0eXBlUXVhbGlmaWVyID0gXCJ1XCI7XG4gIGlmIChBcnJheS5pc0FycmF5KHVuZGVybGF5cykpIHtcbiAgICB1bmRlcmxheXMuZm9yRWFjaChhcHBseVVuZGVybGF5KTtcbiAgfVxuICBpZiAodHlwZW9mIHVuZGVybGF5ID09PSBcInN0cmluZ1wiKSB7XG4gICAgY29uc3QgdW5kZXJsYXlPcHRpb25zID0ge1xuICAgICAgcHVibGljSWQ6IHVuZGVybGF5LFxuICAgICAgY3JvcDogXCJmaWxsXCIsXG4gICAgICB3aWR0aDogXCIxLjBcIixcbiAgICAgIGhlaWdodDogXCIxLjBcIixcbiAgICAgIGZsYWdzOiBbXCJyZWxhdGl2ZVwiXVxuICAgIH07XG4gICAgYXBwbHlVbmRlcmxheSh1bmRlcmxheU9wdGlvbnMpO1xuICB9XG4gIGZ1bmN0aW9uIGFwcGx5VW5kZXJsYXkoeyBwdWJsaWNJZCwgdHlwZSwgcG9zaXRpb246IHBvc2l0aW9uMiwgZWZmZWN0czogbGF5ZXJFZmZlY3RzID0gW10sIGZsYWdzOiBsYXllckZsYWdzID0gW10sIGFwcGxpZWRGbGFncyA9IFtdLCAuLi5vcHRpb25zMiB9KSB7XG4gICAgY29uc3QgaGFzUHVibGljSWQgPSB0eXBlb2YgcHVibGljSWQgPT09IFwic3RyaW5nXCI7XG4gICAgY29uc3QgaGFzUG9zaXRpb24gPSB0eXBlb2YgcG9zaXRpb24yID09PSBcIm9iamVjdFwiO1xuICAgIGlmICghaGFzUHVibGljSWQpIHtcbiAgICAgIGNvbnNvbGUud2FybihgQW4gJHt0eXBlfSBpcyBtaXNzaW5nIGEgUHVibGljIElEYCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGxldCBsYXllclRyYW5zZm9ybWF0aW9uID0gYCR7dHlwZVF1YWxpZmllcn1fJHtwdWJsaWNJZC5yZXBsYWNlKC9cXC8vZywgXCI6XCIpfWA7XG4gICAgY29uc3QgcHJpbWFyeTIgPSBbXTtcbiAgICBjb25zdCBhcHBsaWVkID0gW107XG4gICAgT2JqZWN0LmtleXMob3B0aW9uczIpLmZvckVhY2goKGtleSkgPT4ge1xuICAgICAgaWYgKCEoMCwgaW1wb3J0X3V0aWw0Lm9iamVjdEhhc0tleSkocHJpbWFyeSwga2V5KSlcbiAgICAgICAgcmV0dXJuO1xuICAgICAgY29uc3QgeyBxdWFsaWZpZXIgfSA9IHByaW1hcnlba2V5XTtcbiAgICAgIHByaW1hcnkyLnB1c2goYCR7cXVhbGlmaWVyfV8ke29wdGlvbnMyW2tleV19YCk7XG4gICAgfSk7XG4gICAgbGF5ZXJFZmZlY3RzLmZvckVhY2goKGVmZmVjdCkgPT4ge1xuICAgICAgT2JqZWN0LmtleXMoZWZmZWN0KS5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgICAgaWYgKCEoMCwgaW1wb3J0X3V0aWw0Lm9iamVjdEhhc0tleSkocHJpbWFyeSwga2V5KSlcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNvbnN0IHsgcXVhbGlmaWVyIH0gPSBwcmltYXJ5W2tleV07XG4gICAgICAgIHByaW1hcnkyLnB1c2goYCR7cXVhbGlmaWVyfV8ke2VmZmVjdFtrZXldfWApO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgaWYgKGhhc1Bvc2l0aW9uKSB7XG4gICAgICBPYmplY3Qua2V5cyhwb3NpdGlvbjIpLmZvckVhY2goKGtleSkgPT4ge1xuICAgICAgICBpZiAoISgwLCBpbXBvcnRfdXRpbDQub2JqZWN0SGFzS2V5KShwb3NpdGlvbiwga2V5KSlcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNvbnN0IHsgcXVhbGlmaWVyIH0gPSBwb3NpdGlvbltrZXldO1xuICAgICAgICBhcHBsaWVkLnB1c2goYCR7cXVhbGlmaWVyfV8ke3Bvc2l0aW9uMltrZXldfWApO1xuICAgICAgfSk7XG4gICAgfVxuICAgIGNvbnN0IGFjdGl2ZUxheWVyRmxhZ3MgPSBBcnJheS5pc0FycmF5KGxheWVyRmxhZ3MpID8gbGF5ZXJGbGFncyA6IFtsYXllckZsYWdzXTtcbiAgICBhY3RpdmVMYXllckZsYWdzLmZvckVhY2goKGZsYWcpID0+IHtcbiAgICAgIGNvbnN0IHsgc3VjY2VzcyB9ID0gZmxhZ3NFbnVtLnNhZmVQYXJzZShmbGFnKTtcbiAgICAgIGlmICghc3VjY2Vzcykge1xuICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09IFwiZGV2ZWxvcG1lbnRcIikge1xuICAgICAgICAgIGNvbnNvbGUud2FybihgSW52YWxpZCBmbGFnICR7ZmxhZ30sIG5vdCBhcHBseWluZy5gKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBwcmltYXJ5Mi5wdXNoKGBmbF8ke2ZsYWd9YCk7XG4gICAgfSk7XG4gICAgY29uc3QgYWN0aXZlQXBwbGllZEZsYWdzID0gQXJyYXkuaXNBcnJheShhcHBsaWVkRmxhZ3MpID8gYXBwbGllZEZsYWdzIDogW2FwcGxpZWRGbGFnc107XG4gICAgYWN0aXZlQXBwbGllZEZsYWdzLmZvckVhY2goKGZsYWcpID0+IHtcbiAgICAgIGNvbnN0IHsgc3VjY2VzcyB9ID0gZmxhZ3NFbnVtLnNhZmVQYXJzZShmbGFnKTtcbiAgICAgIGlmICghc3VjY2Vzcykge1xuICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09IFwiZGV2ZWxvcG1lbnRcIikge1xuICAgICAgICAgIGNvbnNvbGUud2FybihgSW52YWxpZCBmbGFnICR7ZmxhZ30sIG5vdCBhcHBseWluZy5gKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBhcHBsaWVkLnB1c2goYGZsXyR7ZmxhZ31gKTtcbiAgICB9KTtcbiAgICBsYXllclRyYW5zZm9ybWF0aW9uID0gYCR7bGF5ZXJUcmFuc2Zvcm1hdGlvbn0sJHtwcmltYXJ5Mi5qb2luKFwiLFwiKX1gO1xuICAgIGxheWVyVHJhbnNmb3JtYXRpb24gPSBgJHtsYXllclRyYW5zZm9ybWF0aW9ufS9mbF9sYXllcl9hcHBseSxmbF9ub19vdmVyZmxvd2A7XG4gICAgaWYgKGFwcGxpZWQubGVuZ3RoID4gMCkge1xuICAgICAgbGF5ZXJUcmFuc2Zvcm1hdGlvbiA9IGAke2xheWVyVHJhbnNmb3JtYXRpb259LCR7YXBwbGllZC5qb2luKFwiLFwiKX1gO1xuICAgIH1cbiAgICBjbGRBc3NldC5hZGRUcmFuc2Zvcm1hdGlvbihsYXllclRyYW5zZm9ybWF0aW9uKTtcbiAgfVxuICByZXR1cm4ge307XG59XG5cbi8vIHNyYy9wbHVnaW5zL3ZlcnNpb24udHNcbnZhciB2ZXJzaW9uX2V4cG9ydHMgPSB7fTtcbl9fZXhwb3J0KHZlcnNpb25fZXhwb3J0cywge1xuICBhc3NldFR5cGVzOiAoKSA9PiBhc3NldFR5cGVzMTksXG4gIHBsdWdpbjogKCkgPT4gcGx1Z2luMTksXG4gIHByb3BzOiAoKSA9PiBwcm9wczE5XG59KTtcbnZhciBpbXBvcnRfem9kMjAgPSByZXF1aXJlKFwiem9kXCIpO1xudmFyIHByb3BzMTkgPSB7XG4gIHZlcnNpb246IGltcG9ydF96b2QyMC56LnVuaW9uKFtcbiAgICBpbXBvcnRfem9kMjAuei5udW1iZXIoKSxcbiAgICBpbXBvcnRfem9kMjAuei5zdHJpbmcoKVxuICBdKS5kZXNjcmliZShKU09OLnN0cmluZ2lmeSh7XG4gICAgdGV4dDogXCJDdXN0b20gdmVyc2lvbiBudW1iZXIgdG8gYXBwbHkgdG8gYXNzZXQgVVJMLlwiLFxuICAgIHVybDogXCJodHRwczovL2Nsb3VkaW5hcnkuY29tL2RvY3VtZW50YXRpb24vYWR2YW5jZWRfdXJsX2RlbGl2ZXJ5X29wdGlvbnMjYXNzZXRfdmVyc2lvbnNcIlxuICB9KSkub3B0aW9uYWwoKVxufTtcbnZhciBhc3NldFR5cGVzMTkgPSBbXCJpbWFnZVwiLCBcImltYWdlc1wiLCBcInZpZGVvXCIsIFwidmlkZW9zXCJdO1xuZnVuY3Rpb24gcGx1Z2luMTkocHJvcHMyMSkge1xuICBjb25zdCB7IGNsZEFzc2V0LCBvcHRpb25zIH0gPSBwcm9wczIxO1xuICBjb25zdCB7IHZlcnNpb24gfSA9IG9wdGlvbnM7XG4gIGlmICh0eXBlb2YgdmVyc2lvbiA9PT0gXCJzdHJpbmdcIiB8fCB0eXBlb2YgdmVyc2lvbiA9PT0gXCJudW1iZXJcIikge1xuICAgIGNsZEFzc2V0LnNldFZlcnNpb24oYCR7dmVyc2lvbn1gLnJlcGxhY2UoXCJ2XCIsIFwiXCIpKTtcbiAgfVxuICByZXR1cm4ge307XG59XG5cbi8vIHNyYy9wbHVnaW5zL3pvb21wYW4udHNcbnZhciB6b29tcGFuX2V4cG9ydHMgPSB7fTtcbl9fZXhwb3J0KHpvb21wYW5fZXhwb3J0cywge1xuICBhc3NldFR5cGVzOiAoKSA9PiBhc3NldFR5cGVzMjAsXG4gIHBsdWdpbjogKCkgPT4gcGx1Z2luMjAsXG4gIHByb3BzOiAoKSA9PiBwcm9wczIwXG59KTtcbnZhciBpbXBvcnRfem9kMjEgPSByZXF1aXJlKFwiem9kXCIpO1xudmFyIHByb3BzMjAgPSB7XG4gIHpvb21wYW46IGltcG9ydF96b2QyMS56LnVuaW9uKFtcbiAgICBpbXBvcnRfem9kMjEuei5zdHJpbmcoKSxcbiAgICBpbXBvcnRfem9kMjEuei5ib29sZWFuKCksXG4gICAgaW1wb3J0X3pvZDIxLnoub2JqZWN0KHtcbiAgICAgIGxvb3A6IGVmZmVjdHMubG9vcC5zY2hlbWEub3B0aW9uYWwoKSxcbiAgICAgIG9wdGlvbnM6IGltcG9ydF96b2QyMS56LnN0cmluZygpXG4gICAgfSlcbiAgXSkuZGVzY3JpYmUoSlNPTi5zdHJpbmdpZnkoe1xuICAgIHRleHQ6IFwiQXBwbGllcyB6b29taW5nIGFuZC9vciBwYW5uaW5nIHRvIGFuIGltYWdlLCByZXN1bHRpbmcgaW4gYSB2aWRlbyBvciBhbmltYXRlZCBpbWFnZS5cIixcbiAgICB1cmw6IFwiaHR0cHM6Ly9jbG91ZGluYXJ5LmNvbS9kb2N1bWVudGF0aW9uL3RyYW5zZm9ybWF0aW9uX3JlZmVyZW5jZSNlX3pvb21wYW5cIlxuICB9KSkub3B0aW9uYWwoKVxufTtcbnZhciBhc3NldFR5cGVzMjAgPSBbXCJpbWFnZVwiLCBcImltYWdlc1wiXTtcbmZ1bmN0aW9uIHBsdWdpbjIwKHByb3BzMjEpIHtcbiAgY29uc3QgeyBjbGRBc3NldCwgb3B0aW9ucyB9ID0gcHJvcHMyMTtcbiAgY29uc3QgeyB6b29tcGFuID0gZmFsc2UgfSA9IG9wdGlvbnM7XG4gIGNvbnN0IG92ZXJyaWRlcyA9IHtcbiAgICBmb3JtYXQ6IHZvaWQgMFxuICB9O1xuICBpZiAoem9vbXBhbiA9PT0gdHJ1ZSkge1xuICAgIGNsZEFzc2V0LmVmZmVjdChcImVfem9vbXBhblwiKTtcbiAgfSBlbHNlIGlmICh0eXBlb2Ygem9vbXBhbiA9PT0gXCJzdHJpbmdcIikge1xuICAgIGlmICh6b29tcGFuID09PSBcImxvb3BcIikge1xuICAgICAgY2xkQXNzZXQuZWZmZWN0KFwiZV96b29tcGFuXCIpO1xuICAgICAgY2xkQXNzZXQuZWZmZWN0KFwiZV9sb29wXCIpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjbGRBc3NldC5lZmZlY3QoYGVfem9vbXBhbjoke3pvb21wYW59YCk7XG4gICAgfVxuICB9IGVsc2UgaWYgKHR5cGVvZiB6b29tcGFuID09PSBcIm9iamVjdFwiKSB7XG4gICAgbGV0IHpvb21wYW5FZmZlY3QgPSBcImVfem9vbXBhblwiO1xuICAgIGlmICh0eXBlb2Ygem9vbXBhbi5vcHRpb25zID09PSBcInN0cmluZ1wiKSB7XG4gICAgICB6b29tcGFuRWZmZWN0ID0gYCR7em9vbXBhbkVmZmVjdH06JHt6b29tcGFuLm9wdGlvbnN9YDtcbiAgICB9XG4gICAgY2xkQXNzZXQuZWZmZWN0KHpvb21wYW5FZmZlY3QpO1xuICAgIGxldCBsb29wRWZmZWN0O1xuICAgIGlmICh6b29tcGFuLmxvb3AgPT09IHRydWUpIHtcbiAgICAgIGxvb3BFZmZlY3QgPSBcImVfbG9vcFwiO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIHpvb21wYW4ubG9vcCA9PT0gXCJzdHJpbmdcIiB8fCB0eXBlb2Ygem9vbXBhbi5sb29wID09PSBcIm51bWJlclwiKSB7XG4gICAgICBsb29wRWZmZWN0ID0gYGVfbG9vcDoke3pvb21wYW4ubG9vcH1gO1xuICAgIH1cbiAgICBpZiAobG9vcEVmZmVjdCkge1xuICAgICAgY2xkQXNzZXQuZWZmZWN0KGxvb3BFZmZlY3QpO1xuICAgIH1cbiAgfVxuICBpZiAoem9vbXBhbiAhPT0gZmFsc2UpIHtcbiAgICBvdmVycmlkZXMuZm9ybWF0ID0gXCJhdXRvOmFuaW1hdGVkXCI7XG4gIH1cbiAgcmV0dXJuIHtcbiAgICBvcHRpb25zOiBvdmVycmlkZXNcbiAgfTtcbn1cblxuLy8gc3JjL3R5cGVzL2Fzc2V0LnRzXG52YXIgaW1wb3J0X3pvZDIyID0gcmVxdWlyZShcInpvZFwiKTtcbnZhciBhc3NldE9wdGlvbnNTY2hlbWEgPSBpbXBvcnRfem9kMjIuei5vYmplY3Qoe1xuICBhc3NldFR5cGU6IGltcG9ydF96b2QyMi56LnN0cmluZygpLmRlZmF1bHQoXCJpbWFnZVwiKS5kZXNjcmliZShKU09OLnN0cmluZ2lmeSh7XG4gICAgdGV4dDogXCJUaGUgdHlwZSBvZiBhc3NldCB0byBkZWxpdmVyLlwiLFxuICAgIHVybDogXCJodHRwczovL2Nsb3VkaW5hcnkuY29tL2RvY3VtZW50YXRpb24vaW1hZ2VfdHJhbnNmb3JtYXRpb25zI3RyYW5zZm9ybWF0aW9uX3VybF9zdHJ1Y3R1cmVcIlxuICB9KSkub3B0aW9uYWwoKSxcbiAgZGVsaXZlcnlUeXBlOiBpbXBvcnRfem9kMjIuei5zdHJpbmcoKS5kZWZhdWx0KFwidXBsb2FkXCIpLmRlc2NyaWJlKEpTT04uc3RyaW5naWZ5KHtcbiAgICB0ZXh0OiBcIkRlbGl2ZXJ5IG1ldGhvZCBvZiB0aGUgYXNzZXQuXCIsXG4gICAgdXJsOiBcImh0dHBzOi8vY2xvdWRpbmFyeS5jb20vZG9jdW1lbnRhdGlvbi9pbWFnZV90cmFuc2Zvcm1hdGlvbnMjZGVsaXZlcnlfdHlwZXNcIlxuICB9KSkub3B0aW9uYWwoKSxcbiAgZHByOiBpbXBvcnRfem9kMjIuei51bmlvbihbaW1wb3J0X3pvZDIyLnouc3RyaW5nKCksIGltcG9ydF96b2QyMi56Lm51bWJlcigpXSkuZGVzY3JpYmUoSlNPTi5zdHJpbmdpZnkoe1xuICAgIHRleHQ6IFwiRGVsaXZlcnkgbWV0aG9kIG9mIHRoZSBhc3NldC5cIixcbiAgICB1cmw6IFwiaHR0cHM6Ly9jbG91ZGluYXJ5LmNvbS9kb2N1bWVudGF0aW9uL2ltYWdlX3RyYW5zZm9ybWF0aW9ucyNkZWxpdmVyeV90eXBlc1wiXG4gIH0pKS5vcHRpb25hbCgpLFxuICBmb3JtYXQ6IGltcG9ydF96b2QyMi56LnN0cmluZygpLmRlZmF1bHQoXCJhdXRvXCIpLmRlc2NyaWJlKEpTT04uc3RyaW5naWZ5KHtcbiAgICB0ZXh0OiBcIkNvbnZlcnRzIChpZiBuZWNlc3NhcnkpIGFuZCBkZWxpdmVycyBhbiBhc3NldCBpbiB0aGUgc3BlY2lmaWVkIGZvcm1hdC5cIixcbiAgICB1cmw6IFwiaHR0cHM6Ly9jbG91ZGluYXJ5LmNvbS9kb2N1bWVudGF0aW9uL3RyYW5zZm9ybWF0aW9uX3JlZmVyZW5jZSNmX2Zvcm1hdFwiXG4gIH0pKS5vcHRpb25hbCgpLFxuICBoZWlnaHQ6IGltcG9ydF96b2QyMi56LnVuaW9uKFtpbXBvcnRfem9kMjIuei5zdHJpbmcoKSwgaW1wb3J0X3pvZDIyLnoubnVtYmVyKCldKS5kZXNjcmliZShKU09OLnN0cmluZ2lmeSh7XG4gICAgdGV4dDogXCJIZWlnaHQgb2YgdGhlIGdpdmVuIGFzc2V0LlwiXG4gIH0pKS5vcHRpb25hbCgpLFxuICBxdWFsaXR5OiBpbXBvcnRfem9kMjIuei51bmlvbihbaW1wb3J0X3pvZDIyLnouc3RyaW5nKCksIGltcG9ydF96b2QyMi56Lm51bWJlcigpLCBpbXBvcnRfem9kMjIuei5zdHJpbmcoKV0pLmRlZmF1bHQoXCJhdXRvXCIpLmRlc2NyaWJlKEpTT04uc3RyaW5naWZ5KHtcbiAgICB0ZXh0OiBcIlF1YWxpdHkgb2YgdGhlIGRlbGl2ZXJlZCBhc3NldFwiLFxuICAgIHVybDogXCJodHRwczovL2Nsb3VkaW5hcnkuY29tL2RvY3VtZW50YXRpb24vdHJhbnNmb3JtYXRpb25fcmVmZXJlbmNlI3FfcXVhbGl0eVwiXG4gIH0pKS5vcHRpb25hbCgpLFxuICBzcmM6IGltcG9ydF96b2QyMi56LnN0cmluZygpLmRlc2NyaWJlKEpTT04uc3RyaW5naWZ5KHtcbiAgICB0ZXh0OiBcIkNsb3VkaW5hcnkgUHVibGljIElEIG9yIHZlcnNpb25lZCBDbG91ZGluYXJ5IFVSTCAoL3YxMjM0LylcIlxuICB9KSksXG4gIHN0cmljdFRyYW5zZm9ybWF0aW9uczogaW1wb3J0X3pvZDIyLnouYm9vbGVhbigpLmRlc2NyaWJlKEpTT04uc3RyaW5naWZ5KHtcbiAgICB0ZXh0OiBcIkdpdmVzIHlvdSB0aGUgYWJpbGl0eSB0byBoYXZlIG1vcmUgY29udHJvbCBvdmVyIHdoYXQgdHJhbnNmb3JtYXRpb25zIGFyZSBwZXJtaXR0ZWQgdG8gYmUgdXNlZCBmcm9tIHlvdXIgQ2xvdWRpbmFyeSBhY2NvdW50LlwiLFxuICAgIHVybDogXCJodHRwczovL2Nsb3VkaW5hcnkuY29tL2RvY3VtZW50YXRpb24vY29udHJvbF9hY2Nlc3NfdG9fbWVkaWEjc3RyaWN0X3RyYW5zZm9ybWF0aW9uc1wiXG4gIH0pKS5vcHRpb25hbCgpLFxuICB3aWR0aDogaW1wb3J0X3pvZDIyLnoudW5pb24oW2ltcG9ydF96b2QyMi56LnN0cmluZygpLCBpbXBvcnRfem9kMjIuei5udW1iZXIoKV0pLmRlc2NyaWJlKEpTT04uc3RyaW5naWZ5KHtcbiAgICB0ZXh0OiBcIldpZHRoIG9mIHRoZSBnaXZlbiBhc3NldC5cIlxuICB9KSkub3B0aW9uYWwoKSxcbiAgLy8gU3ByZWFkaW5nIHBsdWdpbnMgaW5zdGVhZCBvZiBleHRlbmQgb3IgbWVyZ2UgdG8gYXZvaWQgZXhjZXNzaXZlIHNjaGVtYSB3YXJuaW5nXG4gIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9taWNyb3NvZnQvVHlwZVNjcmlwdC9pc3N1ZXMvMzQ5MzMjaXNzdWVjb21tZW50LTE3NzI3ODc3ODVcbiAgLi4ucHJvcHMyLFxuICAuLi5wcm9wczQsXG4gIC4uLnByb3BzNixcbiAgLi4ucHJvcHM5LFxuICAuLi5wcm9wczEwLFxuICAuLi5wcm9wczExLFxuICAuLi5wcm9wczE0LFxuICAuLi5wcm9wczE2LFxuICAuLi5wcm9wczE3LFxuICAuLi5wcm9wczE4LFxuICAuLi5wcm9wczE5XG59KTtcblxuLy8gc3JjL3R5cGVzL2ltYWdlLnRzXG52YXIgaW1wb3J0X3pvZDIzID0gcmVxdWlyZShcInpvZFwiKTtcbnZhciBpbWFnZU9wdGlvbnNTY2hlbWEgPSBhc3NldE9wdGlvbnNTY2hlbWEubWVyZ2UoaW1wb3J0X3pvZDIzLnoub2JqZWN0KHtcbiAgLy8gU3ByZWFkaW5nIHBsdWdpbnMgaW5zdGVhZCBvZiBleHRlbmQgb3IgbWVyZ2UgdG8gYXZvaWQgZXhjZXNzaXZlIHNjaGVtYSB3YXJuaW5nXG4gIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9taWNyb3NvZnQvVHlwZVNjcmlwdC9pc3N1ZXMvMzQ5MzMjaXNzdWVjb21tZW50LTE3NzI3ODc3ODVcbiAgLi4ucHJvcHMzLFxuICAuLi5wcm9wczUsXG4gIC4uLnByb3BzNyxcbiAgLi4ucHJvcHMxMixcbiAgLi4ucHJvcHMxMyxcbiAgLi4ucHJvcHM4LFxuICAuLi5wcm9wczE1LFxuICAuLi5wcm9wczIwXG59KSk7XG5cbi8vIHNyYy90eXBlcy92aWRlby50c1xudmFyIGltcG9ydF96b2QyNCA9IHJlcXVpcmUoXCJ6b2RcIik7XG52YXIgdmlkZW9PcHRpb25zU2NoZW1hID0gYXNzZXRPcHRpb25zU2NoZW1hLm1lcmdlKGltcG9ydF96b2QyNC56Lm9iamVjdCh7XG4gIC8vIFNwcmVhZGluZyBwbHVnaW5zIGluc3RlYWQgb2YgZXh0ZW5kIG9yIG1lcmdlIHRvIGF2b2lkIGV4Y2Vzc2l2ZSBzY2hlbWEgd2FybmluZ1xuICAvLyBodHRwczovL2dpdGh1Yi5jb20vbWljcm9zb2Z0L1R5cGVTY3JpcHQvaXNzdWVzLzM0OTMzI2lzc3VlY29tbWVudC0xNzcyNzg3Nzg1XG4gIC4uLnByb3BzXG59KSk7XG5cbi8vIHNyYy90eXBlcy9hbmFseXRpY3MudHNcbnZhciBpbXBvcnRfem9kMjUgPSByZXF1aXJlKFwiem9kXCIpO1xudmFyIGFuYWx5dGljc09wdGlvbnNTY2hlbWEgPSBpbXBvcnRfem9kMjUuei5hbnkoKTtcblxuLy8gc3JjL3R5cGVzL2NvbmZpZy50c1xudmFyIGltcG9ydF96b2QyNiA9IHJlcXVpcmUoXCJ6b2RcIik7XG52YXIgY29uZmlnT3B0aW9uc1NjaGVtYSA9IGltcG9ydF96b2QyNi56LmFueSgpO1xuXG4vLyBzcmMvbGliL2Nsb3VkaW5hcnkudHNcbnZhciB0cmFuc2Zvcm1hdGlvblBsdWdpbnMgPSBbXG4gIC8vIFNvbWUgZmVhdHVyZXMgKm11c3QqIGJlIHRoZSBmaXJzdCB0cmFuc2Zvcm1hdGlvbiBhcHBsaWVkXG4gIC8vIHRodXMgdGhlaXIgcGx1Z2lucyAqbXVzdCogY29tZSBmaXJzdCBpbiB0aGUgY2hhaW5cbiAgZW5oYW5jZV9leHBvcnRzLFxuICByZWNvbG9yX2V4cG9ydHMsXG4gIHJlbW92ZV9iYWNrZ3JvdW5kX2V4cG9ydHMsXG4gIHJlbW92ZV9leHBvcnRzLFxuICByZXBsYWNlX2V4cG9ydHMsXG4gIHJlc3RvcmVfZXhwb3J0cyxcbiAgLy8gQ3JvcHBpbmcgbmVlZHMgdG8gYmUgYmVmb3JlIGFueSBvdGhlciBnZW5lcmFsIHRyYW5zZm9ybWF0aW9uc1xuICAvLyBhcyBpdCBwcm92aWRlcyB0aGUgb3B0aW9uIG9mIDItc3RlcCByZXNpemluZyB3aGVyZSBzb21lb25lXG4gIC8vIGNhbiByZXNpemUgdGhlIFwiYmFzZVwiIGNhbnZhcyBhcyB3ZWxsIGFzIHRoZSBmaW5hbCByZXNpemVcbiAgLy8gbWVjaGFuaXNtIGNvbW1vbmx5IHVzZWQgZm9yIHJlc3BvbnNpdmUgcmVzaXppbmdcbiAgY3JvcHBpbmdfZXhwb3J0cyxcbiAgLy8gUmF3IHRyYW5zZm9ybWF0aW9ucyBzaG91bGQgYWx3YXlzIGNvbWUgYmVmb3JlXG4gIC8vIG90aGVyIGFyZ3VtZW50cyB0byBhdm9pZCBjb25mbGljdGluZyB3aXRoXG4gIC8vIGFkZGVkIG9wdGlvbnMgdmlhIHRoZSBjb21wb25lbnRcbiAgcmF3X3RyYW5zZm9ybWF0aW9uc19leHBvcnRzLFxuICBhYnJfZXhwb3J0cyxcbiAgZGVmYXVsdF9pbWFnZV9leHBvcnRzLFxuICBlZmZlY3RzX2V4cG9ydHMsXG4gIGZpbGxfYmFja2dyb3VuZF9leHBvcnRzLFxuICBmbGFnc19leHBvcnRzLFxuICBvdmVybGF5c19leHBvcnRzLFxuICBzYW5pdGl6ZV9leHBvcnRzLFxuICBuYW1lZF90cmFuc2Zvcm1hdGlvbnNfZXhwb3J0cyxcbiAgc2VvX2V4cG9ydHMsXG4gIHVuZGVybGF5c19leHBvcnRzLFxuICB2ZXJzaW9uX2V4cG9ydHMsXG4gIHpvb21wYW5fZXhwb3J0c1xuXTtcbnZhciBjb25zdHJ1Y3RVcmxQcm9wc1NjaGVtYSA9IGltcG9ydF96b2QyNy56Lm9iamVjdCh7XG4gIGFuYWx5dGljczogaW1wb3J0X3pvZDI3LnoudW5pb24oW1xuICAgIGFuYWx5dGljc09wdGlvbnNTY2hlbWEsXG4gICAgaW1wb3J0X3pvZDI3LnouYm9vbGVhbigpXG4gIF0pLmRlc2NyaWJlKEpTT04uc3RyaW5naWZ5KHtcbiAgICB0ZXh0OiBcIlRlY2gsIGRlcGVuZGVuY3ksIGFuZCBmZWF0dXJlIGlkZW50aWZpZXJzIGZvciB0cmFja2luZyBTREsgdXNhZ2UgcmVsYXRlZCB0byBDbG91ZGluYXJ5LlwiLFxuICAgIHBhdGg6IFwiL3VybC1sb2FkZXIvYW5hbHl0aWNzb3B0aW9uc1wiXG4gIH0pKS5vcHRpb25hbCgpLFxuICBjb25maWc6IGNvbmZpZ09wdGlvbnNTY2hlbWEuZGVzY3JpYmUoSlNPTi5zdHJpbmdpZnkoe1xuICAgIHRleHQ6IFwiQ29uZmlndXJhdGlvbiBwYXJhbWV0ZXJzIGZvciBlbnZpcm9ubWVudCBhbmQgQ2xvdWRpbmFyeSBhY2NvdW50LlwiLFxuICAgIHVybDogXCJodHRwczovL2Nsb3VkaW5hcnkuY29tL2RvY3VtZW50YXRpb24vY2xvdWRpbmFyeV9zZGtzI2NvbmZpZ3VyYXRpb25fcGFyYW1ldGVyc1wiLFxuICAgIHBhdGg6IFwiL3VybC1sb2FkZXIvYW5hbHl0aWNzb3B0aW9uc1wiXG4gIH0pKS5vcHRpb25hbCgpLFxuICBvcHRpb25zOiBpbXBvcnRfem9kMjcuei51bmlvbihbXG4gICAgYXNzZXRPcHRpb25zU2NoZW1hLFxuICAgIGltYWdlT3B0aW9uc1NjaGVtYSxcbiAgICB2aWRlb09wdGlvbnNTY2hlbWFcbiAgXSkuZGVzY3JpYmUoSlNPTi5zdHJpbmdpZnkoe1xuICAgIHRleHQ6IFwiQXNzZXQgb3B0aW9ucyAoSW1hZ2Ugb3IgVmlkZW8pIHRoYXQgZGVmaW5lIGRlbGl2ZXJ5IFVSTCBpbmNsdWRpbmcgcHVibGljIElEIGFuZCB0cmFuc2Zvcm1hdGlvbnMuXCIsXG4gICAgcGF0aDogXCIvdXJsLWxvYWRlci9hc3NldG9wdGlvbnNcIlxuICB9KSlcbn0pO1xuZnVuY3Rpb24gY29uc3RydWN0Q2xvdWRpbmFyeVVybCh7IG9wdGlvbnMsIGNvbmZpZyA9IHt9LCBhbmFseXRpY3MgfSkge1xuICBpZiAoYW5hbHl0aWNzID09PSBmYWxzZSkge1xuICAgIGlmICh0eXBlb2YgY29uZmlnPy51cmwgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgIGNvbmZpZy51cmwgPSB7fTtcbiAgICB9XG4gICAgY29uZmlnLnVybC5hbmFseXRpY3MgPSBmYWxzZTtcbiAgfVxuICBjb25zdCBjbGQgPSBuZXcgaW1wb3J0X3VybF9nZW4uQ2xvdWRpbmFyeShjb25maWcpO1xuICBpZiAodHlwZW9mIG9wdGlvbnM/LnNyYyAhPT0gXCJzdHJpbmdcIikge1xuICAgIHRocm93IEVycm9yKGBGYWlsZWQgdG8gY29uc3RydWN0IENsb3VkaW5hcnkgVVJMOiBNaXNzaW5nIHNvdXJjZSAoc3JjKSBpbiBvcHRpb25zYCk7XG4gIH1cbiAgaWYgKCFvcHRpb25zPy5hc3NldFR5cGUpIHtcbiAgICBvcHRpb25zLmFzc2V0VHlwZSA9IFwiaW1hZ2VcIjtcbiAgfVxuICBjb25zdCBwcm9wc0NoZWNrID0gW107XG4gIHRyYW5zZm9ybWF0aW9uUGx1Z2lucy5mb3JFYWNoKCh7IHByb3BzOiBwcm9wczIxIH0pID0+IHtcbiAgICBjb25zdCBwbHVnaW5Qcm9wcyA9IE9iamVjdC5rZXlzKHByb3BzMjEpO1xuICAgIHBsdWdpblByb3BzLmZvckVhY2goKHByb3ApID0+IHtcbiAgICAgIGlmIChwcm9wc0NoZWNrLmluY2x1ZGVzKHByb3ApKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgT3B0aW9uICR7cHJvcH0gYWxyZWFkeSBleGlzdHMhYCk7XG4gICAgICB9XG4gICAgICBwcm9wc0NoZWNrLnB1c2gocHJvcCk7XG4gICAgfSk7XG4gIH0pO1xuICBjb25zdCBwYXJzZWRPcHRpb25zID0ge307XG4gIGxldCBwdWJsaWNJZDtcbiAgaWYgKHR5cGVvZiBvcHRpb25zLnNyYyA9PT0gXCJzdHJpbmdcIiAmJiAvXmh0dHBzPzpcXC9cXC8vLnRlc3Qob3B0aW9ucy5zcmMpKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHBhcnRzID0gKDAsIGltcG9ydF91dGlsNS5wYXJzZVVybCkob3B0aW9ucy5zcmMpO1xuICAgICAgcHVibGljSWQgPSBwYXJ0cz8ucHVibGljSWQ7XG4gICAgICBwYXJzZWRPcHRpb25zLnNlb1N1ZmZpeCA9IHBhcnRzPy5zZW9TdWZmaXg7XG4gICAgICBwYXJzZWRPcHRpb25zLnZlcnNpb24gPSBwYXJ0cz8udmVyc2lvbjtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgfVxuICB9XG4gIGlmICghcHVibGljSWQpIHtcbiAgICBwdWJsaWNJZCA9IG9wdGlvbnMuc3JjO1xuICB9XG4gIE9iamVjdC5rZXlzKHBhcnNlZE9wdGlvbnMpLmZvckVhY2goKGtleSkgPT4ge1xuICAgIGlmICgoMCwgaW1wb3J0X3V0aWw1Lm9iamVjdEhhc0tleSkob3B0aW9ucywga2V5KSlcbiAgICAgIHJldHVybjtcbiAgICBvcHRpb25zW2tleV0gPSBwYXJzZWRPcHRpb25zW2tleV07XG4gIH0pO1xuICBsZXQgY2xkQXNzZXQgPSB2b2lkIDA7XG4gIGlmIChbXCJpbWFnZVwiLCBcImltYWdlc1wiXS5pbmNsdWRlcyhvcHRpb25zLmFzc2V0VHlwZSkpIHtcbiAgICBjbGRBc3NldCA9IGNsZC5pbWFnZShwdWJsaWNJZCk7XG4gIH0gZWxzZSBpZiAoW1widmlkZW9cIiwgXCJ2aWRlb3NcIl0uaW5jbHVkZXMob3B0aW9ucy5hc3NldFR5cGUpKSB7XG4gICAgY2xkQXNzZXQgPSBjbGQudmlkZW8ocHVibGljSWQpO1xuICB9XG4gIGlmICh0eXBlb2YgY2xkQXNzZXQgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGFzc2V0IHR5cGUuXCIpO1xuICB9XG4gIGNvbnN0IHBsdWdpbkVmZmVjdHMgPSB7fTtcbiAgdHJhbnNmb3JtYXRpb25QbHVnaW5zLmZvckVhY2goKHsgcGx1Z2luOiBwbHVnaW4yMSwgYXNzZXRUeXBlczogYXNzZXRUeXBlczIxLCBwcm9wczogcHJvcHMyMSwgc3RyaWN0OiBzdHJpY3QyIH0pID0+IHtcbiAgICBjb25zdCBzdXBwb3J0ZWRBc3NldFR5cGUgPSB0eXBlb2Ygb3B0aW9ucz8uYXNzZXRUeXBlICE9PSBcInVuZGVmaW5lZFwiICYmIGFzc2V0VHlwZXMyMS5pbmNsdWRlcyhvcHRpb25zPy5hc3NldFR5cGUpO1xuICAgIGNvbnN0IHBsdWdpblByb3BzID0gT2JqZWN0LmtleXMocHJvcHMyMSk7XG4gICAgY29uc3Qgb3B0aW9uc0tleXMgPSBPYmplY3Qua2V5cyhvcHRpb25zKTtcbiAgICBjb25zdCBhdHRlbXB0ZWRVc2UgPSBwbHVnaW5Qcm9wcy5tYXAoKHByb3ApID0+IG9wdGlvbnNLZXlzLmluY2x1ZGVzKHByb3ApKS5maWx0ZXIoKGlzVXNlZCkgPT4gISFpc1VzZWQpLmxlbmd0aCA+IDA7XG4gICAgaWYgKCFzdXBwb3J0ZWRBc3NldFR5cGUpIHtcbiAgICAgIGlmIChhdHRlbXB0ZWRVc2UpIHtcbiAgICAgICAgY29uc29sZS53YXJuKGBPbmUgb2YgdGhlIGZvbGxvd2luZyBwcm9wcyBbJHtwbHVnaW5Qcm9wcy5qb2luKFwiLCBcIil9XSB3YXMgdXNlZCB3aXRoIGFuIHVuc3VwcG9ydGVkIGFzc2V0IHR5cGUgWyR7b3B0aW9ucz8uYXNzZXRUeXBlfV1gKTtcbiAgICAgIH1cbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKG9wdGlvbnMuc3RyaWN0VHJhbnNmb3JtYXRpb25zICYmICFzdHJpY3QyKSB7XG4gICAgICBpZiAoYXR0ZW1wdGVkVXNlKSB7XG4gICAgICAgIGNvbnNvbGUud2FybihgT25lIG9mIHRoZSBmb2xsb3dpbmcgcHJvcHMgWyR7cGx1Z2luUHJvcHMuam9pbihcIiwgXCIpfV0gd2FzIHVzZWQgdGhhdCBpcyBub3Qgc3VwcG9ydGVkIHdpdGggU3RyaWN0IFRyYW5zZm9ybWF0aW9ucy5gKTtcbiAgICAgIH1cbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgcmVzdWx0cyA9IHBsdWdpbjIxKHtcbiAgICAgIGNsZEFzc2V0LFxuICAgICAgb3B0aW9uc1xuICAgIH0pO1xuICAgIGNvbnN0IHsgb3B0aW9uczogcGx1Z2luT3B0aW9ucyB9ID0gcmVzdWx0cyB8fCB7IG9wdGlvbnM6IHZvaWQgMCB9O1xuICAgIE9iamVjdC5hc3NpZ24ocGx1Z2luRWZmZWN0cywgcGx1Z2luT3B0aW9ucyk7XG4gIH0pO1xuICBpZiAodHlwZW9mIHBsdWdpbkVmZmVjdHMucmVzaXplID09PSBcInN0cmluZ1wiKSB7XG4gICAgY2xkQXNzZXQuYWRkVHJhbnNmb3JtYXRpb24ocGx1Z2luRWZmZWN0cy5yZXNpemUpO1xuICB9XG4gIGNsZEFzc2V0LnNldERlbGl2ZXJ5VHlwZShvcHRpb25zPy5kZWxpdmVyeVR5cGUgfHwgXCJ1cGxvYWRcIik7XG4gIGlmICghb3B0aW9ucy5zdHJpY3RUcmFuc2Zvcm1hdGlvbnMpIHtcbiAgICBpZiAob3B0aW9ucz8uZHByKSB7XG4gICAgICBsZXQgZHByID0gb3B0aW9ucy5kcHI7XG4gICAgICBpZiAodHlwZW9mIGRwciA9PT0gXCJudW1iZXJcIikge1xuICAgICAgICBkcHIgPSBkcHIudG9GaXhlZCgxKTtcbiAgICAgIH1cbiAgICAgIGNsZEFzc2V0LmFkZFRyYW5zZm9ybWF0aW9uKGBkcHJfJHtkcHJ9YCk7XG4gICAgfVxuICAgIGNvbnN0IGRlZmF1bHRGb3JtYXQgPSBvcHRpb25zPy5mb3JtYXQgPT09IFwiZGVmYXVsdFwiO1xuICAgIGNvbnN0IHJhd0NvbnRhaW5zRm9ybWF0ID0gc2VhcmNoQXNzZXRSYXdUcmFuc2Zvcm1hdGlvbnMoXCJmX1wiLCBjbGRBc3NldCwgeyBtYXRjaFR5cGU6IFwic3RhcnRzV2l0aFwiIH0pO1xuICAgIGNvbnN0IHJhd0NvbnRhaW5zRm9ybWF0QW5kRXhwbGljaXQgPSByYXdDb250YWluc0Zvcm1hdCAmJiB0eXBlb2Ygb3B0aW9ucz8uZm9ybWF0ICE9PSBcInVuZGVmaW5lZFwiO1xuICAgIGlmIChwbHVnaW5FZmZlY3RzPy5mb3JtYXQgfHwgIWRlZmF1bHRGb3JtYXQgJiYgKCFyYXdDb250YWluc0Zvcm1hdCB8fCByYXdDb250YWluc0Zvcm1hdEFuZEV4cGxpY2l0KSkge1xuICAgICAgY2xkQXNzZXQuZm9ybWF0KG9wdGlvbnM/LmZvcm1hdCB8fCBwbHVnaW5FZmZlY3RzPy5mb3JtYXQgfHwgXCJhdXRvXCIpO1xuICAgIH1cbiAgICBjb25zdCBkZWZhdWx0UXVhbGl0eSA9IG9wdGlvbnM/LnF1YWxpdHkgPT09IFwiZGVmYXVsdFwiO1xuICAgIGNvbnN0IHJhd0NvbnRhaW5zUXVhbGl0eSA9IHNlYXJjaEFzc2V0UmF3VHJhbnNmb3JtYXRpb25zKFwicV9cIiwgY2xkQXNzZXQsIHsgbWF0Y2hUeXBlOiBcInN0YXJ0c1dpdGhcIiB9KTtcbiAgICBjb25zdCByYXdDb250YWluc1F1YWxpdHlBbmRFeHBsaWNpdCA9IHJhd0NvbnRhaW5zUXVhbGl0eSAmJiB0eXBlb2Ygb3B0aW9ucz8ucXVhbGl0eSAhPT0gXCJ1bmRlZmluZWRcIjtcbiAgICBpZiAoIWRlZmF1bHRRdWFsaXR5ICYmICghcmF3Q29udGFpbnNRdWFsaXR5IHx8IHJhd0NvbnRhaW5zUXVhbGl0eUFuZEV4cGxpY2l0KSkge1xuICAgICAgY2xkQXNzZXQucXVhbGl0eShvcHRpb25zPy5xdWFsaXR5IHx8IFwiYXV0b1wiKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGNsZEFzc2V0LnRvVVJMKHtcbiAgICB0cmFja2VkQW5hbHl0aWNzOiBhbmFseXRpY3NcbiAgfSk7XG59XG5mdW5jdGlvbiBzZWFyY2hBc3NldFJhd1RyYW5zZm9ybWF0aW9ucyhxdWVyeSwgYXNzZXQsIG9wdGlvbnMpIHtcbiAgaWYgKHR5cGVvZiBhc3NldC50cmFuc2Zvcm1hdGlvbiA9PT0gXCJ1bmRlZmluZWRcIilcbiAgICByZXR1cm47XG4gIGNvbnN0IHsgbWF0Y2hUeXBlID0gXCJpbmNsdWRlc1wiIH0gPSBvcHRpb25zIHx8IHt9O1xuICBjb25zdCB0cmFuc2Zvcm1hdGlvbnMgPSBhc3NldC50cmFuc2Zvcm1hdGlvbi5hY3Rpb25zLmZsYXRNYXAoKHRyYW5zZm9ybWF0aW9uKSA9PiB7XG4gICAgcmV0dXJuIHRyYW5zZm9ybWF0aW9uLnRvU3RyaW5nKCkuc3BsaXQoXCIvXCIpLmZsYXRNYXAoKHNlZykgPT4gc2VnLnNwbGl0KFwiLFwiKSk7XG4gIH0pO1xuICBjb25zdCBtYXRjaGVzID0gdHJhbnNmb3JtYXRpb25zLmZpbHRlcigodHJhbnNmb3JtYXRpb24pID0+IHtcbiAgICBpZiAobWF0Y2hUeXBlID09PSBcInN0YXJ0c1dpdGhcIikge1xuICAgICAgcmV0dXJuIHRyYW5zZm9ybWF0aW9uLnN0YXJ0c1dpdGgocXVlcnkpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdHJhbnNmb3JtYXRpb24uaW5jbHVkZXMocXVlcnkpO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiBtYXRjaGVzLmxlbmd0aCA+IDA7XG59XG4vLyBBbm5vdGF0ZSB0aGUgQ29tbW9uSlMgZXhwb3J0IG5hbWVzIGZvciBFU00gaW1wb3J0IGluIG5vZGU6XG4wICYmIChtb2R1bGUuZXhwb3J0cyA9IHtcbiAgY29uc3RydWN0Q2xvdWRpbmFyeVVybCxcbiAgZWZmZWN0cyxcbiAgcG9zaXRpb24sXG4gIHByaW1hcnksXG4gIHRleHQsXG4gIHRyYW5zZm9ybWF0aW9uUGx1Z2luc1xufSk7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@cloudinary-util/url-loader/dist/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@cloudinary-util/util/dist/index.js":
/*!**********************************************************!*\
  !*** ./node_modules/@cloudinary-util/util/dist/index.js ***!
  \**********************************************************/
/***/ ((module) => {

eval("\nvar __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __export = (target, all) => {\n  for (var name in all)\n    __defProp(target, name, { get: all[name], enumerable: true });\n};\nvar __copyProps = (to, from, except, desc) => {\n  if (from && typeof from === \"object\" || typeof from === \"function\") {\n    for (let key of __getOwnPropNames(from))\n      if (!__hasOwnProp.call(to, key) && key !== except)\n        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });\n  }\n  return to;\n};\nvar __toCommonJS = (mod) => __copyProps(__defProp({}, \"__esModule\", { value: true }), mod);\n\n// src/index.ts\nvar src_exports = {};\n__export(src_exports, {\n  convertColorHexToRgb: () => convertColorHexToRgb,\n  encodeBase64: () => encodeBase64,\n  getFormat: () => getFormat,\n  getPublicId: () => getPublicId,\n  getTransformations: () => getTransformations,\n  objectHasKey: () => objectHasKey,\n  parseUrl: () => parseUrl,\n  sortByKey: () => sortByKey,\n  testColorIsHex: () => testColorIsHex\n});\nmodule.exports = __toCommonJS(src_exports);\n\n// src/lib/cloudinary.ts\nvar REGEX_VERSION = /\\/v\\d+\\//;\nvar REGEX_FORMAT = /\\.(ai|avif|gif|png|webp|bmp|bw|djvu|dng|ps|ept|eps|eps3|fbx|flif|gif|glb|gltf|heif|heic|ico|indd|jpg|jpe|jpeg|jp2|wdp|jxr|hdp|obj|pdf|ply|png|psd|arw|cr2|svg|tga|tif|tiff|u3ma|usdz|webp|3g2|3gp|avi|flv|m3u8|ts|m2ts|mts|mov|mkv|mp4|mpeg|mpd|mxf|ogv|webm|wmv)$/i;\nvar REGEX_URL = /https?:\\/\\/(?<host>[^\\/]+)\\/(?<cloudName>[^\\/]+)\\/(?<assetType>image|images|video|videos|raw|files)\\/(?<deliveryType>upload|fetch|private|authenticated|sprite|facebook|twitter|youtube|vimeo)?\\/?(?<signature>s--([a-zA-Z0-9\\_\\-]{8}|[a-zA-Z0-9\\_\\-]{32})--)?\\/?(?<transformations>(?:[^_\\/]+_[^,\\/]+,?\\/?)*\\/)*(?<version>v\\d+|\\w{1,2})\\/(?<publicId>[^\\s]+)$/;\nvar ASSET_TYPES_SEO = [\"images\", \"videos\", \"files\"];\nfunction parseUrl(src) {\n  var _a, _b, _c, _d;\n  if (typeof src !== \"string\") {\n    throw new Error(`Failed to parse URL: Invalid src of type ${typeof src}`);\n  }\n  const hasVersion = REGEX_VERSION.test(src);\n  if (!hasVersion) {\n    throw new Error(`Invalid src: Does not include version (Ex: /v1234/)`);\n  }\n  const [baseUrlWithExtension, queryString] = src.split(\"?\");\n  const format = getFormat(baseUrlWithExtension);\n  let baseUrl = baseUrlWithExtension;\n  if (format) {\n    baseUrl = baseUrlWithExtension.replace(new RegExp(`${format}$`), \"\");\n  }\n  const results = baseUrl.match(REGEX_URL);\n  const transformations = (_b = (_a = results == null ? void 0 : results.groups) == null ? void 0 : _a.transformations) == null ? void 0 : _b.split(\"/\").filter((t) => !!t);\n  const parts = {\n    ...results == null ? void 0 : results.groups,\n    format,\n    seoSuffix: void 0,\n    transformations: transformations || [],\n    queryParams: {},\n    version: ((_c = results == null ? void 0 : results.groups) == null ? void 0 : _c.version) ? parseInt(results.groups.version.replace(\"v\", \"\")) : void 0\n  };\n  if (queryString) {\n    parts.queryParams = queryString.split(\"&\").reduce((prev, curr) => {\n      const [key, value] = curr.split(\"=\");\n      prev[key] = value;\n      return prev;\n    }, {});\n  }\n  if (parts.assetType && ASSET_TYPES_SEO.includes(parts.assetType)) {\n    const publicIdParts = ((_d = parts.publicId) == null ? void 0 : _d.split(\"/\")) || [];\n    parts.seoSuffix = publicIdParts.pop();\n    parts.publicId = publicIdParts.join(\"/\");\n  }\n  if (parts.publicId) {\n    parts.publicId = decodeURIComponent(parts.publicId);\n  }\n  return parts;\n}\nfunction getPublicId(src) {\n  const { publicId } = parseUrl(src) || {};\n  return publicId;\n}\nfunction getTransformations(src) {\n  const { transformations = [] } = parseUrl(src) || {};\n  return transformations.map((t) => t.split(\",\"));\n}\nfunction getFormat(src) {\n  const matches = src.match(REGEX_FORMAT);\n  if (matches === null)\n    return;\n  return matches[0];\n}\n\n// src/lib/colors.ts\nfunction testColorIsHex(value) {\n  if (typeof value !== \"string\")\n    return false;\n  return !!value.startsWith(\"#\");\n}\nfunction convertColorHexToRgb(value) {\n  return `rgb:${value.replace(\"#\", \"\")}`;\n}\n\n// src/lib/util.ts\nfunction encodeBase64(value) {\n  if (typeof btoa === \"function\") {\n    return btoa(value);\n  }\n  if (typeof Buffer !== \"undefined\") {\n    return Buffer.from(value).toString(\"base64\");\n  }\n}\nfunction objectHasKey(obj, key) {\n  return Object.prototype.hasOwnProperty.call(obj, key);\n}\nfunction sortByKey(array = [], key, type = \"asc\") {\n  function compare(a, b) {\n    let keyA = a[key];\n    let keyB = b[key];\n    if (typeof keyA === \"string\") {\n      keyA = keyA.toLowerCase();\n    }\n    if (typeof keyB === \"string\") {\n      keyB = keyB.toLowerCase();\n    }\n    if (keyA < keyB) {\n      return -1;\n    }\n    if (keyA > keyB) {\n      return 1;\n    }\n    return 0;\n  }\n  let newArray = [...array];\n  if (typeof key !== \"string\")\n    return newArray;\n  newArray = newArray.sort(compare);\n  if (type === \"desc\") {\n    return newArray.reverse();\n  }\n  return newArray;\n}\n// Annotate the CommonJS export names for ESM import in node:\n0 && (0);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGNsb3VkaW5hcnktdXRpbC91dGlsL2Rpc3QvaW5kZXguanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIsa0NBQWtDO0FBQ2hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsNEZBQTRGO0FBQ3pIO0FBQ0E7QUFDQTtBQUNBLG9EQUFvRCxrQkFBa0IsYUFBYTs7QUFFbkY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEOztBQUVBO0FBQ0E7QUFDQTtBQUNBLG9QQUFvUCxFQUFFLGlCQUFpQixHQUFHLDJFQUEyRSxJQUFJO0FBQ3pWO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0VBQWdFLFdBQVc7QUFDM0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseURBQXlELE9BQU87QUFDaEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQjtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUssSUFBSTtBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsV0FBVztBQUNyQjtBQUNBO0FBQ0E7QUFDQSxVQUFVLHVCQUF1QjtBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLHVCQUF1QjtBQUN2Qzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU0sQ0FVTCIsInNvdXJjZXMiOlsid2VicGFjazovL3ZhY2NpbmUtYm9vay1hcHAvLi9ub2RlX21vZHVsZXMvQGNsb3VkaW5hcnktdXRpbC91dGlsL2Rpc3QvaW5kZXguanM/YWFmNyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2RlZlByb3AgPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7XG52YXIgX19nZXRPd25Qcm9wRGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7XG52YXIgX19nZXRPd25Qcm9wTmFtZXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcztcbnZhciBfX2hhc093blByb3AgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xudmFyIF9fZXhwb3J0ID0gKHRhcmdldCwgYWxsKSA9PiB7XG4gIGZvciAodmFyIG5hbWUgaW4gYWxsKVxuICAgIF9fZGVmUHJvcCh0YXJnZXQsIG5hbWUsIHsgZ2V0OiBhbGxbbmFtZV0sIGVudW1lcmFibGU6IHRydWUgfSk7XG59O1xudmFyIF9fY29weVByb3BzID0gKHRvLCBmcm9tLCBleGNlcHQsIGRlc2MpID0+IHtcbiAgaWYgKGZyb20gJiYgdHlwZW9mIGZyb20gPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGZyb20gPT09IFwiZnVuY3Rpb25cIikge1xuICAgIGZvciAobGV0IGtleSBvZiBfX2dldE93blByb3BOYW1lcyhmcm9tKSlcbiAgICAgIGlmICghX19oYXNPd25Qcm9wLmNhbGwodG8sIGtleSkgJiYga2V5ICE9PSBleGNlcHQpXG4gICAgICAgIF9fZGVmUHJvcCh0bywga2V5LCB7IGdldDogKCkgPT4gZnJvbVtrZXldLCBlbnVtZXJhYmxlOiAhKGRlc2MgPSBfX2dldE93blByb3BEZXNjKGZyb20sIGtleSkpIHx8IGRlc2MuZW51bWVyYWJsZSB9KTtcbiAgfVxuICByZXR1cm4gdG87XG59O1xudmFyIF9fdG9Db21tb25KUyA9IChtb2QpID0+IF9fY29weVByb3BzKF9fZGVmUHJvcCh7fSwgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSksIG1vZCk7XG5cbi8vIHNyYy9pbmRleC50c1xudmFyIHNyY19leHBvcnRzID0ge307XG5fX2V4cG9ydChzcmNfZXhwb3J0cywge1xuICBjb252ZXJ0Q29sb3JIZXhUb1JnYjogKCkgPT4gY29udmVydENvbG9ySGV4VG9SZ2IsXG4gIGVuY29kZUJhc2U2NDogKCkgPT4gZW5jb2RlQmFzZTY0LFxuICBnZXRGb3JtYXQ6ICgpID0+IGdldEZvcm1hdCxcbiAgZ2V0UHVibGljSWQ6ICgpID0+IGdldFB1YmxpY0lkLFxuICBnZXRUcmFuc2Zvcm1hdGlvbnM6ICgpID0+IGdldFRyYW5zZm9ybWF0aW9ucyxcbiAgb2JqZWN0SGFzS2V5OiAoKSA9PiBvYmplY3RIYXNLZXksXG4gIHBhcnNlVXJsOiAoKSA9PiBwYXJzZVVybCxcbiAgc29ydEJ5S2V5OiAoKSA9PiBzb3J0QnlLZXksXG4gIHRlc3RDb2xvcklzSGV4OiAoKSA9PiB0ZXN0Q29sb3JJc0hleFxufSk7XG5tb2R1bGUuZXhwb3J0cyA9IF9fdG9Db21tb25KUyhzcmNfZXhwb3J0cyk7XG5cbi8vIHNyYy9saWIvY2xvdWRpbmFyeS50c1xudmFyIFJFR0VYX1ZFUlNJT04gPSAvXFwvdlxcZCtcXC8vO1xudmFyIFJFR0VYX0ZPUk1BVCA9IC9cXC4oYWl8YXZpZnxnaWZ8cG5nfHdlYnB8Ym1wfGJ3fGRqdnV8ZG5nfHBzfGVwdHxlcHN8ZXBzM3xmYnh8ZmxpZnxnaWZ8Z2xifGdsdGZ8aGVpZnxoZWljfGljb3xpbmRkfGpwZ3xqcGV8anBlZ3xqcDJ8d2RwfGp4cnxoZHB8b2JqfHBkZnxwbHl8cG5nfHBzZHxhcnd8Y3IyfHN2Z3x0Z2F8dGlmfHRpZmZ8dTNtYXx1c2R6fHdlYnB8M2cyfDNncHxhdml8Zmx2fG0zdTh8dHN8bTJ0c3xtdHN8bW92fG1rdnxtcDR8bXBlZ3xtcGR8bXhmfG9ndnx3ZWJtfHdtdikkL2k7XG52YXIgUkVHRVhfVVJMID0gL2h0dHBzPzpcXC9cXC8oPzxob3N0PlteXFwvXSspXFwvKD88Y2xvdWROYW1lPlteXFwvXSspXFwvKD88YXNzZXRUeXBlPmltYWdlfGltYWdlc3x2aWRlb3x2aWRlb3N8cmF3fGZpbGVzKVxcLyg/PGRlbGl2ZXJ5VHlwZT51cGxvYWR8ZmV0Y2h8cHJpdmF0ZXxhdXRoZW50aWNhdGVkfHNwcml0ZXxmYWNlYm9va3x0d2l0dGVyfHlvdXR1YmV8dmltZW8pP1xcLz8oPzxzaWduYXR1cmU+cy0tKFthLXpBLVowLTlcXF9cXC1dezh9fFthLXpBLVowLTlcXF9cXC1dezMyfSktLSk/XFwvPyg/PHRyYW5zZm9ybWF0aW9ucz4oPzpbXl9cXC9dK19bXixcXC9dKyw/XFwvPykqXFwvKSooPzx2ZXJzaW9uPnZcXGQrfFxcd3sxLDJ9KVxcLyg/PHB1YmxpY0lkPlteXFxzXSspJC87XG52YXIgQVNTRVRfVFlQRVNfU0VPID0gW1wiaW1hZ2VzXCIsIFwidmlkZW9zXCIsIFwiZmlsZXNcIl07XG5mdW5jdGlvbiBwYXJzZVVybChzcmMpIHtcbiAgdmFyIF9hLCBfYiwgX2MsIF9kO1xuICBpZiAodHlwZW9mIHNyYyAhPT0gXCJzdHJpbmdcIikge1xuICAgIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIHBhcnNlIFVSTDogSW52YWxpZCBzcmMgb2YgdHlwZSAke3R5cGVvZiBzcmN9YCk7XG4gIH1cbiAgY29uc3QgaGFzVmVyc2lvbiA9IFJFR0VYX1ZFUlNJT04udGVzdChzcmMpO1xuICBpZiAoIWhhc1ZlcnNpb24pIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgc3JjOiBEb2VzIG5vdCBpbmNsdWRlIHZlcnNpb24gKEV4OiAvdjEyMzQvKWApO1xuICB9XG4gIGNvbnN0IFtiYXNlVXJsV2l0aEV4dGVuc2lvbiwgcXVlcnlTdHJpbmddID0gc3JjLnNwbGl0KFwiP1wiKTtcbiAgY29uc3QgZm9ybWF0ID0gZ2V0Rm9ybWF0KGJhc2VVcmxXaXRoRXh0ZW5zaW9uKTtcbiAgbGV0IGJhc2VVcmwgPSBiYXNlVXJsV2l0aEV4dGVuc2lvbjtcbiAgaWYgKGZvcm1hdCkge1xuICAgIGJhc2VVcmwgPSBiYXNlVXJsV2l0aEV4dGVuc2lvbi5yZXBsYWNlKG5ldyBSZWdFeHAoYCR7Zm9ybWF0fSRgKSwgXCJcIik7XG4gIH1cbiAgY29uc3QgcmVzdWx0cyA9IGJhc2VVcmwubWF0Y2goUkVHRVhfVVJMKTtcbiAgY29uc3QgdHJhbnNmb3JtYXRpb25zID0gKF9iID0gKF9hID0gcmVzdWx0cyA9PSBudWxsID8gdm9pZCAwIDogcmVzdWx0cy5ncm91cHMpID09IG51bGwgPyB2b2lkIDAgOiBfYS50cmFuc2Zvcm1hdGlvbnMpID09IG51bGwgPyB2b2lkIDAgOiBfYi5zcGxpdChcIi9cIikuZmlsdGVyKCh0KSA9PiAhIXQpO1xuICBjb25zdCBwYXJ0cyA9IHtcbiAgICAuLi5yZXN1bHRzID09IG51bGwgPyB2b2lkIDAgOiByZXN1bHRzLmdyb3VwcyxcbiAgICBmb3JtYXQsXG4gICAgc2VvU3VmZml4OiB2b2lkIDAsXG4gICAgdHJhbnNmb3JtYXRpb25zOiB0cmFuc2Zvcm1hdGlvbnMgfHwgW10sXG4gICAgcXVlcnlQYXJhbXM6IHt9LFxuICAgIHZlcnNpb246ICgoX2MgPSByZXN1bHRzID09IG51bGwgPyB2b2lkIDAgOiByZXN1bHRzLmdyb3VwcykgPT0gbnVsbCA/IHZvaWQgMCA6IF9jLnZlcnNpb24pID8gcGFyc2VJbnQocmVzdWx0cy5ncm91cHMudmVyc2lvbi5yZXBsYWNlKFwidlwiLCBcIlwiKSkgOiB2b2lkIDBcbiAgfTtcbiAgaWYgKHF1ZXJ5U3RyaW5nKSB7XG4gICAgcGFydHMucXVlcnlQYXJhbXMgPSBxdWVyeVN0cmluZy5zcGxpdChcIiZcIikucmVkdWNlKChwcmV2LCBjdXJyKSA9PiB7XG4gICAgICBjb25zdCBba2V5LCB2YWx1ZV0gPSBjdXJyLnNwbGl0KFwiPVwiKTtcbiAgICAgIHByZXZba2V5XSA9IHZhbHVlO1xuICAgICAgcmV0dXJuIHByZXY7XG4gICAgfSwge30pO1xuICB9XG4gIGlmIChwYXJ0cy5hc3NldFR5cGUgJiYgQVNTRVRfVFlQRVNfU0VPLmluY2x1ZGVzKHBhcnRzLmFzc2V0VHlwZSkpIHtcbiAgICBjb25zdCBwdWJsaWNJZFBhcnRzID0gKChfZCA9IHBhcnRzLnB1YmxpY0lkKSA9PSBudWxsID8gdm9pZCAwIDogX2Quc3BsaXQoXCIvXCIpKSB8fCBbXTtcbiAgICBwYXJ0cy5zZW9TdWZmaXggPSBwdWJsaWNJZFBhcnRzLnBvcCgpO1xuICAgIHBhcnRzLnB1YmxpY0lkID0gcHVibGljSWRQYXJ0cy5qb2luKFwiL1wiKTtcbiAgfVxuICBpZiAocGFydHMucHVibGljSWQpIHtcbiAgICBwYXJ0cy5wdWJsaWNJZCA9IGRlY29kZVVSSUNvbXBvbmVudChwYXJ0cy5wdWJsaWNJZCk7XG4gIH1cbiAgcmV0dXJuIHBhcnRzO1xufVxuZnVuY3Rpb24gZ2V0UHVibGljSWQoc3JjKSB7XG4gIGNvbnN0IHsgcHVibGljSWQgfSA9IHBhcnNlVXJsKHNyYykgfHwge307XG4gIHJldHVybiBwdWJsaWNJZDtcbn1cbmZ1bmN0aW9uIGdldFRyYW5zZm9ybWF0aW9ucyhzcmMpIHtcbiAgY29uc3QgeyB0cmFuc2Zvcm1hdGlvbnMgPSBbXSB9ID0gcGFyc2VVcmwoc3JjKSB8fCB7fTtcbiAgcmV0dXJuIHRyYW5zZm9ybWF0aW9ucy5tYXAoKHQpID0+IHQuc3BsaXQoXCIsXCIpKTtcbn1cbmZ1bmN0aW9uIGdldEZvcm1hdChzcmMpIHtcbiAgY29uc3QgbWF0Y2hlcyA9IHNyYy5tYXRjaChSRUdFWF9GT1JNQVQpO1xuICBpZiAobWF0Y2hlcyA9PT0gbnVsbClcbiAgICByZXR1cm47XG4gIHJldHVybiBtYXRjaGVzWzBdO1xufVxuXG4vLyBzcmMvbGliL2NvbG9ycy50c1xuZnVuY3Rpb24gdGVzdENvbG9ySXNIZXgodmFsdWUpIHtcbiAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gXCJzdHJpbmdcIilcbiAgICByZXR1cm4gZmFsc2U7XG4gIHJldHVybiAhIXZhbHVlLnN0YXJ0c1dpdGgoXCIjXCIpO1xufVxuZnVuY3Rpb24gY29udmVydENvbG9ySGV4VG9SZ2IodmFsdWUpIHtcbiAgcmV0dXJuIGByZ2I6JHt2YWx1ZS5yZXBsYWNlKFwiI1wiLCBcIlwiKX1gO1xufVxuXG4vLyBzcmMvbGliL3V0aWwudHNcbmZ1bmN0aW9uIGVuY29kZUJhc2U2NCh2YWx1ZSkge1xuICBpZiAodHlwZW9mIGJ0b2EgPT09IFwiZnVuY3Rpb25cIikge1xuICAgIHJldHVybiBidG9hKHZhbHVlKTtcbiAgfVxuICBpZiAodHlwZW9mIEJ1ZmZlciAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgIHJldHVybiBCdWZmZXIuZnJvbSh2YWx1ZSkudG9TdHJpbmcoXCJiYXNlNjRcIik7XG4gIH1cbn1cbmZ1bmN0aW9uIG9iamVjdEhhc0tleShvYmosIGtleSkge1xuICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KTtcbn1cbmZ1bmN0aW9uIHNvcnRCeUtleShhcnJheSA9IFtdLCBrZXksIHR5cGUgPSBcImFzY1wiKSB7XG4gIGZ1bmN0aW9uIGNvbXBhcmUoYSwgYikge1xuICAgIGxldCBrZXlBID0gYVtrZXldO1xuICAgIGxldCBrZXlCID0gYltrZXldO1xuICAgIGlmICh0eXBlb2Yga2V5QSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAga2V5QSA9IGtleUEudG9Mb3dlckNhc2UoKTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBrZXlCID09PSBcInN0cmluZ1wiKSB7XG4gICAgICBrZXlCID0ga2V5Qi50b0xvd2VyQ2FzZSgpO1xuICAgIH1cbiAgICBpZiAoa2V5QSA8IGtleUIpIHtcbiAgICAgIHJldHVybiAtMTtcbiAgICB9XG4gICAgaWYgKGtleUEgPiBrZXlCKSB7XG4gICAgICByZXR1cm4gMTtcbiAgICB9XG4gICAgcmV0dXJuIDA7XG4gIH1cbiAgbGV0IG5ld0FycmF5ID0gWy4uLmFycmF5XTtcbiAgaWYgKHR5cGVvZiBrZXkgIT09IFwic3RyaW5nXCIpXG4gICAgcmV0dXJuIG5ld0FycmF5O1xuICBuZXdBcnJheSA9IG5ld0FycmF5LnNvcnQoY29tcGFyZSk7XG4gIGlmICh0eXBlID09PSBcImRlc2NcIikge1xuICAgIHJldHVybiBuZXdBcnJheS5yZXZlcnNlKCk7XG4gIH1cbiAgcmV0dXJuIG5ld0FycmF5O1xufVxuLy8gQW5ub3RhdGUgdGhlIENvbW1vbkpTIGV4cG9ydCBuYW1lcyBmb3IgRVNNIGltcG9ydCBpbiBub2RlOlxuMCAmJiAobW9kdWxlLmV4cG9ydHMgPSB7XG4gIGNvbnZlcnRDb2xvckhleFRvUmdiLFxuICBlbmNvZGVCYXNlNjQsXG4gIGdldEZvcm1hdCxcbiAgZ2V0UHVibGljSWQsXG4gIGdldFRyYW5zZm9ybWF0aW9ucyxcbiAgb2JqZWN0SGFzS2V5LFxuICBwYXJzZVVybCxcbiAgc29ydEJ5S2V5LFxuICB0ZXN0Q29sb3JJc0hleFxufSk7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@cloudinary-util/util/dist/index.js\n");

/***/ })

};
;